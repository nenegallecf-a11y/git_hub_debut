performance.mark("js-parse-end:29904-8e9d3d248b6fdbf3.js");
"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([["29904"],{44877(e,l,a){a.d(l,{A:()=>n});let n={skeletonContainer:"TemplateList-module__skeletonContainer__Gf5HPmF",templateHeader:"TemplateList-module__templateHeader__VBwsSpB"}},74939(e,l,a){a.d(l,{A:()=>n});let n={issueFieldFormWrapper:"IssueFieldItem-module__issueFieldFormWrapper__IKgKXjj",issueFieldFormWrapperClickable:"IssueFieldItem-module__issueFieldFormWrapperClickable__xtOnaU6",small:"IssueFieldItem-module__small__gRO7kzH",issueFieldLabel:"IssueFieldItem-module__issueFieldLabel__BmTHncc",issueFieldValueText:"IssueFieldItem-module__issueFieldValueText__B13eCxi",isEditing:"IssueFieldItem-module__isEditing__UOvCP5K",hasValue:"IssueFieldItem-module__hasValue__Wley5Lf",issueFieldValueBtn:"IssueFieldItem-module__issueFieldValueBtn__f2mex_O",issueFieldActionButton:"IssueFieldItem-module__issueFieldActionButton__vJ3Gzgc",issueFieldTextError:"IssueFieldItem-module__issueFieldTextError__Cx9vkFE"}},76478(e,l,a){a.d(l,{A:()=>n});let n={container:"IssueFieldSingleSelectValueToken-module__container__jA65Evc",tokenText:"IssueFieldSingleSelectValueToken-module__tokenText__VfJnc1B",token:"IssueFieldSingleSelectValueToken-module__token__WE3pjt3",compactContainer:"IssueFieldSingleSelectValueToken-module__compactContainer__17xC7Zi",compactValueContainer:"IssueFieldSingleSelectValueToken-module__compactValueContainer__lqtOWy5",fieldEditorContainer:"IssueFieldSingleSelectValueToken-module__fieldEditorContainer__u_rvoyw",noValueContainer:"IssueFieldSingleSelectValueToken-module__noValueContainer__UkjBqKK"}},72238(e,l,a){a.d(l,{A:()=>n});let n={issueFieldTextInput:"IssueFieldTextToken-module__issueFieldTextInput__eVzIFEr",issueFieldTextTextarea:"IssueFieldTextToken-module__issueFieldTextTextarea__q6Gyd3T",issuesFieldTextInputContainer:"IssueFieldTextToken-module__issuesFieldTextInputContainer__GiAg893",issuesFieldTextError:"IssueFieldTextToken-module__issuesFieldTextError__g3g9G6E",issuesFieldToolbar:"IssueFieldTextToken-module__issuesFieldToolbar__udUzibT",issuesFieldToolbarActions:"IssueFieldTextToken-module__issuesFieldToolbarActions__yjzoZst",actionButton:"IssueFieldTextToken-module__actionButton__XbRuynO",issuesFieldText:"IssueFieldTextToken-module__issuesFieldText__HK9Zcvg",noValueContainer:"IssueFieldTextToken-module__noValueContainer__kYcIn_H"}},69371(e,l,a){a.d(l,{v:()=>n});function n(e){let l=e.toLocaleLowerCase();return"copilot-swe-agent"===l||"copilot"===l}},53092(e,l,a){a.d(l,{t:()=>c});var n=a(74848),t=a(38621),i=a(83223),s=a(63432),r=a(10095),o=a(96540),u=a(1571),d=a(34164);function c(e){let{contributingFileUrl:l,securityPolicyUrl:a,codeOfConductFileUrl:t,supportFileUrl:i}=e;return!(0,u.kA)()&&(l||a||t||i)?(0,n.jsx)(m,{...e}):null}function m({contributingFileUrl:e,securityPolicyUrl:l,codeOfConductFileUrl:a,supportFileUrl:u,sx:c,className:m}){let g=(0,o.useMemo)(()=>{let t=[];if(e&&t.push((0,n.jsx)(i.A,{inline:!0,href:e,children:"contributing guidelines"})),l&&t.push((0,n.jsx)(i.A,{inline:!0,href:l,children:"security policy"})),a&&t.push((0,n.jsx)(i.A,{inline:!0,href:a,children:"code of conduct"})),u&&t.push((0,n.jsx)(i.A,{inline:!0,href:u,children:"Support"})),1===t.length)return(0,n.jsx)(n.Fragment,{children:t[0]});let s=t.slice(0,-1),r=t[t.length-1];return(0,n.jsxs)(n.Fragment,{children:[s.map((e,l)=>(0,n.jsxs)(o.Fragment,{children:[e,(0,n.jsx)("span",{children:l!==s.length-1?", ":" "})]},l)),(0,n.jsxs)("span",{children:["and ",r]})]})},[e,l,a,u]);return(0,n.jsxs)(s.az,{"data-testid":"contributor-footer",sx:c,className:(0,d.$)("ContributorFooter-module__ContributorFooterContainer__bpraE27",m),children:[(0,n.jsx)(r.A,{icon:t.InfoIcon}),(0,n.jsxs)("div",{"data-testid":"contributor-footer-text",children:[(0,n.jsx)("span",{children:"Remember, contributions to this repository should follow its "}),(0,n.jsx)("span",{children:g}),(0,n.jsx)("span",{children:"."})]})]})}c.displayName="ContributorFooter",m.displayName="ContributorFooterContent"},90634(e,l,a){a.d(l,{C:()=>d});var n=a(74848),t=a(16522),i=a(85617),s=a(38621),r=a(34164);let o={copilotAvatar:"CopilotAvatar-module__copilotAvatar__EfHM7Me",small:"CopilotAvatar-module__small__L6YPzxK",medium:"CopilotAvatar-module__medium__JZItckV",large:"CopilotAvatar-module__large__NmDbQXu",defaultStyle:"CopilotAvatar-module__defaultStyle__tmnll__"},u={small:{default:12,minimal:16},medium:{default:16,minimal:20},large:{default:24,minimal:32}};function d(e){let l,a,d,c=(0,t.c)(10),{size:m,minimal:g,className:p}=e,y=void 0===m?"small":m,k=void 0!==g&&g,f=void 0===p?"":p,h=k?u[y].minimal:u[y].default,b=o[y],F=!k&&o.defaultStyle;return c[0]!==f||c[1]!==b||c[2]!==F?(l=(0,r.$)(o.copilotAvatar,b,F,f),c[0]=f,c[1]=b,c[2]=F,c[3]=l):l=c[3],c[4]!==h||c[5]!==y?(a="large"===y?(0,n.jsx)(i.N,{animationType:"static",loopAnimation:!0,size:h}):(0,n.jsx)(s.CopilotIcon,{size:h}),c[4]=h,c[5]=y,c[6]=a):a=c[6],c[7]!==l||c[8]!==a?(d=(0,n.jsx)("span",{className:l,"data-testid":"copilot-avatar",role:"img","aria-label":"Copilot avatar",children:a}),c[7]=l,c[8]=a,c[9]=d):d=c[9],d}d.displayName="CopilotAvatar"},5340(e,l,a){a.d(l,{O:()=>A});var n=a(74848),t=a(21927),i=a(85617),s=a(1695),r=a(3378),o=a(49159),u=a(94747),d=a(53107),c=a(32343),m=a(89563),g=a(38621),p=a(44472),y=a(4925),k=a(26108),f=a(59134),h=a(21373),b=a(65820),F=a(34164),I=a(96540);let S="Failed to generate content with Copilot. Please try again.",_="Discard changes?",x="You have made edits to the generated content. Discarding will lose your changes.",C="Discard",v="Cancel",j="Try again?",T="You have made edits to the generated content. Trying again will replace your changes with new generated content.",K="Try again",L="Cancel",N="CopilotGenerateDescriptionPanel-module__actionButton__czV1mXd",P=`- Provide a clear, comprehensive issue body in markdown format that explains the problem, context, and any relevant details. Keep it clear and concise.
- If there is an existing body that has a structure (template), work with the template. DO NOT change the template unless instructed.
- Return the body in a markdown format, unwrapped by \`\`\`markdown tags.
- Only work with information you have. The length of the issue should be proportional to the information provided.
- Try to focus updates on the portions of the body that are relevant to the user's request.
- When the user should be directed to edit portions of the returned body, explicitly put areas to edit [inside brackets with instructions]. Do not add meta instructions outside the main body content.`,E=`You are a helpful assistant that helps users create and refine GitHub issue titles and descriptions.
Your task is to take the user's input and the current issue title and body, and create or improve them.

For the issue body:

${P}

For the issue title:
- Only update the title if it reflects incorrect or incomplete information based on the user's request.

Return your response as a JSON object with "title" and "body" fields.`,w=`You are a helpful assistant that helps users refine GitHub issue descriptions.
Your task is to take the user's input and the current issue body, and improve it.

For the issue body:

${P}

Return your response as a JSON object with "title" and "body" fields. The "title" field should be the same as the current title provided in the context.`;function A({isOpen:e,onClose:l,onGenerate:a,repoOwner:o,repoName:P,title:A,body:R,className:M,onPendingChange:O,onStateChange:B,anchorPosition:$="top",onHeightChange:U,editorRef:H,generateTitle:q=!0}){let[G,W]=(0,I.useState)(""),[z,Q]=(0,I.useState)("initial"),[Y,X]=(0,I.useState)(""),Z=(0,I.useRef)(A),J=(0,I.useRef)(R),ee=(0,I.useRef)(e),el=(0,I.useRef)(A),ea=(0,I.useRef)(R),en=(0,I.useRef)(null),et=(0,I.useRef)(null),ei=(0,I.useRef)(new s.JR([])),es=(0,p.S)(),er=(0,I.useRef)(null),{sendAnalyticsEvent:eo}=(0,c.s)(),eu=(0,I.useRef)(null),ed=(0,I.useRef)(null),ec=(0,I.useMemo)(()=>(0,d.Xl)(),[]),em=(0,m.S)({minHeightLines:1,maxHeightLines:10,elementRef:eu,value:G}),[eg,ep]=(0,I.useState)(void 0);(0,I.useLayoutEffect)(()=>{if(!e)return;let l=H?.current?.inputRef.current;if(!l)return;let a=()=>{let e=ed.current?.offsetParent;if(!e)return;let a=l.getBoundingClientRect(),n=e.getBoundingClientRect();if("top"===$)ep(a.top-n.top);else{let e=parseFloat(getComputedStyle(l).paddingBottom)||0;ep(a.bottom-n.top-e-16)}};a();let n=new ResizeObserver(()=>{a()});return l.parentElement&&n.observe(l.parentElement),ed.current&&n.observe(ed.current),()=>{n.disconnect()}},[$,H,e]),(0,I.useEffect)(()=>{e&&!ee.current&&(Z.current=A,J.current=R),ee.current=e},[e,A,R]),(0,I.useEffect)(()=>{B?.(z)},[z,B]);let ey=(0,I.useMemo)(()=>{switch(z){case"initial":return"How can I help you write your issue?";case"suggested":return"I've updated the issue title and description above.";case"error":return S;default:return""}},[z]),{mutate:ek,isPending:ef}=(0,u.n)({mutationFn:async e=>{er.current=new AbortController;let l=`${(0,t._$)().copilotApiOverrideUrl||"https://api.githubcopilot.com"}/chat/completions`,a={Authorization:(await ei.current.getAuthToken()).authorizationHeaderValue,"copilot-integration-id":"copilot-embedded-experience","Content-Type":"application/json"},n=`Current title: ${A||"(empty)"}
Current body: ${R||"(empty)"}

User's request: ${e}`;if(n.length>5e4)throw Error("Input is too large. Please reduce the length of your title, description, or request.");let i={messages:[{role:"system",content:q?E:w},{role:"user",content:n}],model:"gpt-4o-mini",stream:!1,temperature:.3,response_format:{type:"json_schema",json_schema:{name:"issue_content",strict:!0,schema:{type:"object",properties:{title:{type:"string",description:"The improved or generated issue title"},body:{type:"string",description:"The improved or generated issue body/description"}},required:["title","body"],additionalProperties:!1}}}},s=await fetch(l,{method:"POST",headers:a,body:JSON.stringify(i),signal:er.current.signal});if(!s.ok)throw Error(`API request failed with status ${s.status}`);let r=await s.json(),o=r.choices?.[0]?.message?.content;if(!o)throw Error("No content in response");let u=JSON.parse(o);if(!u.body)throw Error("Invalid response structure");return u},onSuccess:(e,l)=>{Q("suggested"),en.current=e.title,et.current=e.body,a(e.title,e.body),W(""),eo("analytics.click","ISSUE_CREATE_GENERATE_DESCRIPTION_WITH_COPILOT_PANEL",{repoNWO:`${o}/${P}`,hasTitle:!!A,hasExistingDescription:!!R,success:!0}),D()},onError:(e,l)=>{"AbortError"===e.name?Q("initial"):(Q("error"),eo("analytics.click","ISSUE_CREATE_GENERATE_DESCRIPTION_WITH_COPILOT_PANEL",{repoNWO:`${o}/${P}`,hasTitle:!!A,hasExistingDescription:!!R,success:!1,error:e.message}),D(e.message))}}),eh=(0,I.useCallback)(e=>{"accepted"===e?V("accepted"):"discarded"===e?V("discarded"):null!==en.current||null!==et.current?V("closed_with_changes"):V("closed_without_changes"),W(""),Q("initial"),X(""),el.current=A,ea.current=R,en.current=null,et.current=null,l()},[l,A,R]),eb=(0,I.useCallback)(()=>{er.current?.abort()},[]),eF=(0,I.useCallback)(()=>{G.trim()&&!ef&&(el.current=A,ea.current=R,X(G),Q("loading"),ek(G))},[G,ef,ek,A,R]),eI=(0,I.useCallback)(async()=>{(null===en.current||null===et.current||A===en.current&&R===et.current||await es({title:_,content:x,confirmButtonContent:C,confirmButtonType:"danger",cancelButtonContent:v}))&&(a(Z.current,J.current),eh("discarded"))},[a,eh,A,R,es]),eS=(0,I.useCallback)(async()=>{!Y||(null===en.current||null===et.current||A===en.current&&R===et.current||await es({title:j,content:T,confirmButtonContent:K,confirmButtonType:"danger",cancelButtonContent:L}))&&(V("retried"),a(el.current,ea.current),Q("loading"),ek(Y))},[Y,ek,a,A,R,es]),e_=(0,I.useCallback)(e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),eF())},[eF]);return((0,I.useEffect)(()=>{e&&eu.current&&eu.current.focus()},[e]),(0,I.useEffect)(()=>{O?.(ef)},[ef,O]),(0,I.useEffect)(()=>()=>{O?.(!1)},[]),(0,I.useEffect)(()=>()=>{er.current?.abort()},[]),(0,I.useLayoutEffect)(()=>{if(!e||!ed.current||!U)return;U(ed.current.getBoundingClientRect().height+16);let l=new ResizeObserver(e=>{for(let l of e)U((l.borderBoxSize?.[0]?.blockSize??l.target.getBoundingClientRect().height)+16)});return l.observe(ed.current),()=>{l.disconnect(),U(0)}},[e,U]),e)?(0,n.jsxs)("div",{ref:ed,className:(0,F.$)("CopilotGenerateDescriptionPanel-module__container__ChmZaqN","top"===$?"CopilotGenerateDescriptionPanel-module__anchorTop__bVcu16d":"bottom"===$?"CopilotGenerateDescriptionPanel-module__anchorBottom__UbXRMI2":void 0,M),style:void 0!==eg?{top:`${eg}px`}:void 0,role:"region","aria-label":"Generate with Copilot",children:[!ef&&(0,n.jsxs)("div",{className:"CopilotGenerateDescriptionPanel-module__closeButtonContainer__cPLJsjx",children:[ec&&(0,n.jsx)("a",{href:"https://gh.io/write-with-copilot-feedback",target:"_blank",rel:"noopener noreferrer",className:"CopilotGenerateDescriptionPanel-module__staffPillLink__I3_kAJ8",children:(0,n.jsx)(y.A,{variant:"accent",children:"Staff"})}),(0,n.jsx)(k.K,{"aria-label":"Close",icon:g.XIcon,variant:"invisible",onClick:()=>eh()})]}),ey&&(0,n.jsxs)("div",{className:"CopilotGenerateDescriptionPanel-module__messageRow__NwOtrYV",children:[(0,n.jsx)("div",{className:"CopilotGenerateDescriptionPanel-module__iconContainer__w5bht8d",children:(0,n.jsx)(g.CopilotIcon,{size:16})}),(0,n.jsxs)("div",{className:"CopilotGenerateDescriptionPanel-module__messageContent__jQExxGR",children:[(0,n.jsx)("div",{className:"CopilotGenerateDescriptionPanel-module__messageLabel__cnKEZ8X",children:(0,n.jsx)("span",{children:"Copilot"})}),ey===S?(0,n.jsx)("div",{className:"CopilotGenerateDescriptionPanel-module__errorContainer__zG6YrUx",children:(0,n.jsxs)(f.A,{variant:"danger",children:[(0,n.jsx)(g.AlertIcon,{}),ey]})}):(0,n.jsx)("div",{className:"CopilotGenerateDescriptionPanel-module__messageText__gzMLFYn",children:(0,n.jsx)("span",{children:ey})})]})]}),ef&&(0,n.jsxs)("div",{className:"CopilotGenerateDescriptionPanel-module__loadingContainer__RWh0dAR","aria-live":"polite","aria-atomic":"true",role:"status",children:[(0,n.jsx)(i.N,{animationType:i.L.Thinking,loopAnimation:!0,size:20}),(0,n.jsx)("span",{className:"CopilotGenerateDescriptionPanel-module__loadingLabel__MIL3py5",children:"Copilot"}),(0,n.jsx)(r.b,{className:"CopilotGenerateDescriptionPanel-module__loadingText__GCyqsH6",children:"Writing\u2026"}),(0,n.jsx)(k.K,{"aria-label":"Stop generation",icon:g.SquareFillIcon,size:"small",onClick:eb})]}),"suggested"===z&&!ef&&(0,n.jsxs)("div",{className:"CopilotGenerateDescriptionPanel-module__actionButtons__UC5Qc_E",children:[(0,n.jsx)(h.Q,{size:"small",variant:"invisible",className:N,leadingVisual:g.CheckIcon,onClick:()=>eh("accepted"),children:"Accept"}),(0,n.jsx)(h.Q,{size:"small",variant:"invisible",className:N,leadingVisual:g.XIcon,onClick:eI,children:"Discard"}),(0,n.jsx)(h.Q,{size:"small",variant:"invisible",className:N,leadingVisual:g.SyncIcon,onClick:eS,children:"Try again"})]}),!ef&&(0,n.jsxs)("div",{className:"CopilotGenerateDescriptionPanel-module__inputArea__dYo4XBZ",children:[(0,n.jsx)(b.Ay,{ref:eu,value:G,onChange:e=>W(e.target.value),onKeyPress:e_,placeholder:"Type your message here...",rows:1,resize:"none",block:!0,className:"CopilotGenerateDescriptionPanel-module__textarea__lfSG9DT",style:em}),(0,n.jsx)(k.K,{className:"CopilotGenerateDescriptionPanel-module__sendButton__cmVxjGz","aria-label":"Send",icon:g.PaperAirplaneIcon,variant:"invisible",onClick:eF,disabled:""===G.trim()})]})]}):null}function V(e){(0,o.BI)("copilot.create_issue_description_panel",{action:e})}function D(e){(0,o.BI)("copilot.create_issue_description_panel",{error:e})}A.displayName="CopilotGenerateDescriptionPanel"},63640(e,l,a){a.d(l,{F:()=>s});var n=a(16522),t=a(23131),i=a(96540);function s(e){let l,a,s,r,o,u,d,c,m,g=(0,n.c)(48),{editorRef:p,body:y,onChange:k,shouldShowCopilotFunctionality:f,repoOwner:h,repoName:b,title:F,generateTitle:I,commandId:S,canToggle:_}=e,x=void 0===h?"":h,C=void 0===b?"":b,v=void 0===F?"":F,j=void 0!==I&&I,T=void 0===S?"copilot-panel:toggle":S,K=void 0===_||_,[L,N]=(0,i.useState)(!1),[P,E]=(0,i.useState)(!1),[w,A]=(0,i.useState)(0);g[0]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.G7)("write_issue_body_with_copilot"),g[0]=l):l=g[0];let V=l&&void 0!==f&&f&&!!x&&!!C;g[1]!==p?(a=()=>{N(!1),p.current?.focus()},g[1]=p,g[2]=a):a=g[2];let D=a;g[3]!==K||g[4]!==D||g[5]!==P||g[6]!==L||g[7]!==V?(s=()=>{V&&!P&&K&&(L?D():N(!0))},g[3]=K,g[4]=D,g[5]=P,g[6]=L,g[7]=V,g[8]=s):s=g[8];let R=s;g[9]!==j||g[10]!==k?(r=(e,l)=>{k(l,j?e:void 0)},g[9]=j,g[10]=k,g[11]=r):r=g[11];let M=r;g[12]!==y||g[13]!==L?(o=()=>{L&&!y.trim()&&N(!1)},g[12]=y,g[13]=L,g[14]=o):o=g[14];let O=o;g[15]!==T||g[16]!==R?(u={[T]:R},g[15]=T,g[16]=R,g[17]=u):u=g[17];let B=u,$=y.trim()||P?"bottom":"top";e:{if(L){let e,l;g[18]!==y||g[19]!==P||g[20]!==w?(e=y.trim()||P?`${w}px`:void 0,g[18]=y,g[19]=P,g[20]=w,g[21]=e):e=g[21];let a=`${w+100}px`;g[22]!==e||g[23]!==a?(l={"--markdown-input-bottom-padding":e,"--markdown-editor-min-height":a},g[22]=e,g[23]=a,g[24]=l):l=g[24],d=l;break e}d=void 0}let U=d;g[25]!==$||g[26]!==y||g[27]!==D||g[28]!==p||g[29]!==j||g[30]!==M||g[31]!==L||g[32]!==C||g[33]!==x||g[34]!==v?(c={isOpen:L,onClose:D,onGenerate:M,repoOwner:x,repoName:C,title:v,body:y,onPendingChange:E,anchorPosition:$,onHeightChange:A,editorRef:p,generateTitle:j},g[25]=$,g[26]=y,g[27]=D,g[28]=p,g[29]=j,g[30]=M,g[31]=L,g[32]=C,g[33]=x,g[34]=v,g[35]=c):c=g[35];let H=c;return g[36]!==D||g[37]!==B||g[38]!==U||g[39]!==M||g[40]!==O||g[41]!==P||g[42]!==L||g[43]!==w||g[44]!==H||g[45]!==V||g[46]!==R?(m={isPanelOpen:L,isGenerating:P,panelHeight:w,shouldShowCopilot:V,togglePanel:R,closePanel:D,handleGenerate:M,handleInputFocus:O,commands:B,panelProps:H,containerStyle:U,setIsGenerating:E,setPanelHeight:A},g[36]=D,g[37]=B,g[38]=U,g[39]=M,g[40]=O,g[41]=P,g[42]=L,g[43]=w,g[44]=H,g[45]=V,g[46]=R,g[47]=m):m=g[47],m}},74519(e,l,a){a.d(l,{Hy:()=>i,Rp:()=>t,pf:()=>s});var n=a(68695);async function t(e){let l=await (0,n.DI)(`/orgs/${e}/member_feature_request`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({feature:"copilot_coding_agent"})});if(!l.ok){let e={};try{e=await l.json()}catch{}throw Error(e.error||"Failed to create request")}}async function i(e){if(!(await (0,n.DI)(`/orgs/${e}/member_feature_request?feature=copilot_coding_agent`,{method:"DELETE"})).ok)throw Error("Failed to cancel request")}async function s(e){let l=await (0,n.DI)(`/organizations/${e}/settings/copilot/policies`,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({swe_agent:"enabled"})});if(!l.ok){let e={};try{e=await l.json()}catch{}throw Error(e.message||"Failed to enable feature")}}},48030(e,l,a){a.d(l,{x:()=>u});var n=a(74848),t=a(17360),i=a(94468),s=a(96540),r=a(76434);let o=[];function u({tone:e,...l}){let[a,u]=(0,s.useState)(),d=(0,r.P)(void 0!==a),{calculateSuggestions:c,trigger:m}=(0,i.xf)(d.isPending?"loading":d.data??o,{tone:e}),g=(0,s.useMemo)(()=>void 0!==a?c(a):null,[a,c]);return(0,n.jsx)(t.a,{triggers:[m],suggestions:g,onShowSuggestions:({query:e})=>u(e),onHideSuggestions:()=>u(void 0),...l})}u.displayName="EmojiAutocomplete"},87179(e,l,a){a.d(l,{KG:()=>u,O_:()=>i,QK:()=>o,iy:()=>r,sT:()=>s,wY:()=>t});let n={maxBodyLength:65536,maxIssueTitleLength:256,maxViewTitleLength:1024},t={...n,titleCanNotBeEmpty:"Title can not be empty",fieldCanNotBeEmpty:"Field can not be empty",issueTitleExceedsMaxLength:`Title can not be longer than ${n.maxIssueTitleLength} characters`,viewTitleExceedsMaxLength:`Title can not be longer than ${n.maxViewTitleLength} characters`,issueBodyExceedsMaxLength:`Body can not be longer than ${n.maxBodyLength} characters`,fieldExceedsMaxLength:`Field can not be longer than ${n.maxBodyLength} characters`,commentBodyEmpty:"Comment can not be empty",checkboxInAGroupMustBeSelected:"A required checkbox is missing",missingDropdownSelection:"An option must be selected",noChangesToSave:"No changes to save"};function i(e){return 0===e.trim().length?{isValid:!1,errorMessage:t.titleCanNotBeEmpty}:e.length>t.maxIssueTitleLength?{isValid:!1,errorMessage:t.issueTitleExceedsMaxLength}:{isValid:!0}}function s(e,l){return 0===e.trim().length&&l?{isValid:!1,errorMessage:t.fieldCanNotBeEmpty}:e.length>t.maxBodyLength?{isValid:!1,errorMessage:t.fieldExceedsMaxLength}:{isValid:!0}}function r(e){return 0===e.trim().length?{isValid:!1,errorMessage:t.titleCanNotBeEmpty}:e.length>t.maxViewTitleLength?{isValid:!1,errorMessage:t.viewTitleExceedsMaxLength}:{isValid:!0}}function o(e){return e.length>t.maxBodyLength?{isValid:!1,errorMessage:t.issueBodyExceedsMaxLength}:{isValid:!0}}function u(e){return 0===e.length?{isValid:!1,errorMessage:t.commentBodyEmpty}:{isValid:!0}}},83177(e,l,a){a.d(l,{O:()=>t});var n=a(91271);let t=(e,l)=>(0,n.dt)(e,l)>n.IP},39567(e,l,a){a.d(l,{$w:()=>o,Sr:()=>d,r:()=>u});var n=a(32764),t=a(37186);function i(e){return(0,t.rx)()?{...e,"aria-keyshortcuts":t.IX}:e}function s(e){return i({...e,"octo-click":"hovercard-link-click","octo-dimensions":"link_type:self"})}let r={user:{ariaLabel:"User Hovercard"},organization:{ariaLabel:"Organization Hovercard"},copilot:{ariaLabel:"Copilot Hovercard"},team:{ariaLabel:"Team Hovercard",enablementSelector:"[data-team-hovercards-enabled]"},issue:{ariaLabel:"Issue Hovercard",enablementSelector:"[data-issue-and-pr-hovercards-enabled]"},pull_request:{ariaLabel:"Pull Request Hovercard",enablementSelector:"[data-issue-and-pr-hovercards-enabled]"},commit:{ariaLabel:"Commit Hovercard",enablementSelector:"[data-commit-hovercards-enabled]"},repository:{ariaLabel:"Repository Hovercard",enablementSelector:"[data-repository-hovercards-enabled]"},discussion:{ariaLabel:"Discussion Hovercard",enablementSelector:"[data-discussion-hovercards-enabled]"},project:{ariaLabel:"Project Hovercard",enablementSelector:"[data-project-hovercards-enabled]"},sponsors_listing:{ariaLabel:"Sponsors Hovercard",enablementSelector:"[data-sponsors-listing-hovercards-enabled]"},acv_badge:{ariaLabel:"Arctic Code Vault Badge",enablementSelector:"[data-acv-badge-hovercards-enabled]"},advisory:{ariaLabel:"Advisory Hovercard"},cwe:{ariaLabel:"CWE Hovercard"},achievement:{ariaLabel:"Achievement Hovercard"},tracked_in:{ariaLabel:"Tracked In Hovercard"},tracking:{ariaLabel:"Tracking Hovercard"},security_alert:{ariaLabel:"Security Alert Hovercard"},dependabot_alert:{ariaLabel:"Dependabot Alert Hovercard"},dependency_graph_package:{ariaLabel:"Package Hovercard"},integration:{ariaLabel:"Integration Hovercard"},profile_highlight:{ariaLabel:"Profile Highlight Hovercard"}};function o(e){return e?r[e]?.ariaLabel??"Hovercard":"Hovercard"}function u(e,l){if(!l)return!0;let a=r[l]?.enablementSelector;return!a||!!e.closest(a)}function d(e,{isCopilot:l=!1,tracking:a=!0,isAgent:t=!1}={}){if(l||t){let l=(0,n._nf)({bot_slug:e});return a?s(i({"data-hovercard-url":l,"data-hovercard-type":"copilot"})):i({"data-hovercard-url":l,"data-hovercard-type":"copilot"})}{let l=(0,n.dCN)({owner:e});return a?s(i({"data-hovercard-url":l,"data-hovercard-type":"user"})):i({"data-hovercard-url":l,"data-hovercard-type":"user"})}}},37186(e,l,a){let n,t;function i(){if("u"<typeof document)return!0;if(void 0!==n)return n;let e=document.querySelector("meta[name=hovercards-preference]");return n=e?.content==="true"||null===e}function s(){if("u"<typeof document)return!0;if(void 0!==t)return t;if(!i())return t=!1,!1;let e=document.querySelector("meta[name=announcement-preference-hovercard]");return t=e?.content==="true"||null===e}a.d(l,{IX:()=>r,mM:()=>i,rx:()=>s});let r="Alt+ArrowUp"},55222(e,l,a){a.d(l,{Y:()=>n});let n={issueBody:"issue-body",bodyLoading:"body-loading",commentBox:(e="")=>`markdown-editor-${e}`,projectTitle:"project-title"}},91495(e,l,a){a.d(l,{E:()=>eh,d:()=>ef});var n,t,i,s,r,o,u,d,c,m,g,p,y,k,f,h,b,F,I,S,_,x,C,v,j,T,K,L,N,P,E,w,A,V,D,R,M,O=a(74848);let B=(n={defaultValue:null,kind:"LocalArgument",name:"filename"},t={defaultValue:null,kind:"LocalArgument",name:"repoId"},i=[{kind:"Variable",name:"id",variableName:"repoId"}],s=[{kind:"Variable",name:"filename",variableName:"filename"}],r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"filename",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"body",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},f={alias:null,args:[m={kind:"Literal",name:"first",value:20},{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"NAME"}}],concreteType:"LabelConnection",kind:"LinkedField",name:"labels",plural:!1,selections:[{alias:null,args:null,concreteType:"LabelEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"node",plural:!1,selections:[g={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:'labels(first:20,orderBy:{"direction":"ASC","field":"NAME"})'},S={alias:null,args:h=[{kind:"Literal",name:"first",value:10}],concreteType:"UserConnection",kind:"LinkedField",name:"assignees",plural:!1,selections:[{alias:null,args:null,concreteType:"UserEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[r,g,b={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},o,F={alias:null,args:null,kind:"ScalarField",name:"profileResourcePath",storageKey:null},I={alias:null,args:[{kind:"Literal",name:"size",value:64}],kind:"ScalarField",name:"avatarUrl",storageKey:"avatarUrl(size:64)"}],type:"Actor",abstractKey:"__isActor"}],storageKey:null}],storageKey:null}],storageKey:"assignees(first:10)"},_={alias:null,args:null,kind:"ScalarField",name:"isEnabled",storageKey:null},C={kind:"InlineFragment",selections:x=[g,o,{alias:null,args:null,kind:"ScalarField",name:"dataType",storageKey:null}],type:"IssueFieldText",abstractKey:null},K={alias:null,args:null,concreteType:"IssueType",kind:"LinkedField",name:"type",plural:!1,selections:[g,o,_,y,p,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"pinnedFields",plural:!0,selections:[r,C,v={kind:"InlineFragment",selections:x,type:"IssueFieldSingleSelect",abstractKey:null},j={kind:"InlineFragment",selections:x,type:"IssueFieldDate",abstractKey:null},T={kind:"InlineFragment",selections:x,type:"IssueFieldNumber",abstractKey:null}],storageKey:null}],storageKey:null},L={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]},N={alias:null,args:[m],concreteType:"ProjectV2Connection",kind:"LinkedField",name:"projects",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2Edge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"node",plural:!1,selections:[g,c,{alias:null,args:null,kind:"ScalarField",name:"closed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"number",storageKey:null},k,{alias:null,args:null,kind:"ScalarField",name:"viewerCanUpdate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasReachedItemsLimit",storageKey:null},r],storageKey:null}],storageKey:null}],storageKey:"projects(first:20)"},P={alias:null,args:h,concreteType:"UserConnection",kind:"LinkedField",name:"assignees",plural:!1,selections:[{alias:null,args:null,concreteType:"UserEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[g,{kind:"InlineFragment",selections:[r,b,o,F,I],type:"Actor",abstractKey:"__isActor"}],storageKey:null}],storageKey:null}],storageKey:"assignees(first:10)"},E={alias:null,args:null,concreteType:"IssueType",kind:"LinkedField",name:"type",plural:!1,selections:[g,o,_,y,p,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"pinnedFields",plural:!0,selections:[r,C,v,j,T,{kind:"InlineFragment",selections:[g],type:"Node",abstractKey:"__isNode"}],storageKey:null}],storageKey:null},{fragment:{argumentDefinitions:[n,t],kind:"Fragment",metadata:null,name:"CreateIssueQuery",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{kind:"InlineDataFragmentSpread",name:"useHandleTemplateChange",selections:[{alias:null,args:s,concreteType:"IssueTemplate",kind:"LinkedField",name:"issueTemplate",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"useHandleTemplateChangeIssueTemplate",selections:[r,o,u,d,c,f,S,K,L],args:null,argumentDefinitions:[]}],storageKey:null},{alias:null,args:s,concreteType:"IssueForm",kind:"LinkedField",name:"issueForm",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"useHandleTemplateChangeIssueForm",selections:[r,o,u,c,{kind:"InlineDataFragmentSpread",name:"IssueFormElements_templateElements",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"elements",plural:!0,selections:[r,{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"TextInputElement_input"}],type:"IssueFormElementInput",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"TextAreaElement_input"}],type:"IssueFormElementTextarea",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"MarkdownElement_input"}],type:"IssueFormElementMarkdown",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"DropdownElement_input"}],type:"IssueFormElementDropdown",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"CheckboxesElement_input"}],type:"IssueFormElementCheckboxes",abstractKey:null}],storageKey:null}],args:null,argumentDefinitions:[]},f,S,N,K,L],args:null,argumentDefinitions:[]}],storageKey:null}],args:s,argumentDefinitions:[{defaultValue:"",kind:"LocalArgument",name:"filename"}]}],type:"Repository",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[t,n],kind:"Operation",name:"CreateIssueQuery",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[r,g,{kind:"InlineFragment",selections:[{alias:null,args:s,concreteType:"IssueTemplate",kind:"LinkedField",name:"issueTemplate",plural:!1,selections:[r,o,u,d,c,f,P,E,L],storageKey:null},{alias:null,args:s,concreteType:"IssueForm",kind:"LinkedField",name:"issueForm",plural:!1,selections:[r,o,u,c,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"elements",plural:!0,selections:[r,{kind:"InlineFragment",selections:[w={alias:"itemId",args:null,kind:"ScalarField",name:"id",storageKey:null},A={alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},V={alias:null,args:null,kind:"ScalarField",name:"descriptionHTML",storageKey:null},D={alias:null,args:null,kind:"ScalarField",name:"placeholder",storageKey:null},R={alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null},M={alias:null,args:null,kind:"ScalarField",name:"required",storageKey:null},L],type:"IssueFormElementInput",abstractKey:null},{kind:"InlineFragment",selections:[w,A,V,D,R,M,{alias:null,args:null,kind:"ScalarField",name:"render",storageKey:null},L],type:"IssueFormElementTextarea",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"contentHTML",storageKey:null}],type:"IssueFormElementMarkdown",abstractKey:null},{kind:"InlineFragment",selections:[w,A,V,{alias:null,args:null,kind:"ScalarField",name:"options",storageKey:null},M,{alias:null,args:null,kind:"ScalarField",name:"multiple",storageKey:null},{alias:"defaultOptionIndex",args:null,kind:"ScalarField",name:"default",storageKey:null},L],type:"IssueFormElementDropdown",abstractKey:null},{kind:"InlineFragment",selections:[w,A,V,{alias:"checkboxOptions",args:null,concreteType:"IssueFormElementCheckboxOption",kind:"LinkedField",name:"options",plural:!0,selections:[A,{alias:null,args:null,kind:"ScalarField",name:"labelHTML",storageKey:null},M],storageKey:null},L],type:"IssueFormElementCheckboxes",abstractKey:null}],storageKey:null},f,P,N,E,L],storageKey:null}],type:"Repository",abstractKey:null}],storageKey:null}]},params:{id:"9e2b24072388cd7bd7820cba1fdd5d49",metadata:{},name:"CreateIssueQuery",operationKind:"query",text:null}});B.hash="a07055edea10e255144aa55d8c188972";let $={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"includeTemplates"}],kind:"Fragment",metadata:null,name:"CreateIssue",selections:[{condition:"includeTemplates",kind:"Condition",passingValue:!0,selections:[{args:null,kind:"FragmentSpread",name:"TemplatePickerButton"},{args:null,kind:"FragmentSpread",name:"TemplateListPane"}]}],type:"Repository",abstractKey:null};$.hash="8a3f411e97612f6b11008dffb70a56f0";var U=a(23131),H=a(53696),q=a(96540),G=a(18312),W=a(54270),z=a(18854),Q=a(63336),Y=a(38603),X=a(76925),Z=a(4774);let J=Z.k.crossRepoIssueDuplicationDefaultWarning;function ee({onCreateSuccess:e,topRepositories:l,issueFormRef:a,...n}){let{title:t,body:i,setBody:s,repository:r,setNewTitle:o,clearSessionData:u}=(0,Q.u)(),{onRepositoryChange:d,notice:c,sourceRepository:m}=(()=>{let{repository:e,setRepository:l,assignees:a,setAssignees:n,issueType:t,setIssueType:i,issueFields:s,setIssueFields:r,milestone:o,setMilestone:u,labels:d,setLabels:c}=(0,Q.u)(),[m,g]=(0,q.useState)({repository:e,assignees:a,issueType:t,issueFields:s,milestone:o,labels:d}),[p,y]=(0,q.useState)(J),k=(0,q.useCallback)(e=>{if(!e)return;let a=[],t=e.id===m.repository?.id,s=e.owner?.databaseId===m.repository?.owner?.databaseId;t?(n?.(m.assignees),r?.(m.issueFields),i?.(m.issueType),u?.(m.milestone),c?.(m.labels)):(u?.(null),a.push("Milestone","Labels"),s?(n?.(m.assignees),r?.(m.issueFields),i?.(m.issueType)):(n?.([]),r?.([]),i?.(null),a.push("Assignees"),m.repository?.owner?.issueTypesEnabled&&a.push("Type"))),y(a.length>0?Z.k.crossRepoIssueDuplicationWarning(a):J),l(e)},[m,n,r,i,c,u,l]);return(0,q.useEffect)(()=>{e?.databaseId===m.repository?.databaseId&&g({repository:e,assignees:a,issueType:t,issueFields:s,milestone:o,labels:d})},[e,a,t,s,o,d,m.repository?.databaseId]),{onRepositoryChange:k,notice:p,sourceRepository:m.repository}})(),g=(0,U.G7)("issues_react_select_panel_fullscreen_on_narrow"),p=(0,q.useCallback)(e=>e.id===m?.id?e.viewerIssueCreationPermissions.triageable:e.viewerIssueCreationPermissions.triageable&&e.isBlankIssuesEnabled,[m?.id]);return(0,O.jsx)(O.Fragment,{children:l&&r&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(Y.f0,{"aria-describedby":"Choose repository to duplicate issue in",initialRepository:r,topRepositories:l,onSelect:d,focusRepositoryPicker:!0,enforceAtleastOneSelected:!0,options:{hasIssuesEnabled:!0},notice:{text:c,variant:"warning"},repositoryFilter:p,responsiveOnNarrow:g}),(0,O.jsx)(X.e,{...n,showSimilarIssues:!1,issueFormRef:a,onCreateSuccess:e,repository:r,title:t,setTitle:o,body:i,setBody:s,clearOnCreate:u,focusTitleInput:!1})]})})}ee.displayName="CreateDuplicateIssueForm";var el=a(15048),ea=a(58254),en=a(51639),et=a(44877);let ei=["220px","250px","290px","210px"].map((e,l)=>({id:`skeleton-${l}`,width:e}));function es(){let{optionConfig:e}=(0,z.a)();return(0,O.jsx)("div",{className:`${et.A.skeletonContainer} ${e.insidePortal&&"ml-3"}`,children:ei.map(({id:e,width:l})=>(0,O.jsx)(en.Q,{height:"xl",width:l},e))})}es.displayName="TemplateListLoading";var er=a(92567);function eo({repository:e,topRepositories:l,organization:a,onRepositorySelected:n,onTemplateSelected:t}){let{optionConfig:i}=(0,z.a)(),s=(0,q.useId)(),r=i.insidePortal?"ml-3":"ml-0";return(0,O.jsxs)("div",{className:i.insidePortal?"pt-2":"","data-testid":ea.Y.repositoryAndTemplateDialog,children:[(0,O.jsx)(eu,{className:r,name:"Repository"}),(0,O.jsx)("div",{className:`${i.insidePortal?"mb-2":"mb-3"} ${r}`,children:(0,O.jsx)(Y.f0,{"aria-describedby":s,initialRepository:e,onSelect:n,organization:a,topRepositories:l,focusRepositoryPicker:!0,enforceAtleastOneSelected:!0,options:{hasIssuesEnabled:!0,includeForks:!0}})}),(0,O.jsx)(q.Suspense,{fallback:(0,O.jsx)(es,{}),children:e&&(0,O.jsx)(er.N,{repositoryId:e.id,onTemplateSelected:t,descriptionId:s})})]})}function eu({name:e,className:l}){return(0,O.jsxs)("div",{className:`pt-1 pb-1 ${l}`,children:[(0,O.jsx)("span",{className:"text-bold",children:e}),(0,O.jsx)("span",{className:"ml-1 mb-1 fgColor-danger",children:"*"})]})}eo.displayName="RepositoryAndTemplatePicker",eu.displayName="Field";let ed={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TemplatePickerButton",selections:[{alias:null,args:null,kind:"ScalarField",name:"nameWithOwner",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasAnyTemplates",storageKey:null}],type:"Repository",abstractKey:null};ed.hash="fc9ace64aa764ca00db0ea2f61b67a2b";var ec=a(38621),em=a(21373);a(69487);var eg=a(73003);function ep({repository:e,template:l}){let a=(0,G.useFragment)(ed,e),{setDisplayMode:n}=(0,z.a)(),t=l?l.name:Z.k.blankIssueName,i=(0,q.useRef)(null);return((0,q.useEffect)(()=>{i.current?.focus()},[]),a.hasAnyTemplates)?(0,O.jsx)("div",{"data-testid":"template-picker-button",className:"TemplatePickerButton-module__TemplatePickerButtonContainer__dYf3yaT",children:(0,O.jsxs)(em.Q,{"data-testid":"template-picker-button-el",onClick:()=>n(eg.q.TemplatePicker),leadingVisual:ec.RepoIcon,trailingVisual:ec.PencilIcon,ref:i,children:[a&&(0,O.jsxs)("span",{children:[t," ",(0,O.jsx)("span",{className:"TemplatePickerButton-module__repositoryConnectorText__PFL4Ap9",children:"in"})," ",a.nameWithOwner]}),!e&&(0,O.jsx)(O.Fragment,{children:"Select a repository"})]})}):null}ep.displayName="TemplatePickerButton";var ey=a(44181),ek=a(68488);let ef=B,eh=({topRepositories:e,navigate:l,currentRepository:a,onCreateSuccess:n,issueFormRef:t,...i})=>{let s=(0,G.useFragment)($,a),{addToast:r}=(0,H.Y6)(),o=(0,G.useRelayEnvironment)(),{title:u,body:d,setBody:c,repository:m,setRepository:g,template:p,setNewTitle:y,resetMetadata:k,clearSessionData:f}=(0,Q.u)(),{optionConfig:h,displayMode:b,initialDefaultDisplayMode:F,setDisplayMode:I,setCreateMoreCreatedPath:S}=(0,z.a)(),_=(0,U.G7)("memex_default_issue_create_repository"),x=(0,q.useRef)({defaultIssueCreateRepoEnabled:_,isInitialRender:!0,values:{resetMetadata:k,initialDefaultDisplayMode:F,repository:m,setDisplayMode:I}});(0,q.useEffect)(()=>{if(x.current.isInitialRender){if(x.current.isInitialRender=!1,!x.current.defaultIssueCreateRepoEnabled)return;let{resetMetadata:e,initialDefaultDisplayMode:l,repository:a,setDisplayMode:n}=x.current.values;if(l!==eg.q.IssueDuplication){if(e(),a?.hasAnyTemplates)return void n(eg.q.TemplatePicker);if(!a?.hasAnyTemplates&&a?.isBlankIssuesEnabled)return void n(eg.q.IssueCreation);n(l)}}},[]);let C=(0,q.useCallback)(e=>{e&&(m?.id!==e.id&&(k({repository:x.current.values.repository,selectedRepository:e}),_&&(e.hasAnyTemplates?I(eg.q.TemplatePicker):!e.hasAnyTemplates&&e.isBlankIssuesEnabled&&I(eg.q.IssueCreation))),g(e),S({owner:e.owner.login,repo:e.name,number:void 0}))},[k,m,S,g,I,_]),v=(0,ey.wT)({optionConfig:h,repository:m,navigate:l,setDisplayMode:I}),j=(0,q.useCallback)((e,a)=>{let n;if(m){if(m?.viewerInteractionLimitReasonHTML&&m.viewerInteractionLimitReasonHTML.length>0)return void l(`/${m.owner.login}/${m.name}/issues/new`);if(a!==ek.t7.ContactLink){if(h.issueCreateArguments?.initialValues?.appendTitleToTemplate&&(n={appendTitleToTemplate:h.issueCreateArguments.initialValues.appendTitleToTemplate}),a===ek.t7.BlankIssue)return void v((0,ek.AI)(),n,!0);(0,G.fetchQuery)(o,ef,{repoId:m.id,filename:e}).subscribe({next:e=>{if(!e.node)return;let l=(0,ey.EV)(e.node);l&&v(l,n,!0)},error:()=>{reportError(Error(W.S.unableToLoadSelectedTemplate)),r({type:"error",message:W.S.unableToLoadSelectedTemplate})}})}}},[m,o,h.issueCreateArguments?.initialValues?.appendTitleToTemplate,v,r,l]),T=(0,el.K)({issueFormRef:t,handleTemplateChange:v,template:p,callback:n});(0,q.useEffect)(()=>{m&&S({owner:m.owner?.login||"",repo:m.name||"",number:void 0})},[m,S]);let K=F===eg.q.IssueCreation;return(0,O.jsxs)("div",{tabIndex:-1,className:"CreateIssue-module__CreateIssueContainer__GAFFfmf",children:[b===eg.q.IssueCreation&&(0,O.jsxs)(O.Fragment,{children:[K&&s&&(0,O.jsx)(ep,{repository:s,template:p}),m&&(0,O.jsx)(X.e,{...i,issueFormRef:t,onCreateSuccess:T,selectedTemplate:p,repository:m,title:u,setTitle:y,body:d,setBody:c,clearOnCreate:f,focusTitleInput:!K,footer:void 0})]}),b===eg.q.IssueDuplication&&(0,O.jsx)(ee,{navigate:l,onCreateSuccess:T,topRepositories:e,issueFormRef:t,...i}),b===eg.q.TemplatePicker&&h.showRepositoryPicker&&e&&(0,O.jsx)(eo,{repository:m,onRepositorySelected:C,topRepositories:e,organization:h.scopedOrganization,onTemplateSelected:j}),b===eg.q.TemplatePicker&&!s&&!m&&(0,O.jsx)(eo,{repository:m,onRepositorySelected:C,topRepositories:e,organization:h.scopedOrganization,onTemplateSelected:j}),b===eg.q.TemplatePicker&&!h.showRepositoryPicker&&s&&(0,O.jsx)("div",{"data-hpc":!0,children:(0,O.jsx)(er.e,{repository:s,onTemplateSelected:j,...i})})]})};eh.displayName="CreateIssue"},91626(e,l,a){a.d(l,{l:()=>b});var n=a(74848),t=a(32764),i=a(28294),s=a(38621),r=a(7624),o=a(85965),u=a(83223),d=a(21373),c=a(10095),m=a(63432),g=a(34164),p=a(96540),y=a(73732),k=a(4774),f=a(58254),h=a(18854);let b=({className:e,sx:l,hideCreateMore:a=!1,onClose:b})=>{let{createMore:F,setCreateMore:I,createMoreCreatedPath:S,onCreateAction:_,isSubmitting:x,isFileUploading:C,isSubIssue:v,optionConfig:{insidePortal:j}}=(0,h.a)(),[T,K]=(0,p.useState)(!1),L=(0,p.useRef)(null),N=()=>!x&&(!C||(K(!0),!1)),P=async()=>{N()&&_?.current?.onCreate(x,F)};(0,p.useEffect)(()=>{L.current&&!C&&!x&&T&&(K(!1),L.current.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0})))},[C,x,T]);let E={"github:submit-form":P};return a||(E["issue-create:submit-and-create-more"]=()=>{I(!0),N()&&_?.current?.onCreate(x,!0)}),(0,n.jsxs)("div",{className:(0,g.$)("CreateIssueFooter-module__container__qePzeBx",e,"CreateIssueFooter-module__CreateIssueFooterContainer__MYtFdGX"),children:[(0,n.jsx)(i.ak,{commands:E}),T&&(0,n.jsxs)("div",{className:"CreateIssueFooter-module__fileUploadWarningSection__gqazr77",children:[(0,n.jsx)(c.A,{icon:s.InfoIcon,size:16}),(0,n.jsx)("span",{className:"CreateIssueFooter-module__warningMessageText__f71wpWl",children:k.k.fileUploadWarning})]}),(0,n.jsxs)(m.az,{sx:{...l},className:"CreateIssueFooter-module__mainContentWrapper__AVc7cEX",children:[!a&&(0,n.jsxs)(m.az,{sx:{ml:2*!j},className:"CreateIssueFooter-module__checkboxAndLinksSection__D6PEzF_",children:[(0,n.jsxs)(r.A,{className:"CreateIssueFooter-module__FormControl__C0ycWqa",children:[(0,n.jsx)(o.A,{"data-testid":f.Y.createMoreIssuesCheckbox,checked:F,onChange:()=>{I(!F)},className:"CreateIssueFooter-module__Checkbox__k7M4j5Z"}),(0,n.jsx)(r.A.Label,{children:v?y.l.createMoreSubIssues:y.l.createMore})]}),(0,n.jsx)("div",{"data-testid":f.Y.issueCreatedAnnouncement,className:"sr-only","aria-live":"polite","aria-atomic":"true",role:"status",children:S.number?k.k.lastIssueCreated(S.number):null}),S.number?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"CreateIssueFooter-module__separatorDot__TlcKh4e",children:"\xb7"}),(0,n.jsx)(u.A,{href:(0,t.dRG)({owner:S.owner,repo:S.repo,issueNumber:S.number}),"data-testid":f.Y.issueCreatedLink,children:k.k.lastIssueCreated(S.number)})]}):null]}),(0,n.jsxs)("div",{className:"CreateIssueFooter-module__actionButtonsContainer__OgoHDUd",children:[b&&(0,n.jsx)(d.Q,{onClick:()=>b(),children:y.l.cancel}),(0,n.jsx)(i.cQ,{commandId:"github:submit-form",variant:"primary",inactive:x||C,"data-testid":f.Y.createIssueButton,ref:L,showKeybindingHint:!0,children:y.l.create})]})]})]})};b.displayName="CreateIssueFooter"},76925(e,l,a){a.d(l,{e:()=>ai});var n,t,i,s,r,o,u,d,c,m,g,p,y,k,f,h,b,F,I,S,_,x,C,v,j,T,K,L,N,P,E,w,A,V,D,R,M=a(74848),O=a(47979),B=a(69371),$=a(37977),U=a(53092),H=a(22437),q=a(5340),G=a(63640),W=a(87179),z=a(45159),Q=a(23131),Y=a(54714),X=a(1456),Z=a(24779),J=a(31722),ee=a(76371),el=a(53696),ea=a(28294),en=a(32343),et=a(1703),ei=a(38621),es=a(39081),er=a(41431),eo=a(59134),eu=a(10095),ed=a(43715),ec=a(63432),em=a(34164),eg=a(96540),ep=a(18312),ey=a(54270),ek=a(4774),ef=a(18854),eh=a(63336),eb=a(49159),eF=a(68695),eI=a(7478),eS=a(7624),e_=a(65820);function ex({isOpen:e,onClose:l,onGenerate:a,repoOwner:n,repoName:t,title:i,body:s,returnFocusRef:r}){let[o,u]=(0,eg.useState)(""),[d,c]=(0,eg.useState)(!1),[m,g]=(0,eg.useState)(null),{sendAnalyticsEvent:p}=(0,en.s)(),y=!!(i?.trim()||s?.trim()||o?.trim()),k=(0,eg.useCallback)(()=>{u(""),g(null),l()},[l]),f=(0,eg.useCallback)(async()=>{p("analytics.click","ISSUE_CREATE_GENERATE_DESCRIPTION_WITH_COPILOT",{repoNWO:`${n}/${t}`,hasTitle:!!i,hasExistingDescription:!!s,hasAdditionalContext:!!o}),c(!0),g(null);try{let e=await (0,eF.lS)(`/${n}/${t}/issues/new/generate_copilot_description`,{method:"POST",body:{title:i,body:s,context:o}});if(!e.ok){g(ek.k.copilotGenerateError),eC("response_not_ok");return}let l=await e.json(),r=l.title,d=l.description;if(!r||!d||0===r.trim().length||0===d.trim().length){g(ek.k.copilotGenerateError),eC(`response_missing${!r?"_title":""}${!d?"_description":""}`);return}eC(),a(r,d),u("")}catch(e){g(ek.k.copilotGenerateError),eC(e instanceof Error?e.message:"unknown_error"),(0,z.N7)(e)}finally{c(!1)}},[p,n,t,i,s,o,a]);return e?(0,M.jsx)(es.l,{title:ek.k.copilotGenerateDialogTitle,onClose:k,footerButtons:[{buttonType:"default",content:"Cancel",onClick:k,disabled:d},{buttonType:"primary",content:d?(0,M.jsx)(eI.A,{size:"small",className:"mt-1 mr-1"}):ek.k.copilotGenerateDialogGenerateButton,onClick:f,disabled:d||!y}],returnFocusRef:r,children:(0,M.jsxs)(ec.az,{sx:{display:"flex",flexDirection:"column",gap:3},children:[m&&(0,M.jsxs)(eo.A,{variant:"danger",children:[(0,M.jsx)(eu.A,{icon:ei.AlertIcon}),m]}),!y&&(0,M.jsxs)(eo.A,{variant:"warning",children:[(0,M.jsx)(eu.A,{icon:ei.AlertIcon}),ek.k.copilotGenerateValidationWarning]}),(0,M.jsxs)(eS.A,{disabled:d,children:[(0,M.jsx)(eS.A.Label,{children:ek.k.copilotGenerateDialogTextareaLabel}),(0,M.jsx)(e_.Ay,{value:o,onChange:e=>u(e.target.value),placeholder:ek.k.copilotGenerateDialogTextareaPlaceholder,rows:6,block:!0,className:"mt-3"})]})]})}):null}function eC(e,l,a,n){(0,eb.BI)("copilot.create_issue_description",{hasTitle:!!l,hasExistingDescription:!!a,hasAdditionalContext:!!n,error:e})}ex.displayName="CopilotGenerateDescriptionDialog";var ev=a(48030),ej=a(27423),eT=a(38750);let eK=({title:e,titleValidationResult:l,titleInputRef:a,handleTitleChange:n})=>{let{settings:t}=(0,ej.z)(),i=(0,M.jsx)(eT.A,{ref:a,"aria-label":ek.k.issueCreateTitleLabel,placeholder:ek.k.issueCreateTitlePlaceholder,"aria-describedby":"issue-create-pane-title title-validation",value:e,onChange:n,onInput:n,"data-hpc":!0,autoFocus:!0,"data-react-autofocus":!0});return(0,M.jsx)("div",{className:"CreateIssueFormTitle-module__container__SJ98Otw",children:(0,M.jsxs)(eS.A,{className:"CreateIssueFormTitle-module__formControl__XiZixJR",required:!0,children:[(0,M.jsx)(eS.A.Label,{className:"CreateIssueFormTitle-module__formControlLabel__SYoSRhP",children:ek.k.issueCreateTitleLabel}),(0,M.jsxs)("div",{className:"CreateIssueFormTitle-module__subcontainer__tpXtR6u",children:[(0,M.jsx)(eg.Suspense,{fallback:i,children:(0,M.jsx)(ev.x,{tone:t.emojiTone,children:i})}),l&&(0,M.jsx)("span",{role:"alert","aria-live":"assertive",children:(0,M.jsx)(eS.A.Validation,{variant:"error",id:"title-validation",children:l})})]})]})})};eK.displayName="CreateIssueFormTitle";let eL={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"id"}],kind:"Fragment",metadata:null,name:"useIssueFormSecondaryQuery",selections:[{alias:null,args:t=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"securityPolicyUrl",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"contributingFileUrl",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"codeOfConductFileUrl",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"supportFileUrl",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:u=[{kind:"Literal",name:"first",value:10}],concreteType:"IssueFieldsConnection",kind:"LinkedField",name:"pinnedIssueFields",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[d={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},g={kind:"InlineFragment",selections:m=[c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dataType",storageKey:null}],type:"IssueFieldText",abstractKey:null},p={kind:"InlineFragment",selections:m,type:"IssueFieldSingleSelect",abstractKey:null},y={kind:"InlineFragment",selections:m,type:"IssueFieldDate",abstractKey:null},k={kind:"InlineFragment",selections:m,type:"IssueFieldNumber",abstractKey:null}],storageKey:null}],storageKey:"pinnedIssueFields(first:10)"}],type:"Organization",abstractKey:null}],storageKey:null}],type:"Repository",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"useIssueFormSecondaryQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[d,{kind:"InlineFragment",selections:[i,s,r,o,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{alias:null,args:u,concreteType:"IssueFieldsConnection",kind:"LinkedField",name:"pinnedIssueFields",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[d,g,p,y,k,{kind:"InlineFragment",selections:[c],type:"Node",abstractKey:"__isNode"}],storageKey:null}],storageKey:"pinnedIssueFields(first:10)"}],type:"Organization",abstractKey:null},c],storageKey:null}],type:"Repository",abstractKey:null},c],storageKey:null}]},params:{id:"d3765abb61ac2c4f9019e654724d3043",metadata:{},name:"useIssueFormSecondaryQuery",operationKind:"query",text:null}};eL.hash="72c60bf38c11334e07dfc92e81deade1";var eN=a(62741);a(69487);var eP=a(64887),eE=a(81061),ew=a(30107),eA=a(97665),eV=a(97286),eD=a(24880),eR=a(3403),eM=a(11544),eO=a(15914),eB=a(35050),e$=a(32764);let eU=({ref:e,assignees:l,anchorProps:a,displayHotkey:n,MAX_DISPLAYED_ASSIGNEES:t=2,readonly:i})=>(0,M.jsx)(eB._,{leadingIconElement:l.slice(0,t).map(e=>(0,M.jsx)(eH,{assignee:e},e.login)),anchorText:l.length>1?eO.k.assignees:eO.k.noAssignees,anchorProps:a,sharedPickerMainValue:l.slice(0,t).map(e=>e.isCopilot?"Copilot":e.login).join(", ").concat(l.length>t?`, ${l.length-t}+`:""),ariaLabel:eO.k.selectAssignees,readonly:i,leadingIcon:ei.PeopleIcon,hotKey:!i&&n?"A":void 0,ref:e});function eH({assignee:e}){return e.isCopilot?(0,M.jsx)(ei.CopilotIcon,{}):(0,M.jsx)(eM.r,{"data-hovercard-url":(0,e$.dCN)({owner:e.login}),src:e.avatarUrl,size:16,alt:`@${e.login}`,className:"CompressedAssigneeAnchor-module__compressedAssigneeAvatar__PXx_nz2"})}eU.displayName="CompressedAssigneeAnchor",eH.displayName="AssigneeLeadingVisual",eU.displayName="CompressedAssigneeAnchor";let eq=({ref:e,assignees:l,readonly:a,anchorProps:n})=>(0,M.jsx)(eU,{assignees:l||[],displayHotkey:!1,anchorProps:a?void 0:n,readonly:a,ref:e});eq.displayName="DefaultAssigneePickerAnchor",eq.displayName="DefaultAssigneePickerAnchor";var eG=a(47856),eW=a(37151);let ez=({color:e})=>{let l=eW.i4.find(l=>l===e),{fg:a}=(0,eW.Wk)(l);return(0,M.jsx)("div",{style:{"--bg":`${a}`},className:"DefaultIssueTypePickerAnchor-module__issueTypeDot__aopd3y1"})};ez.displayName="IssueTypeDot";let eQ=({ref:e,activeIssueType:l,readonly:a,anchorProps:n})=>(0,M.jsx)(eB._,{anchorText:eO.k.noIssueTypes,sharedPickerMainValue:l?.name,anchorProps:a?void 0:n,ariaLabel:eO.k.selectIssueTypes,readonly:a,leadingIcon:ei.IssueOpenedIcon,hotKey:void 0,ref:e,leadingIconElement:l&&(0,M.jsx)(ez,{color:l.color})});eQ.displayName="DefaultIssueTypePickerAnchor",eQ.displayName="DefaultIssueTypePickerAnchor";var eY=a(67360),eX=a(54279);let eZ=({MAX_DISPLAYED_LABELS:e=5,labelColors:l})=>(0,M.jsx)("div",{className:"LabelDots-module__labelDotsContainer__AyY75aJ",children:l.slice(0,e).map((e,l)=>(0,M.jsx)(ec.az,{sx:{backgroundColor:`#${e}`},className:"LabelDots-module__labelDot__L1LDXw7"},`${l}-${e}`))});eZ.displayName="LabelDots";let eJ=({ref:e,size:l="large",labelNamesWithColor:a,anchorProps:n,MAX_DISPLAYED_LABELS:t=5,readonly:i,leadingIcon:s,hotKey:r,anchorText:o})=>{let u=a.slice(0,t).map(e=>e.nameHTML).join(", ").concat(a.length>t?`, ${a.length-t}+`:"");return(0,M.jsx)(eB._,{anchorProps:n,readonly:i,anchorText:o||(a.length>1?eO.k.labels:eO.k.noLabels),sharedPickerMainValue:a.length>0&&(0,M.jsx)(e0,{labelNamesWithColor:a,MAX_DISPLAYED_LABELS:t,compressedLabelTitle:u}),leadingIconElement:a.length>0&&(0,M.jsx)(eZ,{MAX_DISPLAYED_LABELS:t,labelColors:a.map(e=>e.color)}),ariaLabel:eO.k.selectLabels,size:l,leadingIcon:s,hotKey:r,ref:e,compressedTitle:u})};eJ.displayName="CompressedLabelsToken",eJ.displayName="CompressedLabelsToken";let e0=({compressedLabelTitle:e})=>(0,M.jsx)(eX.JR,{html:e});e0.displayName="LabelNames";let e1=({ref:e,size:l="small",labels:a,anchorProps:n,displayHotkey:t,MAX_DISPLAYED_LABELS:i=2,readonly:s})=>(0,M.jsx)(eJ,{size:l,labelNamesWithColor:a.map(e=>({nameHTML:e.nameHTML,color:e.color})),anchorProps:n,MAX_DISPLAYED_LABELS:i,readonly:s,leadingIcon:ei.TagIcon,hotKey:!s&&t?"L":void 0,anchorText:a?.length===0?eO.k.noLabels:void 0,ref:e});e1.displayName="CompressedLabelAnchor",e1.displayName="CompressedLabelAnchor";let e4=({ref:e,labels:l,readonly:a,anchorProps:n})=>(0,M.jsx)(e1,{labels:l,readonly:a,displayHotkey:!1,anchorProps:a?void 0:n,ref:e});e4.displayName="DefaultLabelPickerAnchor",e4.displayName="DefaultLabelAnchor";var e2=a(51505);let e6=({ref:e,activeMilestone:l,readonly:a,nested:n,anchorProps:t})=>(0,M.jsx)(eB._,{anchorText:eO.k.noMilestones,sharedPickerMainValue:l?.title,anchorProps:a?void 0:t,ariaLabel:eO.k.selectMilestones,readonly:a,nested:n,leadingIcon:ei.MilestoneIcon,hotKey:void 0,ref:e});e6.displayName="DefaultMilestonePickerAnchor",e6.displayName="DefaultMilestonePickerAnchor";var e3=a(36002),e7=a(66123),e8=a(51578),e5=a(40280),e9=a(51639);let le=()=>(0,M.jsx)("div",{className:"MetadataFooterLoading-module__MetadataFooterLoadingContainer__miL72Cv",children:(0,M.jsx)(e9.Q,{borderRadius:"pill",height:"lg",width:"400px"})});le.displayName="MetadataFooterLoading";var ll=a(19227),la=a(10864),ln=a(89747),lt=a(83e3),li=a(26108);let ls="MetadataFooter-module__MetadataFooterSeparator__hoAIokb",lr="MetadataFooter-module__animationClass__cAaoTIl",lo=({fieldWithValue:e,buttonProps:l,className:a,readonly:n})=>{let t=(0,Y.HZ)(e.field.dataType),i=(0,Z.nB)(t,e.value),s=lu(e),r=i?`${e.field.name}:`:e.field.name;return(0,M.jsx)(eB._,{anchorText:r,sharedPickerMainValue:i,leadingIcon:(0,Y.mQ)(t),leadingIconElement:s,anchorProps:l,className:a,readonly:n},e.field.id)};lo.displayName="IssueFieldValueSharedEditorAnchor";let lu=e=>{if("SINGLE_SELECT"===e.field.dataType&&e.value){let l=e.value,a=l?.color||"GRAY";return(0,M.jsx)(ld,{color:a})}return null},ld=({color:e})=>{let l=eW.i4.find(l=>l===e),{fg:a}=(0,eW.Wk)(l);return(0,M.jsx)("div",{style:{"--bg":`${a}`},className:"MetadataFooter-module__SingleSelectFieldDot__VHSG0Sm"})};ld.displayName="SingleSelectFieldDot";let lc=(e,l)=>(0,M.jsx)(li.K,{onClick:l=>{e.onClick?.(l)},ref:l,icon:ei.PlusIcon,variant:"default","aria-label":ek.k.setAdditionalFields,tooltipDirection:"n",size:"small"}),lm="256px",lg=({pendingField:e,onCommit:l,onClose:a})=>lb((0,Z.Y0)(e,null),l,a,!0);lg.displayName="IssueFieldValueSharedPendingEditor";let lp=({field:e,onChange:l,className:a,readonly:n})=>{let t=(0,eg.useCallback)((a,n)=>{l(e,n)},[l,e]);return e.field.id&&e.field.name?lb(e,t,void 0,!1,a,n):null};lp.displayName="IssueFieldValueSharedEditor";let ly=(e,l,a,n=!1,t)=>(0,M.jsx)(ln.lT,{fieldId:e.field.id,fieldName:e.field.name,initialValue:e.value,onCommit:l,renderAnchor:a,overrideWidth:lm,isNumber:!0,validate:la.H,shouldOpen:n,onClose:t});ly.displayName="IssueFieldNumberEditor";let lk=(e,l,a,n=!1,t)=>(0,M.jsx)(ln.lT,{fieldId:e.field.id,fieldName:e.field.name,initialValue:e.value,onCommit:l,renderAnchor:a,overrideWidth:lm,shouldOpen:n,onClose:t});lk.displayName="IssueFieldTextEditor";let lf=(e,l,a,n=!1,t)=>{let[i,s]=(0,eg.useState)(n),r=(0,eg.useMemo)(()=>{let l=e.value;return l?new Date(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()):null},[e.value]),o=(0,eg.useCallback)(a=>{let n=null;a&&(n=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),12,0,0,0))),l(e.field.id,n)},[e.field.id,l]);return(0,M.jsx)(ll.DatePicker,{anchor:e=>a(e),showClearButton:!0,showTodayButton:!0,variant:"single",dateFormat:"long",onChange:o,value:r,placeholder:"Set date",open:i,onOpen:()=>{s(!0)},onClose:()=>{s(!1),t?.()},anchoredOverlayProps:{side:"outside-top"}},e.field.id)};lf.displayName="IssueFieldDateEditor";let lh=(e,l,a,n=!1,t)=>{let i=e.value;return(0,M.jsx)(lt.CZ,{fieldId:e.field.id,fieldName:e.field.name||"",selectedOption:i?.name||null,onSelectionChange:a=>{l(e.field.id,a)},anchorElement:e=>a(e),readonly:!1,isLazy:!0,shouldOpen:n,onClose:t,insidePortal:!0},e.field.id)};lh.displayName="IssueFieldSingleSelectEditor";let lb=(e,l,a,n=!1,t,i)=>{let s=l=>(0,M.jsx)(lo,{fieldWithValue:e,buttonProps:l,className:t,readonly:i},e.field.id);switch(e.field.dataType){case"SINGLE_SELECT":return lh(e,l,s,n,a);case"DATE":return lf(e,l,s,n,a);case"TEXT":return lk(e,l,s,n,a);case"NUMBER":return ly(e,l,s,n,a)}};lb.displayName="IssueFieldEditor";let lF=({repo:e,owner:l,canSetAssignees:a,canSetLabels:n,canSetMilestone:t,canSetProjects:i,canSetIssueFields:s,canSetType:r,issueTypesEnabled:o,orgPinnedFields:u})=>{let{optionConfig:d}=(0,ef.a)(),{repository:c,labels:m,setLabels:g,assignees:p,setAssignees:y,projects:k,setProjects:f,milestone:h,setMilestone:b,issueType:F,setIssueType:I,setIssueFields:S}=(0,eh.u)(),_={insidePortal:d.insidePortal},x=(0,Q.G7)("issue_metadata_add_field_button"),{pendingSelectedField:C,setPendingSelectedField:v,pinnedFields:j,unpinnedFields:T,selectedFieldNames:K,onPendingFieldCommit:L,onIssueFieldPickerSelectionChange:N,onIssueFieldValueChanged:P}=function({pinnedFieldsFromType:e,setIssueFieldsWithValues:l,scopedFields:a}){let[n,t]=(0,eg.useState)([]),[i,s]=(0,eg.useState)(null),r=(0,eg.useMemo)(()=>e||[],[e]),o=(0,eg.useCallback)(e=>{t(e);let a=[];for(let l of e)l.value&&a.push(l);l(a)},[l]),u=(0,eg.useCallback)((e,l)=>{if(!i||i.id!==e)return;s(null);let a=(0,Y.HZ)(i.dataType),t=(0,Z.vl)(a,l);if("string"==typeof t?!t.trim():!t)return;let r=[...n];i.name&&!r.some(e=>e.field.name===i.name)&&r.push((0,Z.Y0)(i,l)),o(r)},[n,i,o]),d=(0,eg.useCallback)(e=>{let l=e[0];l?.id&&l?.name&&l?.dataType&&s({id:l.id,name:l.name,dataType:(0,Y.HZ)(l.dataType)})},[]),c=(0,eg.useCallback)((e,l)=>{r.find(l=>l.id===e.field.id)&&!n.find(l=>l.field.id===e.field.id)?o([...n,(0,Z.Y0)(e.field,l)]):o(n.map(a=>a.field.id===e.field.id?(0,Z.Y0)(a.field,l):a).filter(e=>null!==e))},[n,r,o]),m=((e,l,a)=>{let n=[];for(let t of l){let l=e.find(e=>e.field.id===t.id);if(l)n.push(l);else{let e=a.find(e=>e.fieldId===t.id);n.push((0,Z.IE)(t,e?e.value:null,!!e))}}return n})(n,r,a),g=((e,l,a)=>{let n=a?.map(e=>e.fieldId)||[],t=[...new Set([...e.map(e=>e.field.id).filter(e=>void 0!==e),...n])],i=[];for(let n of t)if(!l.find(e=>e.id===n)){let l=a?.find(e=>e.fieldId===n),t=e.find(e=>e.field.id===n);i.push(t||(0,Z.IE)({id:n,name:l.fieldName,dataType:l.fieldType},l.value,!0))}return i})(n,r,a),p=m.map(e=>e.field.name).concat(g.map(e=>e.field.name)).filter(e=>void 0!==e);return{pendingSelectedField:i,setPendingSelectedField:s,pinnedFields:m,unpinnedFields:g,selectedFieldNames:p,onPendingFieldCommit:u,onIssueFieldPickerSelectionChange:d,onIssueFieldValueChanged:c}}({pinnedFieldsFromType:(0,eg.useMemo)(()=>F?(0,Y.IR)(F.pinnedFields?.filter(e=>e?.__typename!=="%other"))??[]:u??[],[F,u]),setIssueFieldsWithValues:S,scopedFields:d.scopedFields||[]}),E=k[0]?.title||"",{sendAnalyticsEvent:w}=(0,en.s)(),A=c&&(a||p.length>0)&&!d.scopedAssignees?{repo:c.name,owner:c.owner.login,readonly:!a,includeAuthorableBots:!1,includeAssignableBots:!0,assignees:p,assigneeTokens:[],anchorElement:(e,l)=>(0,M.jsx)(eq,{assignees:p,readonly:!a,anchorProps:{...e,id:"assignees-select-menu"},ref:l,..._}),onSelectionChange:y,..._}:null,V=null;return A&&(V=(0,M.jsx)(eG._,{...A})),(0,M.jsx)(eg.Suspense,{fallback:(0,M.jsx)(le,{}),children:(0,M.jsxs)("div",{className:"MetadataFooter-module__MetadataFooterContainer___2gwBH7",children:[V,d.scopedAssignees&&(0,M.jsx)(eU,{assignees:d.scopedAssignees,displayHotkey:!1,anchorProps:void 0,readonly:!0}),(n||m.length>0)&&(0,M.jsx)(e2.t,{repo:e,owner:l,readonly:!n,canCreateLabel:n,labels:m,anchorElement:(e,l)=>(0,M.jsx)(e4,{readonly:!n,labels:m,anchorProps:e,ref:l,..._}),onSelectionChange:g,..._}),o&&(r||null!==F)&&!d.scopedIssueType&&(0,M.jsx)(eY.u,{owner:l,repo:e,onSelectionChange:e=>{let l=e?.[0]||null;w("issue_create.update_issue_type","ISSUE_CREATE_UPDATE_ISSUE_TYPE_DIALOG",{issueTypeId:l?.id??""}),I(l)},anchorElement:e=>(0,M.jsx)(eQ,{readonly:!r,activeIssueType:F,anchorProps:e,..._}),readonly:!r,activeIssueType:F??null,width:"medium",..._}),s&&j.map(e=>(0,M.jsx)(lp,{field:e,onChange:P,className:lr,readonly:e.readonly},e.field.id)),(o&&(r||null!==F)||s&&j.length>0)&&(0,M.jsx)("div",{className:ls,"data-testid":"issue-fields-divider"}),d.scopedIssueType&&(0,M.jsx)(eB._,{anchorText:d.scopedIssueType,leadingIcon:ei.IssueOpenedIcon,readonly:!0}),c&&!d.scopedProjectTitle&&(i||k.length>0)&&(0,M.jsx)(e5.t,{fallback:(0,M.jsx)(eB._,{anchorText:"Projects are unavailable",leadingIcon:ei.AlertIcon,readonly:!0}),children:(0,M.jsx)(e8.w,{pickerId:"create-issue-projects-picker",readonly:!i,onSave:f,selectedProjects:k,owner:c.owner.login,repo:c.name,anchorElement:e=>(0,M.jsx)(e7.C,{nested:!1,readonly:!i,anchorProps:e,firstSelectedProjectTitle:E,..._}),..._})}),d.scopedProjectTitle&&(0,M.jsx)(eB._,{anchorText:d.scopedProjectTitle,leadingIcon:ei.TableIcon,readonly:!0}),(t||null!==h)&&!d.scopedMilestone&&(0,M.jsx)(e3.D,{repo:e,owner:l,readonly:!t,canCreateMilestone:t,activeMilestone:h,anchorElement:(e,l)=>(0,M.jsx)(e6,{nested:!1,readonly:!t,activeMilestone:h,anchorProps:e,ref:l,..._}),onSelectionChange:e=>b(e?.[0]||null),..._}),d.scopedMilestone&&(0,M.jsx)(eB._,{anchorText:d.scopedMilestone,leadingIcon:ei.MilestoneIcon,readonly:!0}),s&&T.map(e=>(0,M.jsx)(lp,{field:e,onChange:P,className:lr,readonly:e.readonly},e.field.id)),C&&(0,M.jsx)(lg,{pendingField:C,onCommit:L,onClose:()=>{v(null)}}),s&&x&&(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)("div",{className:ls}),(0,M.jsx)(eR.iF,{owner:l,title:ek.k.addIssueField,fieldsSet:K,onSelectionChange:N,anchorElement:lc,..._})]})]})})};lF.displayName="MetadataFooter";var lI=a(23406),lS=a(97945),l_=a(86114),lx=a(51316),lC=a(24545),lv=a(69727),lj=a(18990),lT=a(45596),lK=a(69645),lL=a(50185),lN=a(37049),lP=a(23475),lE=a(98475);let lw="RelationshipsSection-module__groupHeading__HnUfEBa",lA=[],lV=({sectionHeader:e,relationships:l,className:a})=>{let{parent:n,blockedBy:t,blocking:i}=l,s=t&&t.length>0,r=i&&i.length>0,o=n||s||r?void 0:lK.k.emptySections.relationships;return(0,M.jsx)(lP.w,{id:"sidebar-relationships-section",sectionHeader:e,emptyText:o,className:a,children:(0,M.jsxs)(lj.l,{variant:"full",className:"RelationshipsSection-module__actionListOverrides__ocVPsfz",children:[n&&(0,M.jsxs)(lj.l.Group,{children:[(0,M.jsx)(lj.l.GroupHeading,{as:"h4",className:lw,children:lK.k.relationNames.parentIssue}),(0,M.jsx)(lL.H,{issue:n})]}),s&&(0,M.jsxs)(M.Fragment,{children:[n&&(0,M.jsx)(lj.l.Divider,{}),(0,M.jsxs)(lj.l.Group,{children:[(0,M.jsx)(lj.l.GroupHeading,{as:"h4",className:lw,children:lK.k.relationNames.blockedByIssues}),t.map(e=>(0,M.jsx)(lL.H,{issue:e},e.id))]})]}),r&&(0,M.jsxs)(M.Fragment,{children:[(n||s)&&(0,M.jsx)(lj.l.Divider,{}),(0,M.jsxs)(lj.l.Group,{children:[(0,M.jsx)(lj.l.GroupHeading,{as:"h4",className:lw,children:lK.k.relationNames.blockingIssues}),i.map(e=>(0,M.jsx)(lL.H,{issue:e},e.id))]})]})]})})};function lD({owner:e,repo:l,readonly:a,parentIssue:n,onParentChange:t,blockedByIssues:i=lA,onBlockedByChange:s,blockingIssues:r=lA,onBlockingChange:o,className:u}){let[d,c]=(0,eg.useState)(!1),[m,g]=(0,eg.useState)(null),[p,y]=(0,eg.useState)(null),k=(0,eg.useRef)(null),f=(0,eg.useCallback)(e=>{g(e)},[]),h=(0,eg.useCallback)(e=>{t(e[0]||null),g(null),y(null)},[t]),b=(0,eg.useCallback)(e=>{s(e),g(null),y(null)},[s]),F=(0,eg.useCallback)(e=>{o(e),g(null),y(null)},[o]),I=(0,eg.useCallback)(e=>{"parent"===p?h(e):"blockedBy"===p?b(e):"blocking"===p&&F(e)},[p,h,b,F]),S=(0,eg.useMemo)(()=>"parent"===p?n?[n.id]:[]:"blockedBy"===p?i.map(e=>e.id):"blocking"===p?r.map(e=>e.id):[],[p,n,i,r]),_=(0,eg.useMemo)(()=>"parent"===p?"Select parent issue":"blockedBy"===p?"Mark current issue as blocked by\u2026":"blocking"===p?"Mark current issue as blocking\u2026":void 0,[p]),x=(0,eg.useMemo)(()=>"blockedBy"===p?r.map(e=>e.id):"blocking"===p?i.map(e=>e.id):[],[p,r,i]),C=(0,eg.useCallback)(()=>{c(!1),y("parent"),g("Issue")},[]),v=(0,eg.useCallback)(()=>{c(!1),y("blockedBy"),g("Issue")},[]),j=(0,eg.useCallback)(()=>{c(!1),y("blocking"),g("Issue")},[]),T=(0,eg.useCallback)(()=>{g(null),y(null),c(e=>!e)},[]),K=(0,eg.useCallback)(e=>{let{ref:l}=e;return l&&(l.current=k.current),(0,M.jsx)(M.Fragment,{})},[k]),L=a?(0,M.jsx)(lN.h,{title:lK.k.sectionTitles.relationships}):(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(ea.ak,{commands:{"issue-create:edit-parent":C,"issue-create:mark-blocked-by":v,"issue-create:mark-blocking":j}}),(0,M.jsx)(lE.X,{ref:k,buttonProps:{onClick:T},readonly:a,title:lK.k.sectionTitles.relationships}),(0,M.jsx)(lv.D,{onPickerTypeChange:f,selectedIssueIds:S,hiddenIssueIds:x,onIssueSelection:I,organization:e,defaultRepositoryNameWithOwner:`${e}/${l}`,pickerType:m,issuePickerProps:{selectionVariant:"parent"===p?"single":"multiple",subtitle:_},anchorElement:K}),(0,M.jsx)(lT.W,{open:d,onOpenChange:c,anchorRef:k,children:(0,M.jsx)(lT.W.Overlay,{width:"medium",children:(0,M.jsx)(lj.l,{children:(0,M.jsxs)(lj.l.Group,{children:[(0,M.jsx)(ea.Vr,{commandId:"issue-create:edit-parent",onSelect:C,children:n?"Change or remove parent":"Add parent"}),(0,M.jsx)(ea.Vr,{commandId:"issue-create:mark-blocked-by",onSelect:v,children:i.length>0?"Add or change blocked by":"Mark as blocked by"}),(0,M.jsx)(ea.Vr,{commandId:"issue-create:mark-blocking",onSelect:j,children:r.length>0?"Add or change blocking":"Mark as blocking"})]})})})})]});return(0,M.jsx)(lV,{sectionHeader:L,relationships:{parent:n,blockedBy:i,blocking:r},className:u})}lV.displayName="RelationshipsSection",lD.displayName="CreateIssueRelationshipsSection";var lR=a(7747);let lM="MetadataSidebar-module__CreateIssueAssigneesSection__R__MrD7",lO=({canSetAssignees:e,canSetLabels:l,canSetMilestone:a,canSetProjects:n,canSetType:t,canSetIssueFields:i,canSetRelationships:s,issueTypesEnabled:r,orgPinnedFields:o,isPinnedFieldsLoading:u})=>{let{optionConfig:d}=(0,ef.a)(),{repository:c,labels:m,setLabels:g,assignees:p,setAssignees:y,projects:k,setProjects:f,milestone:h,setMilestone:b,issueType:F,setIssueType:I,setIssueFields:S,parentIssue:_,setParentIssue:x,blockedByIssues:C,setBlockedByIssues:v,blockingIssues:j,setBlockingIssues:T}=(0,eh.u)(),K={insidePortal:d.insidePortal};return c?(0,M.jsxs)("div",{className:"MetadataSidebar-module__MetadataSidebarContainer__V9I_bNE",children:[(0,M.jsx)("h2",{className:"sr-only",children:"Metadata"}),c&&(0,M.jsx)(lI.b2,{repo:c.name,owner:c.owner.login,readonly:!e,assignees:p,onSelectionChange:y,className:lM,repository:c,issueNumber:void 0,onIssueUpdate:void 0,...K}),(0,M.jsx)(l_.qn,{repo:c.name,owner:c.owner.login,readonly:!l,labels:m,onSelectionChange:g,...K}),r&&(0,M.jsx)(lR.pf,{owner:c.owner.login,repo:c.name,...K,viewerCanType:t,type:F,onSelectionChange:I}),i&&(0,M.jsx)(lS.u,{owner:c.owner.login,ownerId:c.owner.databaseId,onSelectionChange:S,issueType:F,orgPinnedFields:o,isPinnedFieldsLoading:u,...K}),(0,M.jsx)(lC.PH,{owner:c.owner.login,repo:c.name,projects:k,readonly:!n,onSelectionChange:f,...K}),(0,M.jsx)(lx.C5,{repo:c.name,owner:c.owner.login,milestone:h,onSelectionChange:b,viewerCanSetMilestone:a??!1,className:lM,...K}),(0,Q.G7)("issue_create_relationships")&&(0,M.jsx)(lD,{owner:c.owner.login,repo:c.name,readonly:!s,parentIssue:_,onParentChange:x,blockedByIssues:C,onBlockedByChange:v,blockingIssues:j,onBlockingChange:T})]}):null};lO.displayName="MetadataSidebar";let lB=({orgPinnedFields:e,isPinnedFieldsLoading:l})=>{let{optionConfig:a}=(0,ef.a)(),n=!a.insidePortal,{repository:t}=(0,eh.u)(),i=t?.viewerIssueCreationPermissions?.assignable??!1,s=t?.viewerIssueCreationPermissions?.labelable??!1,r=t?.viewerIssueCreationPermissions?.milestoneable??!1,o=t?.viewerIssueCreationPermissions?.triageable??!1,u=t?.viewerIssueCreationPermissions?.typeable??!1,d=t?.viewerIssueCreationPermissions?.canSetIssueFields??!1,c=t?.viewerIssueCreationPermissions?.triageable??!1,m=t?.owner?.issueTypesEnabled??!1,g={repo:t?.name||"",owner:t?.owner.login||"",canSetAssignees:i,canSetLabels:s,canSetMilestone:r,canSetProjects:o,canSetType:u,canSetIssueFields:d,canSetRelationships:c,issueTypesEnabled:m,orgPinnedFields:e,isPinnedFieldsLoading:l};return n?(0,M.jsx)(lO,{...g}):(0,M.jsx)(lF,{...g})};lB.displayName="MetadataSelectors";let l$=(f={defaultValue:!1,kind:"LocalArgument",name:"fetchParent"},h={defaultValue:null,kind:"LocalArgument",name:"input"},b=[{kind:"Variable",name:"input",variableName:"input"}],F={alias:null,args:null,kind:"ScalarField",name:"databaseId",storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"number",storageKey:null},C={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},K={alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"parent",plural:!1,selections:[I={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"SubIssuesSummary",kind:"LinkedField",name:"subIssuesSummary",plural:!1,selections:[j={alias:null,args:null,kind:"ScalarField",name:"total",storageKey:null},T={alias:null,args:null,kind:"ScalarField",name:"completed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"percentCompleted",storageKey:null}],storageKey:null}],storageKey:null},{fragment:{argumentDefinitions:[f,h],kind:"Fragment",metadata:null,name:"createIssueMutation",selections:[{alias:null,args:b,concreteType:"CreateIssuePayload",kind:"LinkedField",name:"createIssue",plural:!1,selections:[{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"issue",plural:!1,selections:[F,{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[F,I,S,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[_],storageKey:null}],storageKey:null},x,C,I,v,{condition:"fetchParent",kind:"Condition",passingValue:!0,selections:[{args:null,kind:"FragmentSpread",name:"SubIssuesListItem"},K]}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"errors",plural:!0,selections:[L={alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[h,f],kind:"Operation",name:"createIssueMutation",selections:[{alias:null,args:b,concreteType:"CreateIssuePayload",kind:"LinkedField",name:"createIssue",plural:!1,selections:[{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"issue",plural:!1,selections:[F,{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[F,I,S,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[N={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},_,I],storageKey:null}],storageKey:null},x,C,I,v,{condition:"fetchParent",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"state",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"stateReason",storageKey:null},{alias:null,args:null,concreteType:"IssueDependenciesSummary",kind:"LinkedField",name:"issueDependenciesSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"blockedBy",storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"first",value:10}],concreteType:"UserConnection",kind:"LinkedField",name:"assignees",plural:!1,selections:[P={alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:"UserEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[I,_,{alias:null,args:null,kind:"ScalarField",name:"avatarUrl",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"assignees(first:10)"},{alias:null,args:null,kind:"ScalarField",name:"titleHTML",storageKey:null},{alias:null,args:null,concreteType:"IssueType",kind:"LinkedField",name:"issueType",plural:!1,selections:[I,S,{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"SubIssuesSummary",kind:"LinkedField",name:"subIssuesSummary",plural:!1,selections:[j,T],storageKey:null},{alias:null,args:[{kind:"Literal",name:"first",value:0},{kind:"Literal",name:"includeClosedPrs",value:!0}],concreteType:"PullRequestConnection",kind:"LinkedField",name:"closedByPullRequestsReferences",plural:!1,selections:[P],storageKey:"closedByPullRequestsReferences(first:0,includeClosedPrs:true)"},K]}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"errors",plural:!0,selections:[N,L],storageKey:null}],storageKey:null}]},params:{id:"f06cbfa3acc3dd5ed6724c55e1fd64a2",metadata:{},name:"createIssueMutation",operationKind:"mutation",text:null}});l$.hash="a0fc1d6cb2e696257826bd50783fb175";var lU=a(731),lH=a(79079);function lq(e,l){if(!l)return null;let a=l.getLinkedRecord("subIssues",{first:100});return a||null}var lG=a(46251),lW=a(4925),lz=a(83223),lQ=a(34256),lY=a(37835);let lX="SimilarIssues-module__emptyState__LRh6lrC",lZ={fragment:{argumentDefinitions:E=[{defaultValue:null,kind:"LocalArgument",name:"issueId"}],kind:"Fragment",metadata:null,name:"similarIssueSubscription",selections:A=[{alias:null,args:[{kind:"Variable",name:"id",variableName:"issueId"}],concreteType:"IssueUpdatedPayload",kind:"LinkedField",name:"issueUpdated",plural:!1,selections:[{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"issueTitleUpdated",plural:!1,selections:[w={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"issueStateUpdated",plural:!1,selections:[w,{alias:null,args:null,kind:"ScalarField",name:"state",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"stateReason",storageKey:null}],storageKey:null}],storageKey:null}],type:"EventSubscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:E,kind:"Operation",name:"similarIssueSubscription",selections:A},params:{id:"ce208cd8cf060b3df4cb37683438e939",metadata:{},name:"similarIssueSubscription",operationKind:"subscription",text:null}};lZ.hash="d9c4976b73150160ed339373d542ef46";var lJ=a(38048);let l0=({state:e,stateReason:l})=>{let{sourceIcon:a}=(0,lY.e)({state:e,stateReason:l}),n=a("Issue");return(0,M.jsx)(n,{})};function l1({nodeId:e,onIssueUpdate:l}){return((e,{onUpdate:l})=>{let a=(0,eg.useMemo)(()=>({variables:{issueId:e},subscription:lZ,updater:(a,n)=>{if(!n?.issueUpdated)return;let{issueTitleUpdated:t,issueStateUpdated:i}=n.issueUpdated;(t||i)&&l({nodeId:e,title:t?.title,state:function(e){if(e&&e in lJ.DJ)return e}(i?.state),stateReason:function(e){if(null==e||e in lJ.DD)return e}(i?.stateReason)})}}),[e,l]);(0,ep.useSubscription)(a)})(e,{onUpdate:l}),null}function l4({nodeId:e,onIssueUpdate:l}){return l?(0,M.jsx)(l1,{nodeId:e,onIssueUpdate:l}):null}function l2({issue:e,repoOwner:l,repoName:a,onIssueClick:n,onIssueUpdate:t}){let i=(0,e$.Nbg)({owner:l,repo:a,issueNumber:e.number});return(0,M.jsxs)("li",{className:"SimilarIssues-module__item__odCMal9",children:[(0,M.jsx)(l4,{nodeId:e.nodeId,onIssueUpdate:t}),(0,M.jsx)(l0,{state:e.state,stateReason:e.stateReason}),(0,M.jsxs)(lz.A,{href:(0,e$.dRG)({owner:l,repo:a,issueNumber:e.number}),"data-hovercard-url":i,target:n?void 0:"_blank",onClick:n?l=>{1===l.button||l.shiftKey||l.ctrlKey||l.metaKey||(l.preventDefault(),n(e))}:void 0,children:[e.title," ",(0,M.jsxs)("span",{className:"SimilarIssues-module__number__SEtbTpp",children:["#",e.number]})]})]})}function l6({items:e,isLoading:l,isError:a,onExpandedChange:n,repoOwner:t,repoName:i,onIssueClick:s,onIssueUpdate:r}){let[o,u]=(0,eg.useState)(!1),d=(0,eg.useCallback)(()=>{let e=!o;u(e),n?.(e)},[o,n]);return(0,M.jsx)("div",{className:"SimilarIssues-module__wrapper__V9O9S64",children:(0,M.jsxs)("section",{className:"SimilarIssues-module__container__CvRrkob","aria-labelledby":"similar-issues-heading",children:[(0,M.jsxs)(lG.B,{direction:"horizontal",align:"center",justify:"space-between",children:[(0,M.jsxs)(lG.B,{direction:"horizontal",align:"center",gap:"condensed",children:[(0,M.jsx)(li.K,{"aria-label":o?"Collapse similar issues":"Expand similar issues","aria-expanded":o,"aria-controls":"similar-issues-content",icon:ei.ChevronDownIcon,variant:"invisible",size:"small",onClick:d,className:(0,em.$)("SimilarIssues-module__chevronButton__WURtY6l",o&&"SimilarIssues-module__chevronExpanded__GrNrQ5q")}),(0,M.jsxs)("h3",{id:"similar-issues-heading",className:"SimilarIssues-module__heading__auRfK6R",children:["Similar issues",(0,M.jsxs)("span",{className:(0,em.$)("SimilarIssues-module__count__OuE09uh",!o&&"SimilarIssues-module__countHidden__tvRKRFA"),children:["(",e.length,")"]})]}),o&&l&&(0,M.jsx)(eI.A,{size:"small",srText:"Searching for similar issues"})]}),(0,M.jsxs)(lG.B,{direction:"horizontal",align:"center",gap:"condensed",children:[(0,M.jsx)(lW.A,{size:"small",variant:"secondary",children:"Experimental"}),(0,M.jsx)("span",{"aria-hidden":"true",children:"\xb7"}),(0,M.jsx)(lz.A,{"aria-label":"Give feedback (opens new tab)",href:"https://gh.io/duplicate-issue-feedback",target:"_blank",className:"SimilarIssues-module__feedbackLink__up2J6ru",children:"Give feedback"})]})]}),o&&(0,M.jsxs)("div",{id:"similar-issues-content",className:"SimilarIssues-module__content__JcHvbCH",children:[a&&(0,M.jsx)(lQ.v,{className:lX,size:"small",variant:"unavailable",children:"Unable to load similar issues."}),!a&&0===e.length&&(0,M.jsx)("p",{className:lX,children:"No similar issues found."}),e.length>0&&(0,M.jsx)("ul",{className:"SimilarIssues-module__list__OCK0Lry",children:e.map(e=>(0,M.jsx)(l2,{issue:e,repoOwner:t,repoName:i,onIssueClick:s,onIssueUpdate:r},e.id))})]})]})})}l0.displayName="IssueIcon",l1.displayName="SimilarIssueSubscriptionInner",l4.displayName="SimilarIssueSubscription",l2.displayName="SimilarIssueItem",l6.displayName="SimilarIssues";var l3=a(21373);let l7=({reasonHTML:e,issuesUrl:l})=>(0,M.jsxs)("div",{className:"UserRestrictedView-module__userRestrictedContainer__abcFCf8",children:[e&&(0,M.jsx)(er.l,{"aria-label":"Warning",variant:"warning",hideTitle:!0,title:"Action restricted",children:(0,M.jsx)(er.l.Description,{children:(0,M.jsx)(eX.JR,{html:e})})}),l&&(0,M.jsx)(l3.Q,{as:"a",href:l,className:"UserRestrictedView-module__backToAllIssuesButton__CFOXV4V",children:ek.k.backToAllIssues})]});l7.displayName="UserRestrictedView";var l8=a(73003),l5=a(68488),l9=a(78055);let ae={fragment:{argumentDefinitions:V=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"createIssueAddBlockedByMutation",selections:R=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"AddBlockedByPayload",kind:"LinkedField",name:"addBlockedBy",plural:!1,selections:[{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"issue",plural:!1,selections:D=[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"blockingIssue",plural:!1,selections:D,storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:V,kind:"Operation",name:"createIssueAddBlockedByMutation",selections:R},params:{id:"e0daa3cc39578a0c6d16892c620ba652",metadata:{},name:"createIssueAddBlockedByMutation",operationKind:"mutation",text:null}};async function al(e,l,a){let n=(await Promise.allSettled(l.map(({issueId:l,blockingIssueId:a})=>new Promise(n=>{!function({environment:e,input:l,onError:a,onCompleted:n}){(0,ep.commitMutation)(e,{mutation:ae,variables:{input:l},onError:e=>a&&a(e),onCompleted:e=>n&&n(e)})}({environment:e,input:{issueId:l,blockingIssueId:a},onError:e=>{n({success:!1,issueId:a,error:e.message})},onCompleted:e=>{n({success:null!==e.addBlockedBy,issueId:a})}})})))).filter(e=>"fulfilled"===e.status&&!e.value.success).length;n>0&&setTimeout(()=>{throw Error(`Failed to add ${n} of ${l.length} ${a} relationship(s)`)})}async function aa(e,l,a,n){let t=[];a.length>0&&t.push(al(e,a.map(e=>({issueId:l,blockingIssueId:e})),"blocked-by")),n.length>0&&t.push(al(e,n.map(e=>({issueId:e,blockingIssueId:l})),"blocking")),await Promise.all(t)}ae.hash="bddab089b466747a365e4f8c57ef56f1";var an=a(84851);let at=[],ai=({repository:e,title:l,setTitle:a,body:n,setBody:t,clearOnCreate:i,onCreateSuccess:s,onCreateError:r,selectedTemplate:o,footer:u,issueFormRef:d,onBeforeCreate:c,defaultValuesById:m,showSimilarIssues:g=!0,showUserRestrictedView:p=!1,onFieldChange:y,onSimilarIssueClick:k})=>{let{optionConfig:f,createMore:h,createMoreCreatedPath:b,setCreateMoreCreatedPath:F,isSubmitting:I,setIsSubmitting:S,onCreateAction:_,setIsFileUploading:x,displayMode:C,isCreatingSubIssueFromProject:v}=(0,ef.a)(),j=!f.insidePortal,T=(0,eg.useRef)(null),K=(0,eg.useRef)(void 0),[L,N]=(0,eg.useState)(),[P,E]=(0,eg.useState)(void 0),[w,A]=(0,eg.useState)(void 0),[V,D]=(0,eg.useState)(null),R=function({repoId:e}){let l=(0,ep.useRelayEnvironment)(),[a,n]=(0,eg.useState)(null);return(0,eg.useEffect)(()=>{(0,eN.SD)({environment:l,query:eL,variables:{id:e}}).subscribe({next:e=>{let l=(0,Y.IR)(e.node?.owner?.pinnedIssueFields?.nodes?.filter(e=>e?.__typename!=="%other"));n({securityPolicyUrl:e.node?.securityPolicyUrl??null,contributingFileUrl:e.node?.contributingFileUrl??null,codeOfConductFileUrl:e.node?.codeOfConductFileUrl??null,supportFileUrl:e.node?.supportFileUrl??null,orgPinnedFields:l})}})},[l,e]),a}({repoId:e.id}),eb=(0,eg.useRef)(null),eI=(0,ep.useRelayEnvironment)(),{sendAnalyticsEvent:eS}=(0,en.s)(),{addToast:e_}=(0,el.Y6)(),{labels:eC,assignees:ev,projects:ej,milestone:eT,issueType:eR,issueFields:eM,parentIssueId:eO,blockedByIssueIds:eB,blockingIssueIds:e$,usedStorageKeyPrefix:eU,isCopilotAssignmentDialogOpen:eH,setIsCopilotAssignmentDialogOpen:eq,copilotAssignmentAttributes:eG,setCopilotAssignmentAttributes:eW}=(0,eh.u)(),ez=(0,eE.E)({additionalConditions:[!o||!(0,l5.GQ)(o.data)],repositoryVisibility:e.visibility,userCanPushToRepo:e.viewerCanPush}),eQ=(e=>{let{sendAnalyticsEvent:l}=(0,en.s)(),a=(0,Q.G7)("issues_create_semantic_similarity_analytics");return(0,eP.d)(async(n,t)=>{a&&(n.trim().length>=10||t.trim().length>=25)&&l("analytics.issue.content_update","SEMANTIC_SIMILAR_ISSUE_ANALYTICS",{repoNWO:`${e.owner.login}/${e.name}`,titleLength:n.length,bodyLength:t.length})},800,{onChangeBehavior:"cancel"})})(e);(0,eg.useEffect)(()=>{ez&&eS("analytics.view","ISSUE_CREATE_NEW_ISSUE_WITH_COPILOT_BUTTON_VIEW",{repoNWO:`${e.owner.login}/${e.name}`})},[e.name,e.owner.login,eS,ez]);let eY=(0,eg.useRef)(!1);(0,eg.useEffect)(()=>{eG&&eY.current&&(eY.current=!1,_.current?.onCreate(!1,!1))},[eG]),(0,eg.useEffect)(()=>{eH||eG||(eY.current=!1)},[eH,eG]);let eX=(0,M.jsx)(l7,{reasonHTML:e.viewerInteractionLimitReasonHTML,issuesUrl:`/${e.owner.login}/${e.name}/issues`}),eZ=e.viewerIssueCreationPermissions.typeable,eJ=e.viewerIssueCreationPermissions.canSetIssueFields,e0=e=>{let l=e.map(e=>e?.message).filter(Boolean).join(", ");return(l?l.charAt(0).toUpperCase()+l.slice(1):null)??ey.S.createIssueError},e1=m||(0,an.Zi)();(0,eg.useEffect)(()=>{V&&V.length>0&&eb?.current&&eb.current.focus()},[eb,V]),(0,eg.useImperativeHandle)(_,()=>({onCreate:async(a,t)=>{let u,m;if(a)return;let g=(0,W.O_)(l);E(g.errorMessage),!g.isValid&&T.current&&(u=T.current);let p=o&&(0,l5.GQ)(o.data),y=n;if(p&&d.current){let e=d.current.getInvalidInputs();e.length>0?u=u||e[0]:y=d.current.markdown()??""}if(u||void 0!==P||0===(l??"").trim().length||void 0===e||void 0!==w)return void u?.focus();if(D(null),S(!0),ev.some(e=>(0,B.v)(e.login))&&!eG){eY.current=!0,eq(!0),S(!1);return}c&&(y=await c(y)),o&&(o.kind===l5.t7.IssueTemplate||o.kind===l5.t7.IssueForm)&&(m=o.name);let k={repositoryId:e.id,title:l?l.trim():"",body:y,labelIds:eC.length>0?eC.map(e=>e.id):void 0,assigneeIds:ev.length>0?ev.map(e=>e.id):void 0,milestoneId:eT?.id,issueTypeId:eZ||m?eR?.id:null,issueFields:eJ?eM.map(e=>{if(void 0===e.field.dataType||void 0===e.field.id)return null;let l=(0,Z.vl)((0,Y.HZ)(e.field.dataType),e.value);return{fieldId:e.field.id,...(0,Y.Ft)((0,Y.HZ)(e.field.dataType),l)}}).filter(e=>!!e):null,issueTemplate:m,isDuplicated:C===l8.q.IssueDuplication,parentIssueId:eO,clientMutationId:K.current??(K.current=crypto.randomUUID()),copilotAssignment:eG??void 0},f=!v&&!!eO&&!t;!function({environment:e,input:l,onError:a,onCompleted:n}){(0,ep.commitMutation)(e,{mutation:l$,variables:{input:l,fetchParent:!!l.parentIssueId},optimisticUpdater:e=>(function(e,l){if(!l.parentIssueId)return;let a=e.get(l.parentIssueId);if(!a)return;let n=lq(e,a);if(!n)return;let t=function(e,l,a){let n=`${lH.xv}${Date.now()}`,t=e.create(n,"Issue");t.setValue(n,"id"),t.setValue(l.title,"title"),t.setValue(l.title.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),"titleHTML"),t.setValue("OPEN","state"),t.setValue(null,"stateReason");let i=function(e,l,a){let n=`${l}-assignees`,t=e.create(n,"UserConnection"),i=[];if(a&&a.length>0)for(let n of a){let a=e.get(n);if(a){let t=`${l}-assignee-edge-${n}`,s=e.create(t,"UserEdge");s.setLinkedRecord(a,"node"),i.push(s)}}return t.setValue(i.length,"totalCount"),t.setLinkedRecords(i,"edges"),t}(e,n,l.assigneeIds);t.setLinkedRecord(i,"assignees",{first:10});let s=e.get(l.repositoryId);if(s)t.setLinkedRecord(s,"repository");else{let e=a.getLinkedRecord("repository");e&&t.setLinkedRecord(e,"repository")}t.setValue("","url");let r=`${n}-deps`,o=e.create(r,"IssueDependenciesSummary");o.setValue(0,"blockedBy"),t.setLinkedRecord(o,"issueDependenciesSummary");let u=`${n}-subIssuesSummary`,d=e.create(u,"SubIssuesSummary");return d.setValue(0,"total"),t.setLinkedRecord(d,"subIssuesSummary"),t}(e,l,a),i=n.getLinkedRecords("nodes")||[];n.setLinkedRecords([...i,t],"nodes");let s=n.getValue("totalCount");"number"==typeof s?n.setValue(s+1,"totalCount"):n.setValue(1,"totalCount"),function(e,l,a){let n=l.getLinkedRecord("subIssuesSummary");if(!n){let t=`${a}-subIssuesSummary`;n=e.create(t,"SubIssuesSummary");let i={total:0,completed:0,percentCompleted:0};for(let e in i)n.setValue(i[e],e);l.setLinkedRecord(n,"subIssuesSummary")}let t=n.getValue("total");"number"==typeof t?n.setValue(t+1,"total"):n.setValue(1,"total")}(e,a,l.parentIssueId)})(e,l),updater:e=>(function(e,l){if(!l.parentIssueId)return;let a=e.getRootField("createIssue");if(!a)return;let n=a.getLinkedRecord("issue");if(!n)return;let t=e.get(l.parentIssueId);if(!t)return;let i=lq(e,t);if(!i)return;let s=i.getLinkedRecords("nodes")||[],r=n.getValue("id");if(!s.some(e=>e?.getValue("id")===r)){i.setLinkedRecords([...s,n],"nodes");let e=i.getValue("totalCount");"number"==typeof e?i.setValue(e+1,"totalCount"):i.setValue(s.length+1,"totalCount")}})(e,l),onError:e=>a&&a(e),onCompleted:e=>{n?.(e),(0,lU.f)()}})}({environment:eI,input:k,onError:e=>{(0,z.N7)(as(e.message)),r(e),S(!1);let l=ey.S.createIssueError;e.cause&&Array.isArray(e.cause)&&e.cause.length>0&&(l=e0(e.cause)),f?e_({type:"error",message:l}):D(l)},onCompleted:e=>{if(S(!1),!e.createIssue?.issue){e.createIssue?.errors.map(e=>(0,z.N7)(as(e.message)));let l=ey.S.createIssueError;e.createIssue?.errors&&e.createIssue?.errors.length>0&&(l=e0(e.createIssue.errors)),f?e_({type:"error",message:l}):D(l);return}let l=e.createIssue.issue;eS("analytics.click","ISSUE_CREATE_NEW_ISSUE_BUTTON",{issueId:l.id,issueNumber:l.number,issueNWO:`${l.repository.owner.login}/${l.repository.name}`}),ej.length>0&&function(e,l,a){for(let n of l)(0,J.Z)({environment:a,issueId:e,projectId:n.id})}(l.id,ej,eI),(eB.length>0||e$.length>0)&&aa(eI,l.id,eB,e$),K.current=crypto.randomUUID(),t?(N("edit"),F({...b,number:l.number})):i(),f||s({issue:l,createMore:t})}}),f&&(i(),s({issue:{id:K.current??"",number:0,repository:{name:e.name,owner:{login:e.owner.login},databaseId:void 0,id:""},databaseId:void 0,title:"",url:""," $fragmentSpreads":{}},createMore:!1}))}}),[l,o,n,d,P,e,w,S,c,eC,ev,eT?.id,eZ,eR?.id,eJ,eM,C,eO,eB,e$,eG,eq,eI,r,eS,ej,s,F,b,i,e_,v]);let e4=e=>{(0,W.O_)(e).isValid&&E(void 0),a(e),eQ(e,n)},e2=e=>{A((0,W.QK)(e).errorMessage),t(e),eQ(l,e)},e6=o&&(0,l5.GQ)(o.data),[e3,e7]=(0,eg.useState)(""),e8=g&&(0,Q.G7)("semantic_similarity_duplicate_issue_detection"),e5=e6?e3:n,{items:e9,isFetching:le,setIsExpanded:ll,isError:la,isExpanded:ln,updateIssue:lt}=function({repoOwner:e,repoName:l,title:a,body:n,isSimilarIssuesEnabled:t,context:i}){let s=(0,eA.jE)(),[r,o]=(0,eg.useState)(!1),u=(0,eg.useRef)(null),[d,c]=(0,eg.useState)(a.trim()),[m,g]=(0,eg.useState)(n.trim()),p=(0,eP.d)(e=>c(e.trim()),1500),y=(0,eP.d)(e=>g(e.trim()),1500),k=(0,eg.useCallback)(e=>{t&&(e&&(c(a.trim()),g(n.trim())),o(e))},[t,a,n]);(0,eg.useEffect)(()=>{t&&r&&p(a.trim())},[t,a,r,p]),(0,eg.useEffect)(()=>{t&&r&&y(n.trim())},[t,n,r,y]);let f=d.length+m.length>=20,h=(0,eg.useMemo)(()=>["similar-issues",e,l,d,m,i],[e,l,d,m,i]),{data:b,isFetching:F,isError:I}=(0,eV.I)({queryKey:h,queryFn:async({signal:a})=>{let n=await (0,eF.lS)(`/${e}/${l}/issues/semantically_similar`,{method:"POST",body:{search:{title:d,body:m,page:1,per_page:5,context:i}},signal:a});if(!n.ok)throw Error(`Failed to fetch similar issues: ${n.status}`);return((await n.json()).similar_issues??[]).map(e=>({id:String(e.issue.id),nodeId:e.issue.node_id,number:e.issue.number,title:e.issue.title,state:e.issue.state.toUpperCase(),stateReason:e.issue.state_reason?.toUpperCase()}))},enabled:t&&r&&f,placeholderData:eD.rX,staleTime:6e4}),S=b??[],_=(0,eg.useCallback)(e=>{s.setQueryData(h,l=>l?l.map(l=>l.nodeId!==e.nodeId?l:{...l,...void 0!==e.title&&{title:e.title},...void 0!==e.state&&{state:e.state},...void 0!==e.stateReason&&{stateReason:e.stateReason}}):l)},[s,h]);return(0,eg.useEffect)(()=>{if(t&&!F&&u.current!==S.length){u.current=S.length;let e=S.length;0===e?(0,ew.i)("No similar issues found"):1===e?(0,ew.i)("1 similar issue found"):(0,ew.i)(`${e} similar issues found`)}},[t,S.length,F]),{items:S,isFetching:F,isError:I,isExpanded:r,setIsExpanded:k,updateIssue:_}}({repoOwner:e.owner.login,repoName:e.name,title:l,body:e5,isSimilarIssuesEnabled:e8,context:(0,l9.ob)(f)}),li=(0,eg.useCallback)((e,l,a)=>{ln&&d.current&&e7(d.current.markdown()??""),y?.(e,l,a)},[ln,d,y]),ls=(0,eg.useMemo)(()=>{if(e)return{type:"issue",repository:{databaseId:e.databaseId,nwo:`${e.owner.login}/${e.name}`,slashCommandsEnabled:e.slashCommandsEnabled}}},[e]),lr=(0,eg.useId)(),lo=[],lu=(0,et.Z)(),ld=(0,eg.useRef)(null),lc=(0,eg.useRef)(null),lm=(0,eg.useRef)(null),[lg,lp]=(0,eg.useState)(!1),[ly,lk]=(0,eg.useState)(!1),lf=(0,Q.G7)("create_issue_description_with_copilot"),lh=lf&&ez,{isPanelOpen:lb,isGenerating:lF,shouldShowCopilot:lI,togglePanel:lS,handleInputFocus:l_,commands:lx,panelProps:lC,containerStyle:lv}=(0,G.F)({editorRef:lm,body:n,onChange:(e,l)=>{e2(e),void 0!==l&&e4(l)},shouldShowCopilotFunctionality:ez,repoOwner:e.owner.login,repoName:e.name,title:l,generateTitle:!0,commandId:"issue-create:open-copilot-panel",canToggle:"preview"!==L});(0,eg.useEffect)(()=>{let e=document.getElementById("assignees-select-menu");e&&(lc.current=e)},[]);let lj=()=>{eS("analytics.click","ISSUE_CREATE_NEW_ISSUE_WITH_COPILOT_BUTTON",{repoNWO:`${e.owner.login}/${e.name}`});let l=new URLSearchParams({prompt:`Create an issue in ${e.nameWithOwner} to `});lu(`${H.Jz}?${l.toString()}`)};ez&&!lI&&lo.push((0,M.jsx)(ee.n.FooterButton,{ref:ld,variant:"invisible",leadingVisual:lh?ei.CopilotIcon:ei.ArrowUpRightIcon,size:"small",className:"CreateIssueForm-module__footerButton__iZepJMD",onClick:()=>{lI?lS():lf?lk(!0):n.length||l.length?lp(!0):lj()},children:ek.k.copilotCTAButton},"create-issue-with-copilot"));let lT=()=>{eq(!1)},lK=p?eX:(0,M.jsxs)(M.Fragment,{children:[lg&&(0,M.jsx)(es.l,{title:ek.k.copilotCTADialogTitle,onClose:()=>lp(!1),footerButtons:[{buttonType:"default",content:ek.k.copilotCTADialogCancelButton,onClick:()=>lp(!1)},{buttonType:"primary",content:ek.k.copilotCTADialogContinueButton,onClick:lj}],returnFocusRef:ld,children:ek.k.copilotCTADialogDescription}),!lI&&lf&&(0,M.jsx)(ex,{isOpen:ly,onClose:()=>lk(!1),onGenerate:(e,l)=>{a(e),t(l),lk(!1)},repoOwner:e.owner.login,repoName:e.name,title:l,body:n,returnFocusRef:ld}),V&&(0,M.jsx)(er.l,{ref:eb,title:"Error",description:(0,M.jsx)(ed.o,{children:V}),variant:"critical",className:"CreateIssueForm-module__errorBanner__zRMGSDX",role:"alert"}),(0,M.jsx)(O.B,{isOpen:eH,onClose:lT,onSubmit:(e,l,a,n,t)=>{eW({targetRepositoryId:e,baseRef:l,customInstructions:a,customAgent:n?.subAgentSlug,agentId:n?.topLevelAgentId,model:t}),lT()},repository:{name:e.name,owner:{login:e.owner.login}},returnFocusRef:lc}),(0,M.jsx)(eK,{title:l,titleInputRef:T,handleTitleChange:e=>{e4(e.currentTarget.value)},titleValidationResult:P}),ls&&!e6&&(0,M.jsx)(ea.tL,{commands:lx,children:(0,M.jsxs)("div",{className:"CreateIssueForm-module__commentBox__cobYgod",style:lv,children:[(0,M.jsx)($.hF,{ref:lm,subject:ls,label:ek.k.issueCreateBodyLabel,showLabel:!0,placeholder:ek.k.issueBodyPlaceholder,viewMode:L,onChangeViewMode:N,value:n,onSave:()=>_?.current?.onCreate(I,h),onChange:e=>{e2(e)},saveButtonTrailingIcon:!1,minHeightLines:f.insidePortal?14:20,"aria-describedby":w?lr:void 0,setIsFileUploading:x,toolbarButtons:lI?(0,M.jsx)(ee.n.ToolbarButton,{variant:"invisible",icon:ei.PencilAiIcon,size:"small",className:"CreateIssueForm-module__copilotWriteButton__ArOUz4u",onClick:lS,"aria-pressed":lb,"aria-label":ek.k.copilotCTAButton}):null,footerButtons:lo,disabled:lF,generatingText:lF,onInputFocus:l_}),lI&&lb&&"preview"!==L&&(0,M.jsx)(q.O,{...lC}),w&&(0,M.jsxs)(eo.A,{variant:"danger",id:lr,children:[(0,M.jsx)(eu.A,{icon:ei.AlertIcon}),w]})]})}),ls&&e6&&(0,l5.GQ)(o.data)&&(0,M.jsx)(X.Z,{outputRef:d,issueFormRef:o.data,subject:ls,sessionStorageKey:eU,defaultValuesById:e1,onSave:()=>_?.current?.onCreate(I,h),setIsFileUploading:x,onFieldChange:e8?li:y}),e8&&(0,M.jsx)(l6,{repoOwner:e.owner.login,repoName:e.name,items:e9,isLoading:le,isError:la,onExpandedChange:ll,onIssueClick:k,onIssueUpdate:lt})]}),lL=(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(lB,{orgPinnedFields:R?.orgPinnedFields??at,isPinnedFieldsLoading:null===R}),R&&(0,M.jsx)(U.t,{supportFileUrl:R.supportFileUrl??void 0,codeOfConductFileUrl:R.codeOfConductFileUrl??void 0,securityPolicyUrl:R.securityPolicyUrl??void 0,contributingFileUrl:R.contributingFileUrl??void 0})]}),lN=p?null:(0,M.jsx)(M.Fragment,{children:u&&(0,M.jsx)(ec.az,{sx:{gridArea:"footer",mt:[4,4,2*!!e6]},children:u})});return j?(0,M.jsx)("div",{className:"CreateIssueForm-module__CreateIssueFormWrapper__NtiTMJe",children:(0,M.jsxs)(ec.az,{className:(0,em.$)("width-fit","CreateIssueForm-module__formGridContainer__t8V7dRg"),sx:{gridTemplateAreas:`
              "body metadata"
              "footer nil"
            `},children:[(0,M.jsx)("div",{className:"CreateIssueForm-module__mainContentSection__sdjjT6k",children:lK}),(0,M.jsx)("div",{className:"CreateIssueForm-module__metadataSection__VjSX8L_",children:lL}),lN]})}):(0,M.jsxs)(M.Fragment,{children:[lK,lL,lN]})};function as(e){return Error(`Issue create mutation failed with error: ${e}`)}ai.displayName="CreateIssueForm"},92567(e,l,a){a.d(l,{N:()=>R,e:()=>M});var n,t,i,s,r,o,u,d,c=a(74848);let m={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"id"}],kind:"Fragment",metadata:null,name:"TemplateListPaneQuery",selections:[{alias:null,args:t=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"TemplateListPane"}],type:"Repository",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"TemplateListPaneQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"hasIssuesEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameWithOwner",storageKey:null},{alias:null,args:null,concreteType:"IssueForm",kind:"LinkedField",name:"issueForms",plural:!0,selections:[i,s={alias:null,args:null,kind:"ScalarField",name:"filename",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"IssueTemplate",kind:"LinkedField",name:"issueTemplates",plural:!0,selections:[i,s,r,o={alias:null,args:null,kind:"ScalarField",name:"about",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isBlankIssuesEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isSecurityPolicyEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"securityPolicyUrl",storageKey:null},{alias:null,args:null,concreteType:"RepositoryContactLink",kind:"LinkedField",name:"contactLinks",plural:!0,selections:[r,o,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasAnyTemplates",storageKey:null}],type:"Repository",abstractKey:null}],storageKey:null}]},params:{id:"616cce00c4f4fa38692beac78606b059",metadata:{},name:"TemplateListPaneQuery",operationKind:"query",text:null}};m.hash="48fd58d3a414612124beb28d391e3930";let g={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TemplateListPane",selections:[{alias:null,args:null,kind:"ScalarField",name:"hasIssuesEnabled",storageKey:null},{args:null,kind:"FragmentSpread",name:"TemplateList"}],type:"Repository",abstractKey:null};g.hash="881cdbdb34820ab9cdf5b5c8e6409bb0";var p=a(38621),y=a(18312),k=a(4774),f=a(18854);let h={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TemplateList",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameWithOwner",storageKey:null},{alias:null,args:null,concreteType:"IssueForm",kind:"LinkedField",name:"issueForms",plural:!0,selections:[u={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"filename",storageKey:null},{args:null,kind:"FragmentSpread",name:"IssueFormRow"}],storageKey:null},{alias:null,args:null,concreteType:"IssueTemplate",kind:"LinkedField",name:"issueTemplates",plural:!0,selections:[u,d,{args:null,kind:"FragmentSpread",name:"IssueTemplateRow"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isBlankIssuesEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isSecurityPolicyEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"securityPolicyUrl",storageKey:null},{alias:null,args:null,concreteType:"RepositoryContactLink",kind:"LinkedField",name:"contactLinks",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{args:null,kind:"FragmentSpread",name:"ExternalLinkTemplateRow"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasAnyTemplates",storageKey:null}],type:"Repository",abstractKey:null};h.hash="9273ddd168cea9d6445f53cc752642e5";var b=a(95066),F=a(18990);a(69487);var I=a(91374);let S=({filename:e,onTemplateSelected:l,name:a,about:n,link:t,externalLink:i,trailingIcon:s})=>(0,c.jsxs)(F.l.LinkItem,{as:I.N,to:t??"#",target:i?"_blank":void 0,onClick:a=>{a.altKey||a.ctrlKey||a.metaKey||a.shiftKey||(i||t||(a.preventDefault(),a.stopPropagation()),l(e))},className:"IssueTemplateItem-module__templateItemContainer__GYh3QOq",children:[(0,c.jsx)("span",{className:"IssueTemplateItem-module__actionListTitle__gKiCclV",children:a}),(0,c.jsx)(F.l.Description,{variant:"block",children:n}),(0,c.jsx)(F.l.TrailingVisual,{children:s??(0,c.jsx)(p.ArrowRightIcon,{})})]},e);S.displayName="IssueTemplateItem";var _=a(68488),x=a(84851);let C=({nameWithOwner:e,onTemplateSelected:l})=>(0,c.jsx)(S,{filename:_.$K,onTemplateSelected:()=>l?.(_.$K,_.t7.BlankIssue),name:k.k.blankIssueName,about:k.k.blankIssueDescription,link:l?void 0:(0,x.Qy)(e,_.$K)});C.displayName="BlankIssueItem";var v=a(58254);let j={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ExternalLinkTemplateRow",selections:[{alias:null,args:null,kind:"ScalarField",name:"about",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],type:"RepositoryContactLink",abstractKey:null};j.hash="89d8106fd30fe009b4d13c1f4908f32e";var T=a(62561);let K=({repositoryContactLink:e})=>{let l=(0,y.useFragment)(j,e);return(0,c.jsx)(S,{filename:l.name,onTemplateSelected:T.l,name:l.name,link:l.url,about:l.about,externalLink:!0,trailingIcon:(0,c.jsx)(p.LinkExternalIcon,{})})};K.displayName="ExternalLinkTemplateRow";let L={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IssueFormRow",selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"filename",storageKey:null}],type:"IssueForm",abstractKey:null};L.hash="4707734c7aff8e836f17a948f0fc6e8d";let N=({nameWithOwner:e,form:l,onTemplateSelected:a})=>{let n=(0,y.useFragment)(L,l);return(0,c.jsx)(S,{filename:n.filename,onTemplateSelected:e=>a?.(e,_.t7.IssueForm),name:n.name,about:n.description,link:a?void 0:(0,x.Qy)(e,n.filename)})};N.displayName="IssueFormRow";let P={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IssueTemplateRow",selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"about",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"filename",storageKey:null}],type:"IssueTemplate",abstractKey:null};P.hash="2047157ce521e245c1030871b4d976b7";let E=({nameWithOwner:e,template:l,onTemplateSelected:a})=>{let n=(0,y.useFragment)(P,l);return(0,c.jsx)(S,{filename:n.filename,onTemplateSelected:e=>a?.(e,_.t7.IssueTemplate),name:n.name,about:n.about,link:a?void 0:(0,x.Qy)(e,n.filename)})};E.displayName="IssueTemplateRow";let w=({link:e})=>(0,c.jsx)(S,{filename:"default-security-policy",link:e,externalLink:!0,onTemplateSelected:T.l,name:k.k.securityPolicyName,about:k.k.securityPolicyDescription,trailingIcon:(0,c.jsx)(p.ShieldIcon,{})});w.displayName="SecurityPolicyRow";var A=a(44877),V=a(73003);function D({repository:e,onTemplateSelected:l,className:a,setIsNavigatingToNew:n}){let{optionConfig:t,displayMode:i}=(0,f.a)(),s=(0,y.useFragment)(h,e);if(!s.hasAnyTemplates&&!s.isBlankIssuesEnabled&&!s.isSecurityPolicyEnabled)return(0,c.jsx)("span",{children:k.k.noTemplates});if(t.canBypassTemplateSelection){let e=function(e){if(e.contactLinks&&e.contactLinks.length>0||e.isSecurityPolicyEnabled&&e.securityPolicyUrl||e.isBlankIssuesEnabled)return null;let l=null;if(e.issueForms){if(1===e.issueForms.length)l=e.issueForms[0].filename;else if(e.issueForms.length>1)return null}if(e.issueTemplates)if(l){if(e.issueTemplates.length>0)return null}else 1===e.issueTemplates.length&&(l=e.issueTemplates[0].filename);if(!l)return null;let a=b.fV?.origin??"",n=`${a}/${e.nameWithOwner}`;return(0,x.RG)({repositoryAbsolutePath:n,fileName:l})}(s);if(e)return n?.(!0),t.navigate?.(e),null;n?.(!1)}let r=[...s.issueForms||[],...s.issueTemplates||[]].sort((e,l)=>e.filename.localeCompare(l.filename)).map(e=>"IssueForm"===e.__typename?(0,c.jsx)(N,{onTemplateSelected:l,form:e,nameWithOwner:s.nameWithOwner},e.filename):(0,c.jsx)(E,{onTemplateSelected:l,template:e,nameWithOwner:s.nameWithOwner},e.filename)),o=(0,c.jsxs)(c.Fragment,{children:[r,s.isBlankIssuesEnabled&&(0,c.jsx)(C,{onTemplateSelected:l,nameWithOwner:s.nameWithOwner},_.$K),s.isSecurityPolicyEnabled&&(0,c.jsx)(w,{link:s.securityPolicyUrl},"security_policy"),s.contactLinks&&s.contactLinks.map(e=>(0,c.jsx)(K,{repositoryContactLink:e},`contact_links.${e.name}`))]});return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(F.l,{className:a,"data-testid":v.Y.templateList,showDividers:!0,variant:"inset",children:t.showRepositoryPicker&&i===V.q.TemplatePicker?(0,c.jsxs)(F.l.Group,{children:[(0,c.jsx)(F.l.GroupHeading,{as:"h2",variant:"filled",className:`position-sticky top-0 x ${!t.insidePortal&&"border-top-0"} ${A.A.templateHeader}`,children:k.k.templatesFormsTitle}),o]}):o})})}D.displayName="TemplateList";function R({repositoryId:e,...l}){let a=(0,y.useLazyLoadQuery)(m,{id:e});return a.node?(0,c.jsx)(M,{repository:a.node,...l}):null}function M({repository:e,descriptionId:l,...a}){let{optionConfig:n}=(0,f.a)(),{insidePortal:t}=n,i=(0,y.useFragment)(g,e);return(0,c.jsx)("div",{children:i.hasIssuesEnabled?(0,c.jsx)(D,{repository:i,...a,className:`${!t?`border borderColor-muted rounded-2 overflow-hidden
                ${n.showRepositoryPicker?"pt-0 mt-0":"py-2 mt-2"}`:""}`}):(0,c.jsxs)("div",{className:"TemplateListPane-module__disabledStateGap__OfrNDRE d-flex flex-row flex-items-center m-3",children:[(0,c.jsx)(p.InfoIcon,{}),(0,c.jsx)("span",{id:l,children:k.k.issuesDisabledForRepo})]})})}R.displayName="TemplateListPaneFromRepo",M.displayName="TemplateListInternal"},73732(e,l,a){a.d(l,{l:()=>n});let n={createMore:"Create more",createMoreSubIssues:"Create more sub-issues",createFullscreen:"Open issue creation in fullscreen",copyUrl:"Copy link",create:"Create",cancel:"Cancel"}},54270(e,l,a){a.d(l,{S:()=>n});let n={createIssueError:"Unable to create issue.",unableToLoadSelectedTemplate:"Unable to selected template"}},4774(e,l,a){a.d(l,{k:()=>n});let n={issueCreateDialogTitleTemplatePane:(e="issue")=>`Create new ${e}`,issueCreateChooseDiffTemplate:"Choose a different template",issueCreateDialogTitleCreationPane:(e,l,a="issue")=>`Create new ${a} in ${e}${l?`: ${l}`:""}`,issueCreateDialogTitleDuplicationPane:(e,l="issue")=>`Duplicate current ${l} in ${e}`,issueCreateTitleLabel:"Add a title",issueCreateTitlePlaceholder:"Title",issueCreateBodyLabel:"Add a description",issueCreatedPrefix:"Issue created ",lastIssueCreated:e=>`Issue #${e} created`,issuesDisabledForRepo:"Issues are disabled for the selected repository. Please select a different repository.",issueBodyPlaceholder:"Type your description here\u2026",issueNumber:e=>`#${e}`,blankIssueName:"Blank issue",blankIssueDescription:"Create a new issue from scratch",securityPolicyName:"Report a security vulnerability",securityPolicyDescription:"Please review our security policy for more details",editTemplates:"Edit templates",viewTemplates:"View templates",templatesFormsTitle:"Templates and forms",noTemplates:"No templates available for the current repository",discardConfirmation:{title:"Discard changes?",content:"You have unsaved changes. Are you sure you want to discard them?",confirm:"Close and discard",cancel:"Keep editing"},loadingTooltip:"Loading...",templateId:e=>`template-item-${e}`,templateLabelId:e=>`template-item-${e}-label`,templateDescriptionId:e=>`template-item-${e}-description`,typePickerLabel:"Type",selectIssueTypeLabel:"create-issue-issue-type-label",fileUploadWarning:"Issue will be created once your upload has completed",issueTypeReadOnly:"You do not have permission to change the type",issueTypeReadOnlyReason:"You need the triage role or higher in this repository to change the issue type.",viewProfile:e=>`View ${e}'s profile`,copilotCTAButton:"Write with Copilot",copilotCTADialogTitle:"Navigate to Copilot Chat",copilotCTADialogDescription:"You have unsaved changes. Are you sure you want to discard them?",copilotCTADialogCancelButton:"Keep editing",copilotCTADialogContinueButton:"Go to Copilot",copilotGenerateDialogTitle:"Generate issue content with Copilot",copilotGenerateDialogTextareaLabel:"Additional context (optional)",copilotGenerateDialogTextareaPlaceholder:"Add any additional context to help Copilot generate a better issue...",copilotGenerateDialogGenerateButton:"Generate content",copilotGenerateError:"Failed to generate content with Copilot. Please try again.",copilotGenerateValidationWarning:"Please provide a title, existing description, or additional context to generate content.",copilotPanelInitialMessage:"How can I help you write your issue?",copilotPanelInputPlaceholder:"Type your message here...",copilotPanelSendButton:"Send",copilotPanelUpdatedMessage:"I've updated the issue title and description above.",copilotPanelLoadingMessage:"Writing\u2026",copilotPanelAcceptButton:"Accept",copilotPanelDiscardButton:"Discard",copilotPanelTryAgainButton:"Try again",copilotDiscardConfirmDialog:{title:"Discard changes?",content:"You have made edits to the generated content. Discarding will lose your changes.",confirm:"Discard",cancel:"Cancel"},copilotTryAgainConfirmDialog:{title:"Try again?",content:"You have made edits to the generated content. Trying again will replace your changes with new generated content.",confirm:"Try again",cancel:"Cancel"},backToAllIssues:"Back to all issues",crossRepoIssueDuplicationWarning:e=>`This issue is being duplicated across repositories. The following metadata might not be copied: ${e.join(", ")}.`,crossRepoIssueDuplicationDefaultWarning:"Changing the repository may remove Milestone, Labels, Type, and Assignees from the duplicate issue.",setAdditionalFields:"Set additional issue fields",addIssueField:"Add issue field"}},58254(e,l,a){a.d(l,{Y:()=>n});let n={createIssueButton:"create-issue-button",createMoreIssuesCheckbox:"create-more-check",templateList:"template-list",issueCreatedLink:"issue-created-link",issueCreatedAnnouncement:"issue-created-announcement",repositoryAndTemplateDialog:"repository-and-template-picker-dialog",templatePickerButton:"template-picker-button"}},39047(e,l,a){a.d(l,{d:()=>t,t:()=>n});let n={queryParams:{org:"org",repo:"repo",template:"template",title:"title",body:"body",assignees:"assignees",labels:"labels",milestone:"milestone",projects:"projects",type:"type",discussion:"discussion",permalink:"permalink"},maxQueryLengthLimits:{title:256,body:65536,assignees:10,labels:20,projects:20}},t=Object.values(n.queryParams)},79079(e,l,a){a.d(l,{Zf:()=>i,bV:()=>s,m5:()=>o,tT:()=>n,wK:()=>t,xv:()=>u});let n={repositoriesPreloadCount:5,localStorageMetadataKeys:{issueLabels:e=>`${e}.create-issue-labels`,issueAssignees:e=>`${e}.create-issue-assignees`,issueMilestone:e=>`${e}.create-issue-milestone`,issueProjects:e=>`${e}.create-issue-projects`,issueIssueType:e=>`${e}.create-issue-type`,issueIssueFields:e=>`${e}.create-issue-fields`},localStorageKeys:{issueCreateMore:e=>`${e}.create-issue-create-more`,issueRepoId:e=>`${e}.create-issue-repo-id`,issueTemplateId:e=>`${e}.create-issue-template-id`},localTitleAndBodyStorageKeys:{issueTitle:e=>`${e}.create-issue-title`,issueBody:e=>`${e}.create-issue-body`},storageKeyPrefixes:{defaultFallback:"hyperlist",globalAdd:"issue-global-add"}};function t(e){return Object.values({...n.localStorageKeys,...n.localStorageMetadataKeys,...n.localTitleAndBodyStorageKeys}).map(l=>l(e))}function i(e){return Object.values(n.localStorageMetadataKeys).map(l=>l(e))}function s(e){return Object.values(n.localTitleAndBodyStorageKeys).map(l=>l(e))}let r={title:n.localTitleAndBodyStorageKeys.issueTitle,body:n.localTitleAndBodyStorageKeys.issueBody};function o(e){return Object.values(r).map(l=>l(e))}let u="temp-sub-issue-"},18854(e,l,a){a.d(l,{a:()=>u,o:()=>o});var n=a(74848),t=a(69012),i=a(96540),s=a(79079);let r=(0,i.createContext)(null);function o({optionConfig:e,overrideFallbackDisplaymode:l,children:a}){let{issueCreateMore:o}=s.tT.localStorageKeys,[u,d]=(0,i.useState)(!1),[c,m]=(0,i.useState)(!1),[g,p]=(0,t.Fo)(`config.${o(e.storageKeyPrefix)}`,!1),[y,k]=(0,i.useState)({owner:"",repo:"",number:void 0}),f=e.getDefaultDisplayMode(l),[h,b]=(0,i.useState)(f),F=(0,i.useRef)(null),I=(0,i.useMemo)(()=>({optionConfig:e,createMore:g,setCreateMore:p,createMoreCreatedPath:y,setCreateMoreCreatedPath:k,displayMode:h,setDisplayMode:b,initialDefaultDisplayMode:f,isSubmitting:u,isFileUploading:c,setIsFileUploading:m,setIsSubmitting:d,onCreateAction:F,isSubIssue:!!e.issueCreateArguments?.parentIssue?.id,isCreatingSubIssueFromProject:e.issueCreateArguments?.isCreatingSubIssueFromProject??!1}),[e,g,p,y,k,h,f,u,c]);return(0,n.jsx)(r,{value:I,children:a})}r.displayName="IssueCreateContext",o.displayName="IssueCreateConfigContextProvider";let u=()=>{let e=(0,i.use)(r);if(!e)throw Error("useIssueCreateConfigContext must be used within a IssueCreateConfigContextProvider.");return e}},61408(e,l,a){a.d(l,{S:()=>s});var n=a(74848),t=a(18854),i=a(63336);function s({children:e,...l}){return(0,n.jsx)(t.o,{...l,children:(0,n.jsx)(i.s,{...l,children:e})})}s.displayName="IssueCreateContextProvider"},63336(e,l,a){a.d(l,{s:()=>m,u:()=>g});var n=a(74848),t=a(69371),i=a(95066),s=a(69012),r=a(96540),o=a(79079);function u(e,l,a,n){if(!e)return{projectsToSet:[],milestoneToSet:null};let t=n?.repository?.owner.login===n?.selectedRepository?.owner.login,i=t&&n?.repository?.name===n?.selectedRepository?.name;return{projectsToSet:t&&l.length>0?l:[],milestoneToSet:i&&a?a:null}}var d=a(68488);let c=(0,r.createContext)(null);function m({optionConfig:e,preselectedData:l,children:a}){let{storageKeyPrefix:m,issueCreateArguments:g}=e,{issueTitle:p,issueBody:y}=o.tT.localTitleAndBodyStorageKeys,{issueLabels:k,issueAssignees:f,issueProjects:h,issueMilestone:b,issueIssueType:F,issueIssueFields:I}=o.tT.localStorageMetadataKeys,[S,_]=(0,r.useState)(l?.repository),[x,C]=(0,r.useState)(l?.template),[v,j]=(0,r.useState)(`${m}.${x?.fileName||d.$K}`),T="";if(g?.initialValues?.discussion)T=g?.initialValues?.discussion.title;else if(g?.initialValues?.title)T=g?.initialValues?.title;else if(x){let e,l=(e="",x?.data&&(e=x?.data.title||""),e),a="";g?.initialValues?.appendTitleToTemplate&&(a=` ${g?.initialValues?.appendTitleToTemplate}`),T=[l,a].join("").trimStart()}else g?.initialValues?.appendTitleToTemplate&&(T=g?.initialValues?.appendTitleToTemplate);let[K,L,N]=(0,s.Fo)(p(v),T),P="";if(g?.initialValues?.discussion)P=g?.initialValues?.discussion.formattedBody;else if(g?.initialValues?.body)P=g?.initialValues?.body;else{let e;x&&(e="",x?.data&&(0,d.Al)(x?.data)&&(e=x?.data.body||""),P=e)}let[E,w,A]=(0,s.Fo)(y(v),P),V=[];if(g?.initialValues?.discussion)V=g?.initialValues?.discussion?.labels||[];else if(g?.initialValues?.labels)V=g?.initialValues?.labels;else{let e;x&&(e=[],x?.data&&(e=x?.data.labels?.edges?.flatMap(e=>e?.node?[e?.node]:[])||[]),V=e)}let[D,R,M]=(0,s.Fo)(k(v),V),O=[];if(g?.initialValues?.assignees)O=g?.initialValues?.assignees;else{let e;x&&(e=[],x?.data&&(e=x?.data.assignees?.edges?.flatMap(e=>e?.node?[e?.node]:[])||[]),O=e)}let[B,$,U]=(0,s.Fo)(f(v),O),H=(0,r.useMemo)(()=>g?.initialValues?.projects??[],[g?.initialValues?.projects]),q=function(e){let l,{template:a,projects:n=[],isParentInheritance:t=!1}=e;if(!t&&n.length>0)return n;let i=a?(l=[],a?.data&&(0,d.GQ)(a?.data)&&(l=a.data.projects?.edges?.flatMap(e=>e?.node?[e.node]:[])||[]),l):[];return i.length>0?i:n}({template:x,projects:g?.initialValues?.projects??[],isParentInheritance:!!g?.parentIssue}),[G,W,z]=(0,s.Fo)(h(v),q),Q=(0,r.useMemo)(()=>g?.initialValues?.milestone??null,[g?.initialValues?.milestone]),Y=(0,r.useMemo)(()=>Q&&l?.parentIssue?u(!0,[],Q,{repository:l?.repository,selectedRepository:S}).milestoneToSet:Q,[Q,l?.parentIssue,l?.repository,S]),[X,Z,J]=(0,s.Fo)(b(v),Y),ee=null;if(g?.initialValues?.type)ee=g?.initialValues?.type;else{let e;x&&(e=null,x?.data&&((0,d.GQ)(x?.data)||(0,d.Al)(x?.data))&&(e=x?.data.type||null),ee=e)}let[el,ea,en]=(0,s.Fo)(F(v),ee),[et,ei]=(0,s.Fo)(I(v),[]),[es,er]=(0,r.useState)(!1),[eo,eu]=(0,r.useState)(null),[ed,ec]=(0,r.useState)(K),[em,eg]=(0,r.useState)(E),ep=(0,r.useRef)(B);(0,r.useEffect)(()=>{ep.current=B},[B]);let ey=(0,r.useCallback)(e=>{L(e),ec(e)},[L,ec]),ek=(0,r.useCallback)(e=>{w(e),eg(e)},[w,eg]),ef=(0,r.useCallback)(l=>{let a=ep.current.some(e=>(0,t.v)(e.login)),n=l.some(e=>(0,t.v)(e.login));$(l),e.disableCopilotAssignmentModal||a||!n||er(!0)},[$,e.disableCopilotAssignmentModal]),eh=(0,r.useCallback)(e=>{ef([]),R([]),ei([]);let a=u(!!l?.parentIssue,H,Q,e);W(a.projectsToSet),Z(a.milestoneToSet)},[ef,R,ei,l?.parentIssue,Q,H,W,Z]),eb=(0,r.useCallback)(()=>{(0,s.D6)((0,o.wK)(v))},[v]),eF=(0,r.useCallback)(()=>{(0,s.D6)((0,o.Zf)(v))},[v]),eI=(0,r.useCallback)(()=>{(0,s.D6)((0,o.bV)(v))},[v]),eS=(0,r.useCallback)(()=>{(0,s.D6)([`config.${o.tT.localStorageKeys.issueCreateMore(m)}`])},[m]),e_=(0,r.useCallback)(()=>{L(""),w(""),ec(""),eg("")},[L,w,ec,eg]),ex=i.fV?.origin??"",eC=S?.nameWithOwner??"",ev=(0,r.useMemo)(()=>`${ex}/${eC}`,[ex,eC]),ej=l?.parentIssue,[eT,eK]=(0,r.useState)(ej&&"title"in ej?ej:null),eL=eT??l?.parentIssue??null,eN=eL?.id??null,[eP,eE]=(0,r.useState)([]),ew=(0,r.useMemo)(()=>eP.map(e=>e.id),[eP]),[eA,eV]=(0,r.useState)([]),eD=(0,r.useMemo)(()=>eA.map(e=>e.id),[eA]),eR=(0,r.useCallback)(e=>{C(e),j(`${m}.${e?.fileName||d.$K}`)},[m]),eM=(0,r.useMemo)(()=>({reinitTitle:N,reinitBody:A,reinitAssignees:U,reinitLabels:M,reinitProjects:z,reinitMilestone:J,reinitIssueType:en,usedStorageKeyPrefix:v,clearSessionData:eb,clearSessionMetadata:eF,clearSessionTitleAndBody:eI,clearSessionCreateMore:eS,resetMetadata:eh,clearTitleAndBody:e_,setNewTitle:ey,setNewBody:ek,originalTitle:ed,setOriginalTitle:ec,originalBody:em,setOriginalBody:eg,title:K,setTitle:L,body:E,setBody:w,repository:S,setRepository:_,repositoryAbsolutePath:ev,template:x,setTemplate:eR,preselectedRepository:l?.repository,preselectedTemplate:l?.template,labels:D,setLabels:R,assignees:B,setAssignees:ef,projects:G,setProjects:W,milestone:X,setMilestone:Z,issueType:el,setIssueType:ea,issueFields:et,setIssueFields:ei,parentIssue:eT,setParentIssue:eK,parentIssueId:eN,blockedByIssues:eP,setBlockedByIssues:eE,blockedByIssueIds:ew,blockingIssues:eA,setBlockingIssues:eV,blockingIssueIds:eD,isCopilotAssignmentDialogOpen:es,setIsCopilotAssignmentDialogOpen:er,copilotAssignmentAttributes:eo,setCopilotAssignmentAttributes:eu}),[N,A,U,M,z,J,en,v,eb,eF,eI,eS,eh,e_,ey,ek,ed,em,K,L,E,w,S,ev,x,eR,l?.repository,l?.template,D,R,B,ef,G,W,X,Z,el,ea,et,ei,eT,eN,eP,ew,eA,eD,es,eo]);return(0,n.jsx)(c,{value:eM,children:a})}c.displayName="IssueCreateDataContext",m.displayName="IssueCreateDataContextProvider";let g=()=>{let e=(0,r.use)(c);if(!e)throw Error("useIssueCreateDataContext must be used within a IssueCreateDataContextProvider.");return e}},26947(e,l,a){a.d(l,{or:()=>eu,vN:()=>ed});var n,t,i,s,r,o,u,d,c,m,g,p,y,k,f,h,b,F,I,S,_,x,C,v,j,T,K,L=a(74848);let N={fragment:{argumentDefinitions:[n={defaultValue:!1,kind:"LocalArgument",name:"includeTemplates"},t={defaultValue:null,kind:"LocalArgument",name:"name"},i={defaultValue:null,kind:"LocalArgument",name:"owner"}],kind:"Fragment",metadata:null,name:"CreateIssueDialogEntryQuery",selections:[{alias:null,args:s=[{kind:"Variable",name:"name",variableName:"name"},{kind:"Variable",name:"owner",variableName:"owner"}],concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[r={alias:null,args:null,kind:"ScalarField",name:"hasAnyTemplates",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"isBlankIssuesEnabled",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"hasIssuesEnabled",storageKey:null},{kind:"InlineDataFragmentSpread",name:"RepositoryPickerRepository",selections:[d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"databaseId",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"nameWithOwner",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[c,p={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},y={alias:null,args:[{kind:"Literal",name:"size",value:64}],kind:"ScalarField",name:"avatarUrl",storageKey:"avatarUrl(size:64)"},k={alias:null,args:null,kind:"ScalarField",name:"issueTypesEnabled",storageKey:null}],storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"isLocked",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"isPrivate",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"visibility",storageKey:null},F={alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null},I={alias:null,args:null,kind:"ScalarField",name:"isInOrganization",storageKey:null},u,r,S={alias:null,args:null,kind:"ScalarField",name:"slashCommandsEnabled",storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"viewerCanPush",storageKey:null},o,x={alias:null,args:[{kind:"Literal",name:"action",value:"create an issue"}],kind:"ScalarField",name:"viewerInteractionLimitReasonHTML",storageKey:'viewerInteractionLimitReasonHTML(action:"create an issue")'},C={alias:null,args:null,concreteType:"IssueCreationPermissions",kind:"LinkedField",name:"viewerIssueCreationPermissions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"labelable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"milestoneable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"assignable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"triageable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"typeable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"canSetIssueFields",storageKey:null}],storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"shortDescriptionHTML",storageKey:null}],args:null,argumentDefinitions:[]},{args:[{kind:"Variable",name:"includeTemplates",variableName:"includeTemplates"}],kind:"FragmentSpread",name:"CreateIssueDialog"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[i,t,n],kind:"Operation",name:"CreateIssueDialogEntryQuery",selections:[{alias:null,args:s,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[r,o,u,d,c,m,g,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[j={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},c,p,y,k,d],storageKey:null},f,h,b,F,I,S,_,x,C,v,{condition:"includeTemplates",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"IssueForm",kind:"LinkedField",name:"issueForms",plural:!0,selections:[j,T={alias:null,args:null,kind:"ScalarField",name:"filename",storageKey:null},m,{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"IssueTemplate",kind:"LinkedField",name:"issueTemplates",plural:!0,selections:[j,T,m,K={alias:null,args:null,kind:"ScalarField",name:"about",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isSecurityPolicyEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"securityPolicyUrl",storageKey:null},{alias:null,args:null,concreteType:"RepositoryContactLink",kind:"LinkedField",name:"contactLinks",plural:!0,selections:[m,K,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}]}],storageKey:null}]},params:{id:"050c2ef0f45554f8ab51c2e2c48bc886",metadata:{},name:"CreateIssueDialogEntryQuery",operationKind:"query",text:null}};N.hash="3637b8207b4416b73b8db4727054b1cd";var P=a(38603),E=a(62561),w=a(32764),A=a(96540),V=a(18312),D=a(79079),R=a(61408),M=a(73003),O=a(78055),B=a(96393);let $={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"includeTemplates"}],kind:"Fragment",metadata:null,name:"CreateIssueDialog",selections:[{args:[{kind:"Variable",name:"includeTemplates",variableName:"includeTemplates"}],kind:"FragmentSpread",name:"CreateIssue"}],type:"Repository",abstractKey:null};$.hash="2462dd98bf9bee7cbb97c2e845715e7c";var U=a(56149),H=a(60052);a(69487);var q=a(18854),G=a(63336),W=a(91495),z=a(91626),Q=a(68156),Y=a(58406),X=a(23131),Z=a(28294),J=a(38621),ee=a(26108),el=a(39081),ea=a(73732),en=a(4774),et=a(68488),ei=a(84851);let es="CreateIssueDialogHeader-module__CopyToClipboardButton__kzd6gM7",er=({navigate:e,dialogLabelId:l,onClose:a})=>{let{displayMode:n,setDisplayMode:t,optionConfig:i,isSubIssue:s}=(0,q.a)(),{repository:r,repositoryAbsolutePath:o,template:u,resetMetadata:d,setTemplate:c}=(0,G.u)(),m=(0,X.G7)("memex_default_issue_create_repository"),g=(0,A.useCallback)(()=>{a("close-button")},[a]),p=(0,A.useMemo)(()=>(0,ei.jk)(o),[o]),y=n===M.q.TemplatePicker&&void 0!==r,k=n===M.q.IssueCreation&&i.showFullScreenButton&&e!==E.l&&void 0!==r,f=(0,A.useCallback)(()=>{d({repository:r,selectedRepository:r}),c(void 0),t(M.q.TemplatePicker)},[d,c,t,r]),h=(0,A.useMemo)(()=>{let e=s?"sub-issue":"issue";if(n===M.q.TemplatePicker||!r?.nameWithOwner){let l=i.issueCreateArguments?.initialValues?.title;return en.k.issueCreateDialogTitleTemplatePane(e)+(l?` - "${l}"`:"")}let l=u&&u.kind!==et.t7.BlankIssue?u.name:void 0;return n===M.q.IssueDuplication?en.k.issueCreateDialogTitleDuplicationPane(r.nameWithOwner,e):en.k.issueCreateDialogTitleCreationPane(r.nameWithOwner,l,e)},[n,s,r?.nameWithOwner,u,i]);return(0,L.jsxs)(el.l.Header,{children:[(0,L.jsx)(Z.ak,{commands:{"issue-create:open-fullscreen":()=>{if(!k)return;let l=`/${r.nameWithOwner}/issues/new`,a=u&&u.kind!==et.t7.BlankIssue?u.fileName:void 0;e(a?`${l}?template=${encodeURIComponent(a)}`:l)}}}),(0,L.jsxs)("div",{className:"CreateIssueDialogHeader-module__CreateIssueDialogHeaderContainer__KA5q42E",children:[m&&n===M.q.IssueCreation&&(0,L.jsx)(ee.K,{icon:J.ArrowLeftIcon,"aria-label":"Back to templates",variant:"invisible",onClick:f,className:es}),(0,L.jsx)("div",{className:"CreateIssueDialogHeader-module__dialogTitleSection__Al0RqRv",children:(0,L.jsx)(el.l.Title,{id:l,children:h})}),y&&(0,L.jsx)(Y.T,{textToCopy:p,ariaLabel:ea.l.copyUrl,icon:J.CopyIcon,tooltipProps:{direction:"n"},className:es}),k&&(0,L.jsx)(Z.N5,{variant:"invisible",commandId:"issue-create:open-fullscreen",icon:J.ScreenFullIcon,className:es}),(0,L.jsx)(el.l.CloseButton,{onClose:g})]})]})};er.displayName="CreateIssueDialogHeader";let eo=({onCreateSuccess:e,onCancel:l,navigate:a,currentRepository:n,isNavigatingToNew:t,returnFocusRef:i,...s})=>{let{optionConfig:r,initialDefaultDisplayMode:o,setDisplayMode:u,displayMode:d,setCreateMore:c}=(0,q.a)(),{usedStorageKeyPrefix:m}=(0,G.u)(),g=(0,V.useFragment)($,n),p=(0,A.useCallback)(()=>{c(!1),u(o),l()},[o,l,c,u]),{onSafeClose:y}=(0,Q.Z)({storageKeyPrefix:m,issueFormRef:s.issueFormRef,onCancel:p}),k=(0,A.useCallback)(({issue:l,createMore:a})=>{e({issue:l,createMore:a}),a||u(o)},[o,e,u]),f={...s,onCancel:y},h=(0,A.useMemo)(()=>!t||!r.canBypassTemplateSelection,[t,r.canBypassTemplateSelection]);return(0,L.jsx)(U.ZL,{children:(0,L.jsx)(H.lG,{returnFocusRef:i,renderHeader:e=>(0,L.jsx)(er,{navigate:a,...e}),renderFooter:()=>d===M.q.IssueCreation||d===M.q.IssueDuplication?(0,L.jsx)(H.lG.Footer,{children:(0,L.jsx)(z.l,{onClose:()=>y(),...s})}):null,renderBody:()=>(0,L.jsx)("div",{className:`${d===M.q.IssueCreation||d===M.q.IssueDuplication?"p-3":"p-0"}`,children:(0,L.jsx)(W.E,{onCreateSuccess:k,navigate:a,currentRepository:g,...f})}),onClose:y,width:"xlarge",height:"auto",sx:{visibility:h?"visible":"hidden"},className:"CreateIssueDialog-module__CreateIssueDialogContainer__WMiQFFQ"})})};eo.displayName="CreateIssueDialog";let eu=({...e})=>(0,L.jsx)(A.Suspense,{children:(0,L.jsx)(ed,{...e})});eu.displayName="CreateIssueDialogEntry";let ed=({navigate:e,isCreateDialogOpen:l,setIsCreateDialogOpen:a,onCancel:n,onCreateSuccess:t,onCreateError:i,optionConfig:s,isNavigatingToNew:r,setIsNavigatingToNew:o,returnFocusRef:u})=>{let d=(0,V.useRelayEnvironment)(),[c,m]=(0,A.useState)(null),[g,p,y]=(0,V.useQueryLoader)(N),k=(0,O.Su)(s),f=k.showRepositoryPicker;(0,A.useEffect)(()=>{let e=async()=>{m(await (0,P.St)(d,{first:D.tT.repositoriesPreloadCount,hasIssuesEnabled:!0}))};f&&e()},[]);let h=(0,A.useMemo)(()=>k.issueCreateArguments?.repository?{owner:k.issueCreateArguments.repository.owner,name:k.issueCreateArguments.repository.name}:null,[k.issueCreateArguments?.repository]);(0,A.useEffect)(()=>(h&&p({...h,includeTemplates:!0},{fetchPolicy:"store-or-network"}),()=>y()),[y,h,p]);let b=()=>{n?.(),a(!1)};return l&&(!f||c)&&(g||!h)?(0,L.jsx)(ec,{createIssueProps:{topRepositories:c,onCreateSuccess:({issue:l,createMore:a})=>{t?t({issue:l,createMore:a}):a||(b(),e((0,w.dRG)({owner:l.repository.owner.login,repo:l.repository.name,issueNumber:l.number})))},onCreateError:e=>i?.(e),onCancel:b,navigate:e,isNavigatingToNew:r,setIsNavigatingToNew:o},config:k,currentRepoQueryRef:g??null,returnFocusRef:u}):null};ed.displayName="CreateIssueDialogEntryInternal";let ec=({currentRepoQueryRef:e,...l})=>e?(0,L.jsx)(em,{currentRepoQueryRef:e,...l}):(0,L.jsx)(eg,{currentRepoData:null,...l});ec.displayName="CreateIssueEntry";let em=({currentRepoQueryRef:e,...l})=>{let a=(0,V.usePreloadedQuery)(N,e);return(0,L.jsx)(eg,{currentRepoData:a,...l})};em.displayName="CreateIssueEntryWithRepo";let eg=({createIssueProps:e,config:l,currentRepoData:a,returnFocusRef:n})=>{let t=e.navigate??E.l,i=a&&a.repository?(0,P.Jo)(a.repository):null,s=(0,A.useRef)(null),r={repository:i??void 0,template:void 0,parentIssue:l.issueCreateArguments?.parentIssue},o={...e,issueFormRef:s,hideCreateMore:l.hideCreateMore},u=a?.repository,d=!1;return(u?.hasIssuesEnabled&&l.defaultDisplayMode!==M.q.IssueDuplication&&(d=t!==E.l&&!!i&&!!u&&!u.hasAnyTemplates&&u.isBlankIssuesEnabled),(0,A.useEffect)(()=>{if(d&&i){let e=(0,B.H_)({includeRepository:!1,repository:i,templateFileName:void 0,...l.issueCreateArguments?.initialValues});t(`/${i.nameWithOwner}/issues/new${e?`?${e}`:""}`)}},[t,d,i,l.issueCreateArguments?.initialValues]),d)?null:(0,L.jsx)(R.S,{optionConfig:l,overrideFallbackDisplaymode:M.q.TemplatePicker,preselectedData:r,children:(0,L.jsx)(eo,{currentRepository:a?.repository,...o,returnFocusRef:n})})};eg.displayName="CreateIssueEntryInternal"},15048(e,l,a){a.d(l,{K:()=>r});var n=a(32764),t=a(96540),i=a(63336),s=a(68488);let r=({issueFormRef:e,callback:l,handleTemplateChange:a,navigate:r,template:o})=>{let{clearTitleAndBody:u,clearSessionData:d,clearSessionMetadata:c,clearSessionTitleAndBody:m,clearSessionCreateMore:g}=(0,i.u)(),p=(0,t.useCallback)(({issue:t,createMore:i})=>{l?.({issue:t,createMore:i}),i?(o&&o.kind!==s.t7.BlankIssue?o:void 0)?(m(),e.current?.resetInputs({textOnly:!0}),a(o)):u():(e.current?.clearSessionStorage(),d(),r?.((0,n.dRG)({owner:t.repository.owner.login,repo:t.repository.name,issueNumber:t.number})))},[l,e,o,m,a,u,d,r]);return(0,t.useEffect)(()=>()=>{c(),g()},[g,c]),p}},68156(e,l,a){a.d(l,{Z:()=>u});var n=a(68439),t=a(69012),i=a(44472),s=a(96540),r=a(4774),o=a(79079);let u=({storageKeyPrefix:e,issueFormRef:l,onCancel:a})=>{let u=(0,i.S)(),d=(0,n.A)("sessionStorage"),c=(0,s.useMemo)(()=>JSON.stringify(""),[]),m=(0,s.useCallback)(async()=>await u({title:r.k.discardConfirmation.title,content:r.k.discardConfirmation.content,confirmButtonContent:r.k.discardConfirmation.confirm,confirmButtonType:"danger",cancelButtonContent:r.k.discardConfirmation.cancel}),[u]);return{onSafeClose:(0,s.useCallback)(async()=>{(!((0,o.m5)(e).some(e=>null!==d.getItem(e)&&d.getItem(e)!==c)||l?.current?.hasChanges())||await m())&&((0,t.D6)((0,o.wK)(e)),l?.current?.clearSessionStorage(),a())},[e,m,d,c,l,a])}}},81061(e,l,a){a.d(l,{E:()=>i});var n=a(55727),t=a(53462);function i({additionalConditions:e=[],repositoryVisibility:l,userCanPushToRepo:a}){let i=(0,n.mo)(),s=(0,t.X)();return i?.mode!=="immersive"&&!!s?.current_user_settings?.copilot_show_functionality&&("PUBLIC"!==l||!!a)&&e.every(e=>e)}},44181(e,l,a){a.d(l,{wT:()=>g,EV:()=>m});let n={kind:"InlineDataFragment",name:"useHandleTemplateChangeIssueTemplate"};n.hash="f40f14b9fc5e68c991814566f1700581";let t={kind:"InlineDataFragment",name:"useHandleTemplateChangeIssueForm"};t.hash="2b91a8d5f416e7948a2fa0b96775011d";let i={kind:"InlineDataFragment",name:"useHandleTemplateChange"};i.hash="a08364bb21fe7bb90b32c5dd4a84a3c6";var s=a(96540),r=a(69487),o=a(63336),u=a(73003),d=a(68488),c=a(84851);let m=e=>{let l,a=(0,r.readInlineData)(i,e);if(a.issueTemplate){let e=(0,r.readInlineData)(n,a.issueTemplate);l={name:e.name,fileName:e.filename,kind:d.t7.IssueTemplate,data:e}}else if(a.issueForm){let e=(0,r.readInlineData)(t,a.issueForm);l={name:e.name,fileName:e.filename,kind:d.t7.IssueForm,data:e}}return l},g=({optionConfig:e,repository:l,navigate:a,setDisplayMode:n})=>{let{setTemplate:t,reinitTitle:i,reinitBody:r,reinitAssignees:m,reinitLabels:g,reinitProjects:p,reinitMilestone:y,reinitIssueType:k}=(0,o.u)();return(0,s.useCallback)((s,o,f=!1)=>{t(s);let h="";if(o?.discussion)h=o.discussion.title;else if(o?.title)h=o.title||"";else{let e=s?.data.title||"",l="";o?.appendTitleToTemplate&&(l=` ${o.appendTitleToTemplate}`),h=[e,l].join("").trimStart()}i(h);let b="";o?.discussion?b=o.discussion.formattedBody||"":o?.body?b=o.body||"":s&&((0,d.Al)(s.data)||(0,d.yJ)(s.data))&&(b=s.data.body||""),r(b);g(o?.discussion?o.discussion?.labels||[]:o?.labels?o.labels:s?.data.labels?.edges?.flatMap(e=>e?.node?[e?.node]:[])||[]),m(o?.assignees??((s?.data.assignees?.edges||[]).flatMap(e=>e?.node?[e?.node]:[])||[])),o?.projects?p(o.projects):s&&(0,d.GQ)(s?.data)&&p(s.data.projects?.edges?.flatMap(e=>e?.node?[e.node]:[])||[]),o?.milestone&&y(o?.milestone);let F=o?.type??null;s&&!F&&((0,d.GQ)(s.data)||(0,d.Al)(s.data))&&void 0!==s.data.type&&(F=s.data.type||null),k(F??null),(!o||f)&&(e.navigateToFullScreenOnTemplateChoice&&l&&s?a((0,c.Qy)(l.nameWithOwner,s.fileName)):n(u.q.IssueCreation))},[t,i,r,g,m,k,p,y,e.navigateToFullScreenOnTemplateChoice,l,a,n])}},73003(e,l,a){a.d(l,{q:()=>n});let n={TemplatePicker:"TemplatePicker",IssueCreation:"IssueCreation",IssueDuplication:"IssueDuplication"}},68488(e,l,a){a.d(l,{$K:()=>t,AI:()=>d,Al:()=>s,GQ:()=>i,rp:()=>n,t7:()=>o,yJ:()=>r});let n="Blank issue",t="BLANK_ISSUE";function i(e){return"IssueForm"===e.__typename}function s(e){return"IssueTemplate"===e.__typename}function r(e){return"BlankIssue"===e.__typename}let o={IssueForm:"IssueForm",IssueTemplate:"IssueTemplate",ContactLink:"ContactLink",BlankIssue:"BlankIssue"},u={name:n,fileName:t,kind:o.BlankIssue,data:{__typename:"BlankIssue",__id:t,title:"",body:"",assignees:{edges:[]},labels:{edges:[]}}};function d(){return u}},78055(e,l,a){a.d(l,{Su:()=>r,ob:()=>i});var n=a(79079),t=a(73003);function i(e){return e.isCopilotImmersive?"copilot_immersive":e.insidePortal?"modal":"full_page"}let s={showFullScreenButton:!1,navigateToFullScreenOnTemplateChoice:!1,insidePortal:!0,showRepositoryPicker:!0,storageKeyPrefix:"",canBypassTemplateSelection:!1,emojiSkinTonePreference:0,copilotShowFunctionality:!1,disableCopilotAssignmentModal:!1,isCopilotImmersive:!1,hideCreateMore:!1},r=e=>{let l={...s,...e},a={storageKeyPrefix:(l.issueCreateArguments?.repository?`${l.issueCreateArguments?.repository.owner}-${l.issueCreateArguments?.repository.name}`:void 0)??l.storageKeyPrefix??n.tT.storageKeyPrefixes.defaultFallback};return{...l,...a,getDefaultDisplayMode:e=>l.defaultDisplayMode??e??t.q.TemplatePicker}}},96393(e,l,a){a.d(l,{H_:()=>r,mZ:()=>o});var n=a(95066),t=a(39047),i=a(68488),s=a(84851);function r({includeRepository:e,repository:l,templateFileName:a,title:i,body:r,assignees:o,labels:u,projects:d,milestone:c,type:m}){let g=new URLSearchParams(n.cg?.location?.search||"");return e&&l&&(g.set(t.t.queryParams.org,l.owner.login),g.set(t.t.queryParams.repo,l.name)),a&&g.set(t.t.queryParams.template,a),(0,s.E2)(g,t.t.queryParams.title,i,t.t.maxQueryLengthLimits.title),(0,s.E2)(g,t.t.queryParams.body,r,t.t.maxQueryLengthLimits.body),o&&(0,s.Hx)(g,t.t.queryParams.assignees,o?o.map(e=>e.login):void 0,t.t.maxQueryLengthLimits.assignees),u&&(0,s.Hx)(g,t.t.queryParams.labels,u.map(e=>e.name),t.t.maxQueryLengthLimits.assignees),d&&l?.owner&&(0,s.Hx)(g,t.t.queryParams.projects,d.map(e=>`${l.owner.login}/${e.number}`),t.t.maxQueryLengthLimits.assignees),c&&g.set(t.t.queryParams.milestone,c.title),m&&g.set(t.t.queryParams.type,m.name),g.toString()}function o(e,l,a){let n=e.get(t.t.queryParams.org)||a?.owner||null,r=e.get(t.t.queryParams.repo)||a?.repository||null,o=e.get(t.t.queryParams.template)||a?.template||null,u={...null!==n&&null!==r&&{repository:{owner:n,name:r}},...null!==o&&{templateFileName:o}},d=(0,s.Qg)(e,t.t.queryParams.title,t.t.maxQueryLengthLimits.title)||a?.title,c=(0,s.Qg)(e,t.t.queryParams.permalink,t.t.maxQueryLengthLimits.body);c=void 0===c?(0,s.Qg)(e,t.t.queryParams.body,t.t.maxQueryLengthLimits.body)||a?.body:decodeURIComponent(c);let m={...void 0!==d&&{title:d},...void 0!==c&&{body:c},...l};if(0===Object.keys(u).length)if(!(Object.keys(m).length>0))return;else u={templateFileName:i.rp};return{...u,...Object.keys(m).length>0&&{initialValues:m}}}},84851(e,l,a){a.d(l,{E2:()=>g,Hx:()=>p,Qg:()=>m,Qy:()=>r,RG:()=>d,TV:()=>k,Zi:()=>c,jk:()=>o,pM:()=>y});var n=a(95066),t=a(39047);let i="/issues/new",s=`${i}/choose`,r=(e,l)=>{let a=new URLSearchParams(n.fV.search||"");return a.set("template",l),`/${e}/issues/new?${a.toString()}`},o=e=>u(e,s),u=(e,l)=>e.endsWith("/")?e.substring(0,e.length-1)+l:e+l,d=({repositoryAbsolutePath:e,fileName:l})=>{let a=new URL(u(e,i),n.cg?.location?.origin),s=new URLSearchParams(a.search);return s.set(t.t.queryParams.template,l),a.search=s.toString(),a.toString()},c=e=>{let l=e??new URLSearchParams(n.cg?.location?.search||""),a={};for(let[e,n]of l)if(t.d.includes(e))continue;else null===n?a[e]="":a[e]=n.substring(0,t.t.maxQueryLengthLimits.body);return a},m=(e,l,a)=>{let n=e.get(l);if(null!==n)return n.substring(0,a)},g=(e,l,a,n)=>{void 0!==a&&e.set(l,a.substring(0,n))},p=(e,l,a,n)=>{a&&e.set(l,a.slice(0,n).join(","))};function y(){return`/login?return_to=${n.fV?.href}`}function k(e){return`/${e}/issues/new/choose`}},48315(e,l,a){a.d(l,{k:()=>r});var n=a(16522),t=a(96540),i=a(23131),s=a(49159);function r(){let e,l,a,r,o=(0,n.c)(4);o[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.G7)("issue_fields_report_usage"),o[0]=e):e=o[0];let u=e,d=(0,t.useRef)(null);o[1]===Symbol.for("react.memo_cache_sentinel")?(l=()=>{d.current=Date.now()},o[1]=l):l=o[1];let c=l;o[2]===Symbol.for("react.memo_cache_sentinel")?(a=e=>{if(!u)return;let l=d.current?Date.now()-d.current:void 0;d.current=null;var a={...e,interactionDuration:l};let n={};for(let[e,l]of Object.entries(a))if(void 0!==l){let a=e.replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase();Array.isArray(l)?n[a]=l.join(","):n[a]=l}(0,s.BI)("issue_fields_usage",{...n,version:"1.0.1"})},o[2]=a):a=o[2];let m=a;return o[3]===Symbol.for("react.memo_cache_sentinel")?(r={markInteractionStart:c,reportUsage:m},o[3]=r):r=o[3],r}},1456(e,l,a){a.d(l,{Z:()=>z});var n,t=a(74848);let i={kind:"InlineDataFragment",name:"IssueFormElements_templateElements"};i.hash="8c027995abd00c22fac1d025a14e2a8d";var s=a(69012),r=a(96540),o=a(18312);let u={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CheckboxesElement_input",selections:[{alias:"itemId",args:null,kind:"ScalarField",name:"id",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"descriptionHTML",storageKey:null},{alias:"checkboxOptions",args:null,concreteType:"IssueFormElementCheckboxOption",kind:"LinkedField",name:"options",plural:!0,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"labelHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"required",storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],type:"IssueFormElementCheckboxes",abstractKey:null};u.hash="66c71c2357977009e7b34571e8a11e21";var d=a(87179),c=a(54279),m=a(64451),g=a(7624),p=a(85965),y=a(60490);let k="_No response_";function f(e,l){return(0===l.length&&(l=k),e)?`### ${e}

${l}`:l}let h=(e,l,a,n)=>{if("markdown"===l)return"";let t=""===l?a:`${l}-${a}`;return`${e}-${t}-${n}`};function b({itemId:e,indexOfFormElement:l,defaultValuesById:a,checkboxCount:n}){if(!e)return Array(n).fill(!1);let t=(0,y.k)({id:e,value:"",indexOfFormElement:l,defaultValuesById:a}).split(",").map(e=>"true"===e.trim());return t.length===n?t:Array(n).fill(!1)}let F=({ref:e,elementRef:l,index:a,sessionStorageKey:n,defaultValuesById:i,onFieldChange:s})=>{let r=(0,o.useFragment)(u,l);if(!r.checkboxOptions)return null;let d=h(n,"",r.label,r.__id);return(0,t.jsx)(I,{...r,type:"checkboxes",index:a,ref:e,sessionStorageKey:d,defaultValuesById:i,onFieldChange:s})};F.displayName="CheckboxesElement";let I=({ref:e,itemId:l,index:a,sessionStorageKey:n,label:i,descriptionHTML:o,checkboxOptions:u,defaultValuesById:y,onFieldChange:k})=>{let h=(0,r.useRef)(null),F=(0,r.useMemo)(()=>b({itemId:l,indexOfFormElement:a,defaultValuesById:y,checkboxCount:u.length}),[u.length,y,a,l]),[I,S]=(0,s.Fo)(n,F),_=(0,r.useRef)(I);(0,r.useEffect)(()=>{_.current=I},[I]),(0,r.useEffect)(()=>{let e=y&&Object.keys(y).length>0;if(k&&e){let e=b({itemId:l,indexOfFormElement:a,defaultValuesById:y,checkboxCount:u.length});S(e),_.current=e}},[y,a,l,u.length,S,k]),(0,r.useEffect)(()=>{if(k){let e=_.current,n=b({itemId:l,indexOfFormElement:a,defaultValuesById:y,checkboxCount:u.length});e.length===n.length&&e.every((e,l)=>e===n[l])||k(l,a,e.map(e=>e.toString()).join(","))}},[I,l,a,k,y,u.length]);let[x,C]=(0,r.useState)(void 0);return(0,r.useImperativeHandle)(e,()=>({focus:()=>h.current?.focus(),markdown:()=>f(i,u.map((e,l)=>{var a,n;return a=e.label,n=I[l],`- [${n?"x":" "}] ${a}`}).join("\n")),validate:()=>{for(let[e,l]of u.entries())if(l.required&&!I[e])return C(d.wY.checkboxInAGroupMustBeSelected),!1;return!0},reset:()=>{S(F),C(void 0)},hasChanges:()=>!F.every((e,l)=>e===I[l]),getSessionStorageKey:()=>n,type:"checkboxes"}),[u,F,i,I,n,S]),(0,r.useEffect)(()=>{x&&u.every((e,l)=>!e.required||I[l])&&C(void 0)},[u,I,x]),(0,t.jsxs)(m.A,{className:"CheckboxesElement-module__CheckboxesElementGroup__TtI7aH_",children:[(0,t.jsx)(m.A.Label,{className:"CheckboxesElement-module__CheckboxesElementGroupLabel__NJeQ6Ay",children:i}),o&&(0,t.jsx)(m.A.Caption,{className:"CheckboxesElement-module__CheckboxesElementGroupDescription__M4F2JPM",children:(0,t.jsx)(c.vb,{html:o,className:"markdown-body note text-small mb-2"})}),u.map((e,l)=>(0,t.jsxs)(g.A,{required:e.required??!1,children:[(0,t.jsx)(p.A,{ref:0===l?h:void 0,checked:I[l],onChange:()=>{S(I.map((e,a)=>a===l?!e:e))}}),(0,t.jsx)(g.A.Label,{className:"CheckboxesElement-module__checkboxOptionLabel__gpTI2Uh",children:(0,t.jsx)(c.JR,{html:e.labelHTML})})]},l)),x&&(0,t.jsx)(m.A.Validation,{variant:"error",children:x})]})};I.displayName="CheckboxesElementInternal",F.displayName="CheckboxesElement",I.displayName="CheckboxesElementInternal";let S={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DropdownElement_input",selections:[{alias:"itemId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"descriptionHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"options",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"required",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"multiple",storageKey:null},{alias:"defaultOptionIndex",args:null,kind:"ScalarField",name:"default",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],type:"IssueFormElementDropdown",abstractKey:null};S.hash="c5f5c78821adbd1825aa041b7a1063bf";var _=a(45596),x=a(44640),C=a(18990);let v="DropdownElement-module__dropdownElementButtonText__TUnQDxq";var j=a(34164);function T({children:e,label:l,required:a,description:n,validationResult:i,className:s}){let o=(0,r.useId)(),u=(0,r.useId)(),d=(0,r.useId)();return(0,t.jsxs)("div",{className:(0,j.$)("ElementWrapper-module__elementWrapperContainer__ygDtl5j",s),children:[(0,t.jsxs)(g.A,{required:a??!1,children:[(0,t.jsx)(g.A.Label,{id:o,className:(0,j.$)("ElementWrapper-module__elementLabel__if513CV",n&&"ElementWrapper-module__elementLabelWithDescription__Qpc36xV"),children:l}),n&&(0,t.jsx)(g.A.Caption,{id:u,className:"ElementWrapper-module__elementDescription__PGGnPg8",children:(0,t.jsx)(c.vb,{html:n,className:"markdown-body note text-small mb-2"})})]}),e({labelId:o,descriptionIds:`${u} ${d}`}),i&&(0,t.jsx)(g.A.Validation,{id:d,variant:"error",className:"ElementWrapper-module__validationMessage__lwc74Au",children:i})]})}function K({itemId:e,indexOfFormElement:l,defaultValuesById:a,optionChoices:n}){if(!e)return[];let t=new Set(function(e){if(!e.trim())return[];try{let l=`[${e}]`;return JSON.parse(l)}catch{return[]}}((0,y.k)({id:e,indexOfFormElement:l,value:"",defaultValuesById:a})));return n.filter(e=>t.has(e))}T.displayName="ElementWrapper";let L=({ref:e,elementRef:l,index:a,sessionStorageKey:n,defaultValuesById:i,onFieldChange:s})=>{let r=(0,o.useFragment)(S,l);if(!r.options)return null;let u=h(n,"",r.label,r.__id);return(0,t.jsx)(N,{...r,index:a,ref:e,type:"dropdown",sessionStorageKey:u,defaultValuesById:i,onFieldChange:s})};L.displayName="DropdownElement";let N=({ref:e,itemId:l,index:a,sessionStorageKey:n,label:i,options:o,descriptionHTML:u,required:c,multiple:m,defaultOptionIndex:g,defaultValuesById:p,onFieldChange:y})=>{let k=(0,r.useRef)(null),h=(0,r.useRef)(null),b=null!=g,F=(0,r.useMemo)(()=>m||c||b?o:["None",...o],[b,m,o,c]),I=(0,r.useMemo)(()=>{let e=K({itemId:l,indexOfFormElement:a,defaultValuesById:p,optionChoices:F});return 0===e.length&&b&&g>=0&&g<F.length?[F[g]]:(0===e.length&&F.length>0&&!m&&(e=[F[0]]),e)},[g,p,b,a,l,m,F]),[S,j]=(0,s.Fo)(n,I),L=(0,r.useRef)(S);(0,r.useEffect)(()=>{L.current=S},[S]),(0,r.useEffect)(()=>{let e=p&&Object.keys(p).length>0;if(y&&e){let e=K({itemId:l,indexOfFormElement:a,defaultValuesById:p,optionChoices:F});j(e),L.current=e}},[p,a,l,F,j,y]),(0,r.useEffect)(()=>{if(y){let e=L.current,n=K({itemId:l,indexOfFormElement:a,defaultValuesById:p,optionChoices:F}),t=new Set(e),i=new Set(n);t.size===i.size&&[...t].every(e=>i.has(e))||y(l,a,e.map(e=>`"${e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`).join(", "))}},[S,l,a,y,p,F]);let[N,P]=(0,r.useState)(void 0),E=(0,r.useCallback)(e=>()=>{S.includes(e)?m&&j(S.filter(l=>l!==e)):m?j([...S,e]):j([e])},[m,S,j]);(0,r.useImperativeHandle)(e,()=>({focus:()=>k.current?.focus(),markdown:()=>f(i,S.join(", ")),validate:()=>!c||0!==S.length||(P(d.wY.missingDropdownSelection),!1),reset:()=>{j(I),P(void 0)},hasChanges:()=>{if(S.length!==I.length)return!0;for(let e of S)if(!I.includes(e))return!0;return!1},getSessionStorageKey:()=>n,type:"dropdown"}),[I,i,c,S,n,j]),(0,r.useEffect)(()=>{S.length>0&&P(void 0)},[S]);let[w,A]=(0,r.useState)(!1),V=0===S.length?"None":S.join(", ");return(0,r.useEffect)(()=>{h.current&&A(h.current.scrollWidth>h.current.clientWidth)},[h,A]),(0,t.jsx)(T,{label:i,description:u,required:c,validationResult:N,className:"DropdownElement-module__dropdownElementContainer__xiaKgDM",children:({labelId:e,descriptionIds:l})=>(0,t.jsxs)(_.W,{anchorRef:k,children:[w?(0,t.jsx)(x.m,{text:V,children:(0,t.jsx)(_.W.Button,{"aria-labelledby":e,"aria-describedby":l,children:(0,t.jsx)("span",{ref:h,className:v,children:V})})}):(0,t.jsxs)(_.W.Button,{"aria-labelledby":e,"aria-describedby":l,children:[" ",(0,t.jsx)("span",{ref:h,className:v,children:V})]}),(0,t.jsx)(_.W.Overlay,{width:"medium",side:"outside-top",maxHeight:"medium",className:"DropdownElement-module__dropdownMenuOverlay__m5xMsvf",children:(0,t.jsx)(C.l,{selectionVariant:m?"multiple":"single",children:F.map((e,l)=>(0,t.jsx)(C.l.Item,{selected:S.includes(e),onSelect:E(e),children:e},l))})})]})})};N.displayName="DropdownElementInternal",L.displayName="DropdownElement",N.displayName="DropdownElementInternal";let P={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MarkdownElement_input",selections:[{alias:null,args:null,kind:"ScalarField",name:"contentHTML",storageKey:null}],type:"IssueFormElementMarkdown",abstractKey:null};P.hash="bcf5223d492443ecf5db4594632948d9";var E=a(24996),w=a(51639);let A=()=>(0,t.jsx)("div",{className:"FormElementLoading-module__loadingSkeletonContainer__rNSPLL2",children:(0,t.jsx)(w.Q,{borderRadius:"pill",height:"lg",width:"400px"})});A.displayName="FormElementLoading";let V=({elementRef:e})=>{let l=(0,o.useFragment)(P,e);return(0,t.jsx)(D,{verifiedHTML:l.contentHTML,type:"markdown"})};V.displayName="MarkdownElement";let D=({verifiedHTML:e})=>(0,t.jsx)(r.Suspense,{fallback:(0,t.jsx)(A,{}),children:(0,t.jsx)(E.G,{verifiedHTML:e})});D.displayName="MarkdownElementInternal";let R={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TextAreaElement_input",selections:[{alias:"itemId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"descriptionHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"placeholder",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"required",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"render",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],type:"IssueFormElementTextarea",abstractKey:null};R.hash="77263c4a3e8e6f76c8ddc25b88931e27";var M=a(37977),O=a(65820);let B=({ref:e,elementRef:l,index:a,sessionStorageKey:n,...i})=>{let s=(0,o.useFragment)(R,l),r=h(n,"",s.label,s.__id);return(0,t.jsx)($,{...s,...i,index:a,ref:e,type:"textarea",sessionStorageKey:r})};B.displayName="TextAreaElement";let $=({ref:e,itemId:l,sessionStorageKey:a,index:n,label:i,descriptionHTML:o,placeholder:u,required:c,value:m,render:g,subject:p,defaultValuesById:h,onSave:b,setIsFileUploading:F,onFieldChange:I})=>{let S=(0,r.useMemo)(()=>(0,y.k)({id:l,indexOfFormElement:n,value:m,defaultValuesById:h}),[l,n,m,h]),[_,x]=(0,s.Fo)(a,S),[C,v]=(0,r.useState)(!1),j=(0,r.useRef)(null);(0,r.useEffect)(()=>{let e=h&&Object.keys(h).length>0;if(I&&e&&!C){let e=(0,y.k)({id:l,indexOfFormElement:n,value:m,defaultValuesById:h});e!==_&&e!==m&&x(e)}},[h,n,l,x,m,C,_,I]);let K=e=>{v(!0),x(e),I&&I(l,n,e),j.current&&clearTimeout(j.current),j.current=setTimeout(()=>{v(!1),j.current=null},500)},L=(0,r.useRef)(null),[N,P]=(0,r.useState)(void 0);return(0,r.useImperativeHandle)(e,()=>({focus:()=>L.current?.focus(),markdown:()=>f(i,g&&_!==k?`\`\`\`${g}
${_.replace(/(```)(\w+)/g,"").replace(/(```)/g,"").trim()}
\`\`\``:_),validate:()=>{let e=(0,d.sT)(_,c??!1);return P(e.errorMessage),e.isValid},reset:()=>{x(S),P(void 0)},hasChanges:()=>_!==S,getSessionStorageKey:()=>a,type:"textarea"}),[S,i,g,c,a,x,_]),(0,r.useEffect)(()=>{N&&(0,d.sT)(_,c??!1).isValid&&P(void 0)},[c,_,N]),(0,t.jsx)(T,{label:i,required:c,description:o,validationResult:N,className:"TextAreaElement-module__TextAreaElementContainer__TjbdT7f",children:({labelId:e,descriptionIds:l})=>g?(0,t.jsx)(O.Ay,{"aria-labelledby":e,"aria-describedby":l,ref:L,placeholder:u??void 0,value:_,className:"TextAreaElement-module__codeViewTextArea__Zz2cfem",onChange:e=>{K(e.target.value)}}):(0,t.jsx)(M.hF,{labelledBy:e,"aria-describedby":l,ref:L,placeholder:u??void 0,value:_,onChange:e=>{K(e)},onSave:b,saveButtonTrailingIcon:!1,subject:p,setIsFileUploading:F})})};$.displayName="TextAreaElementInternal",B.displayName="TextAreaElement",$.displayName="TextAreaElementInternal";let U={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TextInputElement_input",selections:[{alias:"itemId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"descriptionHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"placeholder",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"required",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],type:"IssueFormElementInput",abstractKey:null};U.hash="20ef068a2834313afaaf43e8b01d0d49";var H=a(38750);let q=({ref:e,elementRef:l,sessionStorageKey:a,...n})=>{let i=(0,o.useFragment)(U,l),s=h(a,"",i.label,i.__id);return(0,t.jsx)(G,{...i,...n,type:"input",sessionStorageKey:s,ref:e})};q.displayName="TextInputElement";let G=({ref:e,sessionStorageKey:l,itemId:a,index:n,label:i,descriptionHTML:o,placeholder:u,required:c,value:m,defaultValuesById:g,onFieldChange:p})=>{let k=(0,r.useMemo)(()=>(0,y.k)({id:a,indexOfFormElement:n,value:m,defaultValuesById:g}),[a,n,m,g]),[h,b]=(0,s.Fo)(l,k),[F,I]=(0,r.useState)(!1),S=(0,r.useRef)(null);(0,r.useEffect)(()=>{let e=g&&Object.keys(g).length>0;if(p&&e&&!F){let e=(0,y.k)({id:a,indexOfFormElement:n,value:m,defaultValuesById:g});e!==h&&e!==m&&b(e)}},[g,n,F,a,p,b,m,h]);let _=(0,r.useRef)(null),[x,C]=(0,r.useState)(void 0);return(0,r.useImperativeHandle)(e,()=>({focus:()=>_.current?.focus(),markdown:()=>f(i,h),validate:()=>{let e=(0,d.sT)(h,c??!1);return C(e.errorMessage),e.isValid},reset:()=>{b(k),C(void 0)},hasChanges:()=>h!==k,getSessionStorageKey:()=>l,type:"input"}),[k,i,c,l,b,h]),(0,r.useEffect)(()=>{x&&(0,d.sT)(h,c??!1).isValid&&C(void 0)},[c,h,x]),(0,t.jsx)(T,{label:i,description:o,required:c,validationResult:x,children:({labelId:e,descriptionIds:l})=>(0,t.jsx)(H.A,{ref:_,"aria-labelledby":e,"aria-describedby":l,placeholder:u??void 0,value:h,className:"TextInputElement-module__issueFormTextField__McY09fF",onChange:e=>{var l;l=e.target.value,I(!0),b(l),p&&p(a,n,l),S.current&&clearTimeout(S.current),S.current=setTimeout(()=>{I(!1),S.current=null},500)}})})};G.displayName="TextInputElementInternal",q.displayName="TextInputElement",G.displayName="TextInputElementInternal";let W="IssueFormElements-module__formElementsContainer__J_DMJY3",z=e=>"elements"in e?(0,t.jsx)(Q,{...e}):(0,t.jsx)(Y,{...e});z.displayName="IssueFormElements";let Q=({elements:e,outputRef:l,sessionStorageKey:a,...n})=>{let i=X(e.length,l);return(0,t.jsx)("div",{className:W,children:e.map((e,l)=>{let s="markdown"===e.type?"":h(a,e.type,e.label,l);switch(e.type){case"markdown":return(0,t.jsx)(D,{...e},l);case"textarea":return(0,t.jsx)($,{index:l,...e,ref:i[l],sessionStorageKey:s,...n},l);case"input":return(0,t.jsx)(G,{index:l,...e,ref:i[l],sessionStorageKey:s,...n},l);case"dropdown":return(0,t.jsx)(N,{index:l,...e,ref:i[l],sessionStorageKey:s},l);case"checkboxes":return(0,t.jsx)(I,{index:l,...e,ref:i[l],sessionStorageKey:s},l)}})})};Q.displayName="IssueFormElementsViaPayload";let Y=({issueFormRef:e,outputRef:l,...a})=>{let n=(0,o.readInlineData)(i,e),s=X(n.elements.length,l);return(0,t.jsx)("div",{className:W,children:n.elements.map((e,l)=>{switch(e.__typename){case"IssueFormElementMarkdown":return(0,t.jsx)("div",{className:"IssueFormElements-module__markdownElementWrapper__E0mmFn4",children:(0,t.jsx)(V,{elementRef:e})},l);case"IssueFormElementInput":return(0,t.jsx)(q,{index:l,elementRef:e,ref:s[l],...a},l);case"IssueFormElementDropdown":return(0,t.jsx)(L,{index:l,elementRef:e,ref:s[l],...a},l);case"IssueFormElementTextarea":return(0,t.jsx)(B,{index:l,elementRef:e,ref:s[l],...a},l);case"IssueFormElementCheckboxes":return(0,t.jsx)(F,{index:l,elementRef:e,ref:s[l],...a},l);default:return null}})})};Y.displayName="IssueFormElementsViaQuery";let X=(e,l)=>{let a=(0,r.useMemo)(()=>Array.from({length:e},()=>(0,r.createRef)()),[e]);return(0,r.useImperativeHandle)(l,()=>({markdown:()=>a.map(e=>e.current?.markdown()??"").filter(e=>e.length>0).join("\n\n"),getInvalidInputs:()=>a.map(e=>e.current).filter(e=>null!==e&&!e.validate()),validateInputs:()=>!a.map(e=>e.current?.validate()??!0).some(e=>!e),resetInputs:(e={})=>{let{textOnly:n=!1}=e;for(let e of a){if(!n){e.current?.reset();continue}(e.current?.type==="input"||e.current?.type==="textarea"||e.current?.type==="markdown")&&e.current?.reset()}l.current?.clearSessionStorage()},hasChanges:()=>a.some(e=>e.current?.hasChanges()??!1),clearSessionStorage:()=>{let e=a.map(e=>e.current?.getSessionStorageKey()).filter(e=>null!==e);(0,s.D6)(e)}}),[a,l]),a}},60490(e,l,a){a.d(l,{k:()=>t,y:()=>n});let n="template-field",t=({id:e,indexOfFormElement:l,value:a,defaultValuesById:t})=>{let i=t&&e?t[e]:void 0;return void 0===i&&t&&void 0!==l&&(i=t[`${n}-${l}`]),i??a??""}},50185(e,l,a){a.d(l,{H:()=>r});var n=a(74848),t=a(37835),i=a(18990),s=a(96540);function r({issue:e,onLinkClick:l}){let a=(0,s.useCallback)(()=>{l?.(e.url)},[e.url,l]),{sourceIcon:r}=(0,t.e)({state:e.state,stateReason:e.stateReason}),o=r("Issue");return(0,n.jsxs)(i.l.LinkItem,{href:e.url,target:"_blank",onClick:a,children:[(0,n.jsx)(i.l.LeadingVisual,{children:(0,n.jsx)(o,{})}),(0,n.jsx)("span",{className:"markdown-title",children:e.title}),(0,n.jsxs)(i.l.Description,{variant:"block",children:[e.repository.nameWithOwner,"#",e.number]})]})}r.displayName="IssueItem"},37049(e,l,a){a.d(l,{h:()=>i});var n=a(74848),t=a(98475);function i({title:e,headingProps:{...l}={},...a}){return(0,n.jsx)(t.X,{title:e,headingProps:l,...a,readonly:!0})}i.displayName="ReadonlySectionHeader"},23475(e,l,a){a.d(l,{w:()=>s});var n=a(74848),t=a(63432),i=a(34164);function s({children:e,emptyText:l,sectionHeader:a,sectionFooter:s,hideDivider:r,id:o,sx:u,className:d}){return(0,n.jsxs)(t.az,{"data-testid":o??"sidebar-section",sx:{marginBottom:2*!r,":after":r?void 0:{content:'""',position:"absolute",height:"1px",bottom:"-8px",left:"8px",right:"8px",bg:"border.muted"},...u},className:(0,i.$)("Section-module__SectionContainer__DhYaefF",d),children:[(0,n.jsxs)("div",{className:"Section-module__headerContentWrapper__qQFFwCM",children:[a,l&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"Section-module__emptyText__Ckl18zW",children:l}),(0,n.jsx)("div",{className:"Section-module__hiddenChildrenContainer__nwODA0Q",children:e})]})]}),!l&&(0,n.jsx)("div",{className:"Section-module__childrenContainer__Q78qSw9",children:e}),s]})}s.displayName="Section"},98475(e,l,a){a.d(l,{X:()=>d});var n=a(74848),t=a(38621),i=a(21373),s=a(44640),r=a(63432),o=a(34164),u=a(78836);let d=({ref:e,id:l,title:a,buttonProps:d,headingProps:{as:c="h3",...m}={},readonly:g,errorPresent:p,...y})=>{let k=g?{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%",pb:"8px",...y.sx}:{width:"100%",position:"relative",display:"flex",alignItems:"center",...y.sx},f=(0,n.jsxs)(r.az,{sx:k,children:[(0,n.jsx)(r.DZ,{id:l,as:c,sx:{position:g?"relative":"absolute",...m},className:"SectionHeader-module__SectionHeaderTitle__MOwfy3d",children:a}),!g&&(0,n.jsxs)(i.Q,{ref:e,...d,variant:"invisible",size:"small",trailingAction:()=>p?(0,n.jsx)(t.AlertIcon,{className:"fgColor-danger"}):(0,n.jsx)(t.GearIcon,{}),block:!0,className:"SectionHeader-module__editButton__YaxNy1s","aria-describedby":p?`error-message-${l}`:void 0,children:[(0,n.jsx)("span",{className:(0,o.$)("sr-only","SectionHeader-module__screenReaderText__nPkGSnp"),children:u.k.editFieldValueLabel(a)}),p&&(0,n.jsx)("span",{id:`error-message-${l}`,className:"sr-only",children:u.k.errorUpdatingIssueField})]})]});return p&&!g?(0,n.jsx)(s.m,{text:u.k.errorUpdatingIssueField,children:f}):f};d.displayName="SectionHeader",d.displayName="SectionHeader"},23406(e,l,a){a.d(l,{Qq:()=>ep,rC:()=>ey,sC:()=>eg,b2:()=>em});var n,t,i,s,r,o,u,d=a(74848);let c={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AssigneesSectionLazyFragment",selections:[{alias:null,args:[{kind:"Literal",name:"first",value:10}],concreteType:"AssigneeConnection",kind:"LinkedField",name:"suggestedActors",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profileResourcePath",storageKey:null},{alias:null,args:[{kind:"Literal",name:"size",value:64}],kind:"ScalarField",name:"avatarUrl",storageKey:"avatarUrl(size:64)"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"isCopilot",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isAgent",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],type:"Bot",abstractKey:null}],type:"Actor",abstractKey:"__isActor"}],storageKey:null}],storageKey:"suggestedActors(first:10)"},{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:null,concreteType:"ViewerCopilotCodingAgentEligibility",kind:"LinkedField",name:"viewerCopilotCodingAgentEligibility",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hasRequestedCca",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"canRequestCca",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"canGrantOrgCca",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"canGrantEnterpriseCca",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Enterprise",kind:"LinkedField",name:"enterprise",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null}],storageKey:null}],type:"Organization",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Issue",abstractKey:null};c.hash="0e1824db017a959a889c292e1487254a";let m=(n={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},i={alias:null,args:[{kind:"Literal",name:"size",value:64}],kind:"ScalarField",name:"avatarUrl",storageKey:"avatarUrl(size:64)"},s={alias:null,args:null,kind:"ScalarField",name:"isCopilot",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"isAgent",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},u=[t={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AssigneesSectionAssignees",selections:[{alias:null,args:[{kind:"Literal",name:"first",value:20}],concreteType:"AssigneeConnection",kind:"LinkedField",name:"assignedActors",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},n,t,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profileResourcePath",storageKey:null},i,{kind:"InlineFragment",selections:[s,r,o],type:"Bot",abstractKey:null}],type:"Actor",abstractKey:"__isActor"}],storageKey:null}],storageKey:"assignedActors(first:20)"},{alias:null,args:null,concreteType:"AgentAssignment",kind:"LinkedField",name:"agentAssignments",plural:!0,selections:[{alias:null,args:null,concreteType:"Bot",kind:"LinkedField",name:"assignee",plural:!1,selections:[n,t,i,s,r,o],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"assigner",plural:!1,selections:[{kind:"InlineFragment",selections:u,type:"User",abstractKey:null},{kind:"InlineFragment",selections:u,type:"Bot",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Issue",abstractKey:null});m.hash="7b29509714897238afac081c0ee03934";let g={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AssigneesSectionCopilotRepositoryFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isCopilotAgentEnabled",storageKey:null}],type:"Repository",abstractKey:null};g.hash="d0d5039c0af037561a9f4ee503f04833";let p={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AssigneesSectionFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"number",storageKey:null},{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null},{args:null,kind:"FragmentSpread",name:"AssigneesSectionCopilotRepositoryFragment"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"AssigneesSectionAssignees"},{alias:null,args:null,kind:"ScalarField",name:"viewerCanAssign",storageKey:null}],type:"Issue",abstractKey:null};p.hash="d3c6b2757554e31ea145489e96bddf6e";let y={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AssigneesSectionViewer",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profileResourcePath",storageKey:null},{alias:null,args:[{kind:"Literal",name:"size",value:64}],kind:"ScalarField",name:"avatarUrl",storageKey:"avatarUrl(size:64)"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"isCopilot",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isAgent",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],type:"Bot",abstractKey:null}],type:"Actor",abstractKey:"__isActor"};y.hash="46cd158d7367cb350d33a4333817d807";var k=a(16522),f=a(38621),h=a(21373),b=a(32343);let F=e=>{let l,a,n=(0,k.c)(6),{ref:t,onClick:i}=e,{sendClickAnalyticsEvent:s}=(0,b.S)();n[0]!==i||n[1]!==s?(l=()=>{s({category:"copilot_assignment",action:"click_assign_to_copilot_button",label:"ref_cta:assign_to_copilot"}),i()},n[0]=i,n[1]=s,n[2]=l):l=n[2];let r=l;return n[3]!==r||n[4]!==t?(a=(0,d.jsx)(h.Q,{ref:t,leadingVisual:f.AgentIcon,size:"small",block:!0,onClick:r,children:"Assign to Copilot"}),n[3]=r,n[4]=t,n[5]=a):a=n[5],a};F.displayName="CopilotAssignmentButton",F.displayName="CopilotAssignmentButton";var I=a(47979),S=a(96540),_=a(83223),x=a(41431),C=a(7624),v=a(85965),j=a(39081),T=a(63432),K=a(9652);function L({darkImagePath:e,lightImagePath:l,sx:a,...n}){let{colorScheme:t}=(0,T.DP)(),i=t&&/^dark/.test(t),s={display:"flex",flexDirection:"column",justifyContent:"flex-end",backgroundSize:"cover",backgroundPosition:"center",height:200,borderTopLeftRadius:"6px",borderTopRightRadius:"6px",...a,backgroundImage:`url(${i?e:l})`};return(0,d.jsx)(T.az,{sx:s,...(0,K.G)("splash-dialog-image"),...n,children:(0,d.jsx)(T.az,{sx:{height:"9px",background:i?"linear-gradient(180deg, rgba(0, 0, 0, 0.00) 0%, rgba(255, 255, 255, 0.04) 100%)":"linear-gradient(180deg, rgba(0, 0, 0, 0.00) 0%, rgba(0, 0, 0, 0.04) 100%)"}})})}L.displayName="SplashDialogImage";var N=a(9907),P=a(74519),E=a(33735);let w="hideCopilotCodingAgentRequestDialog";function A({onClose:e,eligibility:l,orgLogin:a,businessSlug:n,onEligibilityUpdate:t,onRequestSuccess:i}){let[s,r]=(0,N.M)(w,!1),{sendClickAnalyticsEvent:o}=(0,b.S)(),[u,c]=(0,S.useState)(!1),[m,g]=(0,S.useState)(null),p=(0,S.useCallback)(e=>{o({category:"member_feature_request",action:`action.copilot_coding_agent.${e}`,label:`ref_cta:${e};ref_loc:issue_assignment_dialog;`})},[o]),y=(0,S.useCallback)(async()=>{if(a&&!u){c(!0),g(null);try{await (0,P.Rp)(a),await t(),p("request"),i("request",a),e()}catch(e){g(e instanceof Error?e.message:"An error occurred")}finally{c(!1)}}},[a,u,p,t,i,e]),k=(0,S.useCallback)(async()=>{if(a&&!u){c(!0),g(null);try{await (0,P.pf)(a),await t(),p("org_enable"),i("enable",a),e()}catch(e){g(e instanceof Error?e.message:"An error occurred")}finally{c(!1)}}},[a,u,p,t,i,e]),f=(0,S.useCallback)(async()=>{if(a&&!u){c(!0),g(null);try{await (0,P.Hy)(a),await t(),p("request_removed"),e()}catch(e){g(e instanceof Error?e.message:"An error occurred")}finally{c(!1)}}},[a,u,p,t,e]),F=(0,S.useCallback)(()=>{p("enterprise_enable");let e=n||a;window.location.href=(0,E.Wt)(e)},[n,a,p]),I=(0,S.useCallback)(async()=>{l.canGrantEnterpriseCca?F():l.canGrantOrgCca?await k():l.hasRequestedCca?await f():l.canRequestCca&&await y()},[l.canGrantEnterpriseCca,l.canGrantOrgCca,l.hasRequestedCca,l.canRequestCca,F,k,f,y]),T="Request access";l.canGrantEnterpriseCca?T="See Copilot policies":l.canGrantOrgCca?T=u?"Enabling...":"Enable feature":l.hasRequestedCca?T=u?"Removing...":"Remove request":l.canRequestCca&&(T=u?"Requesting...":"Request access");let K="Request access from your admin, and let GitHub Copilot work independently in the background to complete tasks, with Copilot coding agent.";return l.canGrantEnterpriseCca||l.canGrantOrgCca?K="Enable Copilot coding agent to let GitHub Copilot work independently in the background to complete tasks.":l.hasRequestedCca&&(K="You have requested access to Copilot coding agent. Your admin will review your request."),(0,d.jsx)(j.l,{onClose:e,width:"large",renderHeader:({dialogLabelId:l})=>(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"CopilotCodingAgentRequestAccessDialog-module__headerContainer__gDO28uL",children:[(0,d.jsx)(L,{darkImagePath:"/static/images/modules/swe_agent/agent-task-dark.png",lightImagePath:"/static/images/modules/swe_agent/agent-task-light.png",sx:{borderTopLeftRadius:"12px",borderTopRightRadius:"12px"}}),(0,d.jsx)("div",{className:"CopilotCodingAgentRequestAccessDialog-module__closeButtonContainer__DiTcHW3",children:(0,d.jsx)(j.l.CloseButton,{onClose:e})})]}),(0,d.jsx)(j.l.Header,{id:l,className:"CopilotCodingAgentRequestAccessDialog-module__visuallyHidden__QrmyKme",children:(0,d.jsx)(j.l.Title,{children:"Copilot coding agent is disabled"})})]}),children:(0,d.jsxs)("div",{className:"CopilotCodingAgentRequestAccessDialog-module__body__HT5vTGu",children:[(0,d.jsx)("h2",{className:"CopilotCodingAgentRequestAccessDialog-module__heading__ZlGQOiq",children:"Copilot coding agent is disabled"}),(0,d.jsxs)("p",{className:"CopilotCodingAgentRequestAccessDialog-module__description__YX5dapC",children:[K," ",(0,d.jsx)(_.A,{href:E.a2,target:"_blank",rel:"noreferrer",children:"Learn more"}),"."]}),m&&(0,d.jsx)("div",{"aria-live":"assertive",className:"CopilotCodingAgentRequestAccessDialog-module__errorContainer__J9ZFL5o",children:(0,d.jsx)(x.l,{variant:"critical",title:"Error",hideTitle:!0,description:m})}),(0,d.jsxs)("div",{className:"CopilotCodingAgentRequestAccessDialog-module__footer__KYagrDb",children:[(0,d.jsxs)(C.A,{children:[(0,d.jsx)(v.A,{checked:s,onChange:e=>{let l=e.currentTarget.checked;r(l),l&&p("do_not_show")}}),(0,d.jsx)(C.A.Label,{children:"Don't show this again"})]}),(0,d.jsx)(h.Q,{onClick:I,disabled:u,children:T})]})]})})}A.displayName="CopilotCodingAgentRequestAccessDialog";var V=a(18990),D=a(90634),R=a(11544);function M(e){let l=(0,k.c)(5),{login:a,id:n,avatarUrl:t,isCopilot:i}=e;if(i){let e;return l[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,d.jsx)(D.C,{}),l[0]=e):e=l[0],e}{let e,i=`@${a}`;return l[1]!==t||l[2]!==n||l[3]!==i?(e=(0,d.jsx)(R.r,{src:t,size:20,alt:i},n),l[1]=t,l[2]=n,l[3]=i,l[4]=e):e=l[4],e}}M.displayName="AssigneeVisual";var O=a(39567),B=a(89182),$=a(23131);let U="Assignees-module__assigneeNameLabel__RBQTnQp";function H(e){let l,a,n,t,i,s,r=(0,k.c)(17),{assignees:o,testId:u}=e,{sendAnalyticsEvent:c}=(0,b.s)();r[0]===Symbol.for("react.memo_cache_sentinel")?(l=(0,$.G7)("issues_report_sidebar_interactions"),r[0]=l):l=r[0];let m=l;r[1]===Symbol.for("react.memo_cache_sentinel")?(a=(0,$.G7)("issue_cca_visualization"),r[1]=a):a=r[1];let g=a;r[2]!==c?(n=()=>{m&&c("analytics.click","ISSUE_SIDEBAR_ASSIGNEE_CLICK")},r[2]=c,r[3]=n):n=r[3];let p=n;r[4]!==c?(t=()=>{m&&c("analytics.click","ISSUE_SIDEBAR_ASSIGNEE_RIGHT_CLICK")},r[4]=c,r[5]=t):t=r[5];let y=t;if(r[6]!==o||r[7]!==p||r[8]!==y||r[9]!==u){let e;r[11]!==p||r[12]!==y||r[13]!==u?(e=e=>{let{login:l,name:a,avatarUrl:n,profileResourcePath:t,id:i,isCopilot:s,displayName:r,isAgent:o,assignedAgents:c}=e,m=g&&c&&c.length>0;return(0,d.jsxs)(S.Fragment,{children:[(0,d.jsxs)(V.l.LinkItem,{href:t??void 0,target:"_blank",onClick:p,onContextMenu:y,...(0,O.Sr)(l,{isCopilot:s,isAgent:o}),children:[(0,d.jsx)(V.l.LeadingVisual,{children:(0,d.jsx)(M,{login:l,id:i,avatarUrl:n,isCopilot:s})}),(0,d.jsx)("div",{"data-testid":u,className:U,children:(0,d.jsx)(B.v,{login:r,profileName:a,isAgent:o})})]}),m&&c.map((e,l)=>{let a=l===c.length-1;return(0,d.jsxs)(V.l.LinkItem,{href:e.profileResourcePath??void 0,target:"_blank",onClick:p,onContextMenu:y,className:"Assignees-module__nestedAgentItem__kNDR3IE","data-testid":"nested-agent-item",...(0,O.Sr)(e.login,{isCopilot:e.isCopilot,isAgent:e.isAgent}),children:[(0,d.jsx)(V.l.LeadingVisual,{children:(0,d.jsxs)("span",{className:"Assignees-module__nestedAgentVisual__CSxWgr2",children:[(0,d.jsx)("span",{className:`Assignees-module__connector__nY_B0Rw ${a?"Assignees-module__connectorLast__TISaQYN":"Assignees-module__connectorMiddle__ImwLgHU"}`,"aria-hidden":"true"}),(0,d.jsx)(M,{login:e.login,id:e.id,avatarUrl:e.avatarUrl,isCopilot:e.isCopilot})]})}),(0,d.jsx)("div",{className:U,children:(0,d.jsx)(B.v,{login:e.displayName,profileName:e.name,isAgent:e.isAgent})})]},e.id)})]},i)},r[11]=p,r[12]=y,r[13]=u,r[14]=e):e=r[14],i=[...o].sort(q).map(e),r[6]=o,r[7]=p,r[8]=y,r[9]=u,r[10]=i}else i=r[10];return r[15]!==i?(s=(0,d.jsx)(V.l,{variant:"full",className:"Assignees-module__assigneesList__itUQ3RF",children:i}),r[15]=i,r[16]=s):s=r[16],s}function q(e,l){return e.login===l.login?0:e.login>l.login?1:-1}H.displayName="Assignees";var G=a(69371),W=a(3602),z=a(2568),Q=a(47856),Y=a(1744),X=a(98106),Z=a(62561),J=a(81191),ee=a(53696),el=a(18312),ea=a(34784),en=a(69645),et=a(17637),ei=a(37049),es=a(23475),er=a(98475);let eo="AssigneesSection-module__selfAssignButton__ZU49Y7U",eu=(e,l)=>{let a=e.create(l.id,l.__typename);for(let[e,n]of Object.entries({id:l.id,login:l.login,name:l.name,avatarUrl:l.avatarUrl,isCopilot:l.isCopilot,profileResourcePath:l.profileResourcePath,__typename:l.__typename,displayName:l.displayName}))a.setValue(n,e);return a},ed=()=>(0,d.jsx)(ei.h,{title:en.k.sectionTitles.assignees});ed.displayName="ReadonlyAssigneesSectionHeader";let ec=({sectionHeader:e,onSelfAssignClick:l,assignees:a,agentAssignments:n,readonly:t,copilotAssignmentButton:i,copilotEligibility:s,owner:r,businessSlug:o,onEligibilityUpdate:u,onRequestSuccess:c})=>{let{sendAnalyticsEvent:m}=(0,b.s)(),g=(0,J.u)("cca_feature_request_issue_assignment"),p=(0,J.u)("cca_feature_request_issue_assignment_remove_flow"),[y]=(0,N.M)(w,!1),[k,f]=(0,S.useState)(!1),F=(0,S.useCallback)(e=>{f(!0),c?.(e,r)},[c,r]),I=g&&!y&&s&&!k&&(s.canRequestOrGrantCopilotAgent||p&&s.copilotAgentEligibility.hasRequestedCca);(0,S.useEffect)(()=>{0===a.length&&I&&m("request_coding_agent.show","ISSUE_SIDEBAR_ASSIGNEE_SECTION_REQUEST_CCA_LINK_SHOW",{org_login:r,ref_loc:"issue_assignee_section"})},[a.length,I,m,r]);let _=t?en.k.emptySections.assignees(!1):(0,d.jsxs)(d.Fragment,{children:[en.k.emptySections.assignees(!0),(0,d.jsx)(h.Q,{variant:"link",onClick:l,className:eo,children:en.k.emptySections.selfAssign}),I&&(0,d.jsxs)(d.Fragment,{children:[" or ",(0,d.jsx)(h.Q,{variant:"link",onClick:s.openRequestAccessDialog,className:eo,children:s.copilotAgentEligibility.canGrantOrgCca||s.copilotAgentEligibility.canGrantEnterpriseCca?"enable coding agent":"request coding agent"})]})]}),x=i?(0,d.jsx)("div",{className:"width-full d-flex flex-column flex-items-stretch pt-2 px-2",children:(0,d.jsx)("div",{children:i})}):void 0,C=(0,S.useMemo)(()=>{let e=a.map(e=>({...e,displayName:e.displayName||e.login,isCopilot:e.isCopilot??!1,isAgent:e.isAgent??!1}));if(!(0,$.G7)("issue_cca_visualization")||!n?.length)return e;let l=new Set(a.map(e=>e.login)),t=n.filter(e=>e?.assignee?.login&&e?.assigner?.login&&l.has(e.assignee.login)&&l.has(e.assigner.login));if(!t.length)return e;let i=new Set(t.map(e=>e?.assignee?.id));return e.filter(e=>!i.has(e.id)).map(e=>({...e,assignedAgents:t.filter(l=>l?.assigner?.login===e.login).map(e=>({id:e?.assignee?.id??"",login:e?.assignee?.login??"",avatarUrl:e?.assignee?.avatarUrl??"",name:e?.assignee?.displayName??e?.assignee?.login??null,displayName:e?.assignee?.displayName??e?.assignee?.login??"",profileResourcePath:`/apps/${e?.assignee?.login}`,isCopilot:e?.assignee?.isCopilot??!1,isAgent:e?.assignee?.isAgent??!0}))}))},[a,n]);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(es.w,{id:"sidebar-assignees-section",sectionHeader:e,sectionFooter:x,emptyText:a.length>0?void 0:_,children:(0,d.jsx)(H,{assignees:C,testId:et.Y.assignees})}),s?.requestAccessDialogOpen&&u&&c&&(0,d.jsx)(A,{onClose:s.closeRequestAccessDialog,eligibility:s.copilotAgentEligibility,orgLogin:r||"",businessSlug:o??void 0,onEligibilityUpdate:u,onRequestSuccess:F})]})};function em({repo:e,owner:l,readonly:a,assignees:n,onSelectionChange:t,className:i,sx:s,repository:r,issueNumber:o,onIssueUpdate:u,...c}){let m=(0,Y.u)(),g={repo:e,owner:l,readonly:a,includeAuthorableBots:!1,includeAssignableBots:!0,assigneeTokens:[],assignees:n,onSelectionChange:t,anchorElement:(e,l)=>(0,d.jsx)(er.X,{title:en.k.sectionTitles.assignees,buttonProps:{...e,id:"assignees-select-menu"},ref:l}),...c},p=a?(0,d.jsx)(ed,{}):(0,d.jsx)(Q._,{...g});return(0,d.jsx)(ec,{sectionHeader:p,onSelfAssignClick:()=>t(m?[m]:[]),assignees:n,readonly:a,sx:s,className:i})}ec.displayName="AssigneesSection",em.displayName="CreateIssueAssigneesSection";let eg=m,ep=p;function ey({issue:e,viewer:l,lazyKey:a,onIssueUpdate:n,insideSidePanel:t,readonly:i,onRequestSuccess:s}){let{sendAnalyticsEvent:r}=(0,b.s)(),o=(0,$.G7)("issues_report_sidebar_interactions"),u=(0,ea.useFragment)(ep,e),{repository:m,repository:{owner:{login:p},name:f,isArchived:h},number:_}=u,x=(0,ea.useFragment)(g,u.repository),C=(0,ea.useFragment)(eg,u),v=(0,ea.useFragment)(y,l),{id:j,viewerCanAssign:T}=u,K=(0,ea.useFragment)(c,a),L=(0,S.useMemo)(()=>(K?.suggestedActors?.nodes||[]).flatMap(e=>e?[e]:[]),[K?.suggestedActors?.nodes]),N=(0,S.useMemo)(()=>(C.assignedActors?.nodes||[]).flatMap(e=>e?[e]:[]),[C.assignedActors?.nodes]),{addToast:P}=(0,ee.Y6)(),E=(0,el.useRelayEnvironment)(),w=(0,S.useRef)(null),A={hasRequestedCca:K?.repository?.viewerCopilotCodingAgentEligibility?.hasRequestedCca??!1,canRequestCca:K?.repository?.viewerCopilotCodingAgentEligibility?.canRequestCca??!1,canGrantOrgCca:K?.repository?.viewerCopilotCodingAgentEligibility?.canGrantOrgCca??!1,canGrantEnterpriseCca:K?.repository?.viewerCopilotCodingAgentEligibility?.canGrantEnterpriseCca??!1,businessSlug:K?.repository?.owner?.enterprise?.slug??null},V=function(e){let l,a,n,t=(0,k.c)(6),[i,s]=(0,S.useState)(!1),r=!!(e.canRequestCca||e.canGrantOrgCca||e.canGrantEnterpriseCca);t[0]===Symbol.for("react.memo_cache_sentinel")?(l=()=>s(!0),t[0]=l):l=t[0];let o=l;t[1]===Symbol.for("react.memo_cache_sentinel")?(a=()=>s(!1),t[1]=a):a=t[1];let u=a;return t[2]!==r||t[3]!==e||t[4]!==i?(n={copilotAgentEligibility:e,canRequestOrGrantCopilotAgent:r,requestAccessDialogOpen:i,openRequestAccessDialog:o,closeRequestAccessDialog:u},t[2]=r,t[3]=e,t[4]=i,t[5]=n):n=t[5],n}(A),D=(0,$.G7)("issues_cca_assign_actor_with_agent"),R=i||!T||h,M=(0,S.useMemo)(()=>{let e=N.some(e=>(0,G.v)(e.login));return!R&&x.isCopilotAgentEnabled&&!e},[N,R,x.isCopilotAgentEnabled]),[O,B]=(0,S.useState)(!1),[U,H]=(0,S.useState)(0),q=(0,S.useCallback)(()=>{B(!0),H(e=>e+1)},[B]),Y=(0,S.useCallback)(()=>{B(!1)},[B]),J=(0,S.useCallback)(e=>{(0,W.j)({environment:E,input:{issueId:j,assignedActors:e,participants:L},onError:()=>P({type:"error",message:X.S.couldNotUpdateAssignees}),onCompleted:n})},[P,E,j,n,L]),et=(0,S.useCallback)(e=>{let l=N.some(e=>(0,G.v)(e.login)),a=e.some(e=>e.isCopilot),n=e.filter(e=>!e.isCopilot),t=M?n:e;if(D&&v){let l=new Set(N.filter(e=>e.isAgent&&!(0,G.v)(e.login)).map(e=>e.login));if(e.some(e=>e.isAgent&&!(0,G.v)(e.login)&&!l.has(e.login))){let l=N.some(e=>e.login===v.login),a=e.some(e=>e.login===v.login);l||a||!(e.length<z.Y)||(t=[...t,v])}}M&&((e,l)=>{if(e.length!==l.length)return!1;let a=new Set(e.map(e=>e.id));return l.every(e=>a.has(e.id))})(t,N.filter(e=>!(0,G.v)(e.login)))||J(t),a&&M&&!l&&q()},[N,M,J,q,D,v]),ei=(0,S.useCallback)(e=>{e&&(0,ea.commitLocalUpdate)(E,l=>{let a=[{...e,isCopilot:!0,__typename:"Bot"}],n=N.some(e=>e.login===v?.login),t=D&&!n&&N.length+1<z.Y;v&&t&&a.push(v),((e,l,a)=>{let n=e.get(l);if(n){let l=n.getLinkedRecord("assignedActors(first:20)");if(l){let n=l.getLinkedRecords("nodes")||[];for(let l of a)if(!n.some(e=>e&&e.getValue("id")===l.id)){let a=e.get(l.id);a||(a=eu(e,l)),n=[...n,a]}let t=n.sort((e,l)=>{let a=e?.getValue("login")||"",n=l?.getValue("login")||"";return a.toLowerCase().localeCompare(n.toLowerCase())});l.setLinkedRecords(t,"nodes")}}})(l,j,a)}),n?.()},[D,N,E,j,n,v]),es=M?(0,d.jsx)(F,{onClick:q,ref:w}):void 0,eo=M?(0,d.jsx)(I.B,{isOpen:O,onClose:Y,repository:{name:m.name,owner:{login:m.owner.login}},issueNumbers:[_],onAssignmentComplete:ei,returnFocusRef:w}):void 0,em=(0,S.useMemo)(()=>R?(0,d.jsx)(ed,{}):(0,d.jsx)(Q.I,{repo:f,owner:p,number:_,anchorElement:(e,l)=>(0,d.jsx)(er.X,{title:en.k.sectionTitles.assignees,buttonProps:{...e,onClick:l=>{o&&r("analytics.click","ISSUE_SIDEBAR_ASSIGNEE_SECTION_EDIT_CLICK"),e.onClick?.(l)}},ref:l}),readonly:R,assignees:N,onSelectionChange:e=>et(e),insidePortal:t,suggestions:L},`assignee-picker-${U}`),[R,f,p,_,N,t,L,U,o,r,et]);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(ec,{sectionHeader:em,assignees:N,agentAssignments:C.agentAssignments,onSelfAssignClick:()=>v?J([v]):Z.l,readonly:R,copilotAssignmentButton:es,copilotEligibility:V,owner:p,businessSlug:A.businessSlug,onEligibilityUpdate:async()=>{n&&n()},onRequestSuccess:s}),eo]})}ey.displayName="EditIssueAssigneesSection"},97945(e,l,a){a.d(l,{E:()=>eO,u:()=>eM});var n,t,i,s,r,o,u,d,c,m,g,p,y,k,f,h,b,F,I,S,_,x,C,v,j,T,K,L,N,P,E=a(74848);let w=(s=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:i=[n={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dataType",storageKey:null}],type:"IssueFieldText",abstractKey:null},{kind:"InlineFragment",selections:i,type:"IssueFieldSingleSelect",abstractKey:null},{kind:"InlineFragment",selections:i,type:"IssueFieldDate",abstractKey:null},{kind:"InlineFragment",selections:i,type:"IssueFieldNumber",abstractKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FieldsSectionFragment",selections:[n,{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isPrivate",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"databaseId",storageKey:null},{kind:"InlineFragment",selections:[{alias:"issueFieldsEnabled",args:[{kind:"Literal",name:"name",value:"issue_fields"}],kind:"ScalarField",name:"isFeatureEnabled",storageKey:'isFeatureEnabled(name:"issue_fields")'},{alias:null,args:[{kind:"Literal",name:"first",value:100}],concreteType:"IssueFieldsConnection",kind:"LinkedField",name:"pinnedIssueFields",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:s,storageKey:null}],storageKey:"pinnedIssueFields(first:100)"}],type:"Organization",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerCanSetFields",storageKey:null},{args:null,kind:"FragmentSpread",name:"FieldsSectionFieldValues"},{alias:null,args:null,concreteType:"IssueType",kind:"LinkedField",name:"issueType",plural:!1,selections:[n,t,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"pinnedFields",plural:!0,selections:s,storageKey:null}],storageKey:null}],type:"Issue",abstractKey:null});w.hash="7eff93ed6fefa678f233d8ef70650b04";let A=(u=[r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dataType",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FieldsSectionFieldValues",selections:[r,{alias:null,args:[{kind:"Literal",name:"first",value:25}],concreteType:"IssueFieldValueConnection",kind:"LinkedField",name:"issueFieldValues",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[{kind:"InlineFragment",selections:u,type:"IssueFieldText",abstractKey:null}],storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],type:"IssueFieldTextValue",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[{kind:"InlineFragment",selections:u,type:"IssueFieldSingleSelect",abstractKey:null}],storageKey:null},o,{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null}],type:"IssueFieldSingleSelectValue",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[{kind:"InlineFragment",selections:u,type:"IssueFieldDate",abstractKey:null}],storageKey:null},d],type:"IssueFieldDateValue",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[{kind:"InlineFragment",selections:u,type:"IssueFieldNumber",abstractKey:null}],storageKey:null},{alias:"numberValue",args:null,kind:"ScalarField",name:"value",storageKey:null}],type:"IssueFieldNumberValue",abstractKey:null}],storageKey:null}],storageKey:"issueFieldValues(first:25)"},{alias:null,args:null,kind:"ScalarField",name:"viewerCanSetFields",storageKey:null},{alias:null,args:null,concreteType:"IssueType",kind:"LinkedField",name:"issueType",plural:!1,selections:[r,o],storageKey:null}],type:"Issue",abstractKey:null});A.hash="461a0c55032c3a4bf8d10a5a74a2fd22";var V=a(23131),D=a(54714),R=a(48315),M=a(51639),O=a(62561),B=a(40280),$=a(46249),U=a(44640),H=a(96540),q=a(18312);a(69487);var G=a(24779),W=a(23475),z=a(38621),Q=a(21373);let Y=({ref:e,...l})=>{let{anchorProps:a,inactive:n=!1,disabled:t=!1,onClick:i}=l;return(0,E.jsx)("div",{className:"AddIssueFieldButton-module__container__j5X4Bwu",children:(0,E.jsx)(Q.Q,{leadingVisual:n?z.AlertIcon:void 0,trailingVisual:n?void 0:z.PlusIcon,size:"small",ref:e,...a,className:"AddIssueFieldButton-module__button__n04q0ds",inactive:n||t,onClick:e=>{t||(i(),a?.onClick?.(e))},children:"Add field"})})};Y.displayName="AddIssueFieldButton",Y.displayName="AddIssueFieldButton";var X=a(78836),Z=a(3403);function J({owner:e,fieldsSet:l,onIssueFieldSelected:a,markInteractionStart:n,inactive:t=!1,disabled:i=!1,onButtonElementReceived:s,hideAddFieldButton:r=!1}){let o=(0,H.useMemo)(()=>(e,l)=>(l?.current&&s?.(l.current),(0,E.jsx)(Y,{anchorProps:e,ref:l,onClick:n,inactive:t,disabled:i})),[n,t,i,s]),u=(0,H.useCallback)(e=>{let l=e[0];l&&a((0,D.YQ)(l))},[a]);return r?null:(0,E.jsx)(Z.iF,{owner:e,fieldsSet:l,onSelectionChange:u,anchorElement:o,insidePortal:!1})}J.displayName="FieldsSelector";let ee="FieldsSection-module__pinnedField__W_f2c0l",el="FieldsSection-module__compactSectionHeader__xe9eizy",ea="FieldsSection-module__compactSectionEmptyText__lEMTYM4";function en(e){let l=(0,H.useRef)(null),a=(0,H.useRef)(e),n=(0,H.useCallback)(e=>{l.current=e},[]);return(0,H.useEffect)(()=>{null!==a.current&&null===e&&l.current?.focus(),a.current=e},[e]),{setAddFieldButtonElement:n}}function et(e){let[l,a]=(0,H.useState)(!1),n=(0,H.useRef)(null),t=(0,H.useRef)(!1),i=(0,H.useRef)(null);return(0,H.useEffect)(()=>{if(t.current&&e!==i.current&&null!==e){a(!1),i.current=e;let l=setTimeout(()=>{a(!0)},0),n=setTimeout(()=>{a(!1)},2e3);return()=>{clearTimeout(l),clearTimeout(n)}}t.current||(i.current=e),n.current=e,t.current=!0},[e]),{animatePinned:l}}let ei={only:"FieldsSection-module__animationOnly__sjVQHXh",first:"FieldsSection-module__animationFirst__nN8rrPD",middle:"FieldsSection-module__animationMiddle__KQjwlLv",last:"FieldsSection-module__animationLast__qDPBhXr"};function es(e,l,a=null){if(e&&l){let e=a?ei[a]:"";return`${ee} FieldsSection-module__animationClass__HcLZQw9 ${e}`.trim()}if(e)return ee}function er(e,l,a){if(!l.has(e))return null;let n=a.filter(e=>l.has(e)),t=n.indexOf(e);return 1===n.length?"only":0===t?"first":t===n.length-1?"last":"middle"}function eo({mutationFn:e,input:l,environment:a,action:n,fieldId:t,fieldType:i,inProjectsPage:s,ownerId:r,reportUsage:o,onError:u,onCompleted:d}){let c=Date.now();e({environment:a,input:l,onCompleted:()=>{o({page:s?"memex#show":"issue#show",action:n,fieldId:t,fieldType:i,status:"success",duration:Date.now()-c,orgId:r?.toString()}),d?.()},onError:e=>{let l=Date.now()-c;o({page:s?"memex#show":"issue#show",action:n,fieldId:t,fieldType:i,status:"error",errorDetails:e instanceof Error?e.message:String(e),duration:l,orgId:r?.toString()}),u?.(e)}})}var eu=a(44472),ed=a(98668),ec=a(19227),em=a(34164),eg=a(98475);let ep="FieldEditors-module__dateAnchorContainer__p4dRA_5";var ey=a(74939);let ek=({formattedDate:e})=>e?(0,E.jsx)("span",{className:"FieldEditors-module__dateText__kkzalA7",children:e}):(0,E.jsx)("span",{className:"FieldEditors-module__noValueContainer__Zlr91Yn",children:X.k.setValue});ek.displayName="DateDisplay";let ef=({fieldId:e,fieldName:l,value:a,onCommit:n,shouldOpen:t=!1,isDraft:i=!1,readonly:s,className:r})=>{let[o,u]=(0,H.useState)(t),d=(0,H.useMemo)(()=>a?(0,ed.b)(a):"",[a]),c=(0,H.useMemo)(()=>a?new Date(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()):null,[a]),m=(0,H.useCallback)(()=>{i&&n(e,null),u(!1)},[i,e,n]),g=(0,H.useCallback)(l=>{let a=null;l&&(a=new Date(Date.UTC(l.getFullYear(),l.getMonth(),l.getDate(),12,0,0,0))),n(e,a),u(!1)},[e,n]),p=d||X.k.setValue;return s?(0,E.jsxs)("div",{className:(0,em.$)(ey.A.issueFieldFormWrapper,r),children:[(0,E.jsx)("p",{className:ey.A.issueFieldLabel,children:l}),(0,E.jsx)("div",{className:(0,em.$)(ey.A.issueFieldValueText,d&&ey.A.hasValue),children:p})]}):(0,E.jsx)(ec.DatePicker,{variant:"single",showClearButton:!0,value:c,onChange:g,open:o,onOpen:()=>u(!0),onClose:m,anchor:e=>(0,E.jsxs)("button",{...e,className:(0,em.$)(ey.A.issueFieldFormWrapper,ey.A.issueFieldFormWrapperClickable,o&&ey.A.isEditing,r),"aria-label":a?`Edit ${l}`:`Set ${l}`,children:[(0,E.jsx)("span",{className:ey.A.issueFieldLabel,children:l}),(0,E.jsx)("span",{className:(0,em.$)(ey.A.issueFieldValueText,d&&ey.A.hasValue),children:p})]})})};ef.displayName="IssueFieldCompactDateEditorInternal";let eh=({fieldId:e,fieldName:l,value:a,readonly:n,onCommit:t,shouldOpen:i=!1,isDraft:s=!1,errorPresent:r=!1,className:o})=>{let u=(0,V.G7)("issue_fields_compact_view"),d=(0,H.useMemo)(()=>a?(0,ed.b)(a):"",[a]),c=(0,H.useMemo)(()=>a?new Date(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()):null,[a]),[m,g]=(0,H.useState)(i),p=(0,H.useCallback)(()=>{s&&t(e,null),g(!1)},[s,t,e]);return u?(0,E.jsx)(ef,{fieldId:e,fieldName:l,value:a,onCommit:t,shouldOpen:i,isDraft:s,readonly:n,className:o}):(0,E.jsx)(W.w,{sectionHeader:(0,E.jsx)(eg.X,{title:l,readonly:n,buttonProps:n?void 0:{onClick:()=>g(!0)},errorPresent:r}),className:o,children:n?(0,E.jsx)("div",{className:ep,children:(0,E.jsx)(ek,{formattedDate:d})}):(0,E.jsx)(ec.DatePicker,{anchor:e=>(0,E.jsx)("div",{...e,className:`${ep} FieldEditors-module__dateAnchorContainerInteractive__FRcSvrx`,children:(0,E.jsx)(ek,{formattedDate:d})}),showClearButton:!0,showTodayButton:!0,variant:"single",dateFormat:"long",onChange:l=>{let a=null;l&&(a=new Date(Date.UTC(l.getFullYear(),l.getMonth(),l.getDate(),12,0,0,0))),t(e,a),g(!1)},value:c,placeholder:"Set date",open:m,onOpen:()=>g(!0),onClose:p},l)})};eh.displayName="IssueFieldDateEditor";var eb=a(10864),eF=a(83e3),eI=a(23686),eS=a(76478);let e_=({fieldId:e,fieldName:l,initialValue:a,onCommit:n,shouldOpen:t=!1,isDraft:i=!1,readonly:s,className:r})=>{let o=(0,H.useCallback)(l=>{n(e,l)},[e,n]),u=(0,H.useCallback)(()=>{i&&n(e,null)},[e,i,n]),d=!a||""===a.name&&""===a.color,c=d?X.k.setValue:(0,E.jsx)(eI.g,{name:a.name,color:a.color,getTooltipText:()=>void 0,size:"small",containerClassName:eS.A.compactContainer}),m=d?`Set ${l}`:`Edit ${l}`;return s?(0,E.jsxs)("div",{className:(0,em.$)(ey.A.issueFieldFormWrapper,r),children:[(0,E.jsx)("p",{className:ey.A.issueFieldLabel,children:l}),(0,E.jsx)("div",{className:(0,em.$)(ey.A.issueFieldValueText,!d&&ey.A.hasValue,eS.A.compactValueContainer),children:c})]}):(0,E.jsx)(eF.CZ,{fieldId:e,fieldName:l,selectedOption:a?a.name:null,onSelectionChange:o,anchorElement:(e,a)=>(0,E.jsxs)("button",{ref:a,className:(0,em.$)(ey.A.issueFieldFormWrapper,ey.A.issueFieldFormWrapperClickable,r),"aria-label":m,...e,children:[(0,E.jsx)("span",{className:ey.A.issueFieldLabel,children:l}),(0,E.jsx)("span",{className:(0,em.$)(ey.A.issueFieldValueText,!d&&ey.A.hasValue,eS.A.compactValueContainer),children:c})]}),readonly:!1,isLazy:!0,onClose:u,shouldOpen:t})};e_.displayName="IssueFieldCompactSingleSelectEditorInternal";let ex=({fieldId:e,fieldName:l,readonly:a,initialValue:n,onCommit:t,shouldOpen:i=!1,isDraft:s=!1,className:r})=>{let o=(0,V.G7)("issue_fields_compact_view"),u=(0,H.useCallback)(l=>{t(e,l)},[e,t]),d=(0,H.useCallback)(()=>{s&&t(e,null)},[e,s,t]),c=(0,H.useMemo)(()=>(0,E.jsx)(eF.CZ,{fieldId:e,fieldName:l,selectedOption:n?n.name:null,onSelectionChange:u,anchorElement:(e,n)=>(0,E.jsx)(eg.X,{title:l||"",buttonProps:e,ref:n,readonly:a}),readonly:!1,isLazy:!0,onClose:d,shouldOpen:i}),[e,l,n,d,u,a,i]);if(o)return(0,E.jsx)(e_,{fieldId:e,fieldName:l,initialValue:n,onCommit:t,shouldOpen:i,isDraft:s,readonly:a,className:r});let m=n?.name===""&&n?.color===""&&n?.description==="";return(0,E.jsx)(W.w,{sectionHeader:c,className:r,children:(0,E.jsx)("div",{className:eS.A.fieldEditorContainer,children:m?(0,E.jsx)("div",{className:eS.A.noValueContainer,children:X.k.setValue}):(0,E.jsx)(eI.g,{name:n?.name||"",color:n?.color||"",getTooltipText:e=>e?n?.description??"":void 0})})})};ex.displayName="IssueFieldSingleSelectEditor";var eC=a(89747);function ev({fieldValue:e,readonly:l,onCommit:a,className:n},t){let i=""===e.value;switch(e.field.dataType){case"TEXT":return(0,E.jsx)(eC.eH,{fieldId:e.field.id,fieldName:e.field.name||"",initialValue:e.value||"",readonly:l,onCommit:(e,l)=>a(e,l),errorPresent:t,className:n},e.field.name);case"SINGLE_SELECT":return(0,E.jsx)(ex,{fieldId:e.field.id,fieldName:e.field.name||"",initialValue:{name:i||!e?.name?"":e.name,color:i||!e?.color?"":e.color,description:i||!e?.description?"":e.description},readonly:l,onCommit:(e,l)=>a(e,l),className:n},e.field.name);case"DATE":{let i=null,s=e.value;return s&&(s instanceof Date?i=s:"string"==typeof s&&(i=(0,ed.o)(s))),(0,E.jsx)(eh,{fieldId:e.field.id,fieldName:e.field.name||"",value:i,readonly:l,onCommit:(e,l)=>a(e,l),errorPresent:t,className:n},e.field.name)}case"NUMBER":{let i=void 0!==e.numberValue&&null!==e.numberValue,s=void 0!==e.value&&null!==e.value&&""!==e.value,r=i?e.numberValue.toString():s?String(e.value):"";return(0,E.jsx)(eb.k,{fieldId:e.field.id,fieldName:e.field.name||"",initialValue:r,readonly:l,onCommit:(e,l)=>{""===l?a(e,l):a(e,Number(l))},errorPresent:t,className:n},e.field.name)}default:throw Error(`Unsupported field type: ${e.field.dataType}`)}}function ej({fieldSelection:e,onCommit:l,className:a}){switch(e.dataType){case"text":return(0,E.jsx)(eC.eH,{fieldId:e.id||"",fieldName:e.name||"",initialValue:"",readonly:!1,onCommit:(e,a)=>l(e,a),shouldOpen:!0,isDraft:!0,className:a},e.id);case"single_select":return(0,E.jsx)(ex,{fieldId:e.id,fieldName:e.name||"",initialValue:{name:"",color:"",description:""},readonly:!1,onCommit:(e,a)=>l(e,a),shouldOpen:!0,isDraft:!0,className:a},e.name);case"date":return(0,E.jsx)(eh,{fieldId:e.id,fieldName:e.name||"",value:null,readonly:!1,onCommit:(e,a)=>l(e,a),shouldOpen:!0,isDraft:!0,className:a},e.name);case"number":return(0,E.jsx)(eb.k,{fieldId:e.id||"",fieldName:e.name||"",initialValue:"",readonly:!1,onCommit:(e,a)=>l(e,a),shouldOpen:!0,isDraft:!0,className:a},e.id);default:throw Error(`Unsupported field type: ${e.dataType}`)}}function eT({onClose:e,message:l}){return(0,E.jsx)(eu.K,{title:"Error",confirmButtonContent:"OK",confirmButtonType:"primary",onClose:e,children:l})}eT.displayName="ErrorDialog";let eK={fragment:{argumentDefinitions:c=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"createIssueFieldValueMutation",selections:[{alias:null,args:m=[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"CreateIssueFieldValuePayload",kind:"LinkedField",name:"createIssueFieldValue",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"issueFieldValue",plural:!1,selections:[y={kind:"InlineFragment",selections:p=[g={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],type:"IssueFieldTextValue",abstractKey:null},k={kind:"InlineFragment",selections:[g,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null}],type:"IssueFieldSingleSelectValue",abstractKey:null},f={kind:"InlineFragment",selections:p,type:"IssueFieldDateValue",abstractKey:null},h={kind:"InlineFragment",selections:[g,{alias:"numberValue",args:null,kind:"ScalarField",name:"value",storageKey:null}],type:"IssueFieldNumberValue",abstractKey:null}],storageKey:null},F={alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"issue",plural:!1,selections:b=[g],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:c,kind:"Operation",name:"createIssueFieldValueMutation",selections:[{alias:null,args:m,concreteType:"CreateIssueFieldValuePayload",kind:"LinkedField",name:"createIssueFieldValue",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"issueFieldValue",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},y,k,f,h,{kind:"InlineFragment",selections:b,type:"Node",abstractKey:"__isNode"}],storageKey:null},F],storageKey:null}]},params:{id:"7d34c7a47ddc5e24a7fe4d1980651c76",metadata:{},name:"createIssueFieldValueMutation",operationKind:"mutation",text:null}};eK.hash="efaa5ef3592a90da63e7e17d2645f75c";let eL=e=>void 0!==e.singleSelectOptionId?D.KO:void 0!==e.dateValue?D.fk:void 0!==e.numberValue?D.qg:D.qH,eN=(e,l,a)=>{if(l){if(void 0!==a.textValue&&l.setValue(a.textValue,"value"),void 0!==a.singleSelectOptionId&&null!==a.singleSelectOptionId){let n=(e.get(a.fieldId)?.getLinkedRecords("options")||[]).find(e=>e.getDataID()===a.singleSelectOptionId);l.setValue(n?.getValue("name")??null,"name"),l.setValue(n?.getValue("color")??null,"color"),l.setValue(n?.getValue("description")??null,"description")}void 0!==a.dateValue&&l.setValue(a.dateValue,"value"),void 0!==a.numberValue&&l.setValue(a.numberValue,"value")}},eP=(e,l,a)=>{if(!e||!a)return;let n=(e.getLinkedRecords("nodes")||[]).filter(e=>e?.getLinkedRecord("field")?.getDataID()!==l);n.push(a),e.setLinkedRecords(n,"nodes")};function eE({environment:e,input:l,onCompleted:a,onError:n}){return(0,q.commitMutation)(e,{mutation:eK,variables:{input:l},onCompleted:()=>{a?.()},onError:e=>n?.(e),optimisticUpdater:e=>{let a=e.get(l.issueId);if(!a)return;let n=l.issueField,t=a.getLinkedRecord("issueFieldValues",{first:25}),i=t?.getLinkedRecords("nodes")||[],s=eL(n),r=e.create(`client:newFieldValue:${n.fieldId}`,s);r.setValue(`client:newFieldValue:${n.fieldId}`,"id");let o=e.get(n.fieldId);o&&r.setLinkedRecord(o,"field"),eN(e,r,n),i.push(r),t&&t.setLinkedRecords(i,"nodes")},updater:e=>{let a=e.get(l.issueId),n=a?.getLinkedRecord("issueFieldValues",{first:25}),t=e.getRootField("createIssueFieldValue"),i=t?.getLinkedRecord("issueFieldValue");if(!a||!i||!n)return;let s=l.issueField;if(!i.getLinkedRecord("field")){let l=e.get(s.fieldId);l&&i.setLinkedRecord(l,"field")}eP(n,s.fieldId,i)}})}let ew={fragment:{argumentDefinitions:I=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"deleteIssueFieldValueMutation",selections:S=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"DeleteIssueFieldValuePayload",kind:"LinkedField",name:"deleteIssueFieldValue",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"success",storageKey:null},{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"issue",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:I,kind:"Operation",name:"deleteIssueFieldValueMutation",selections:S},params:{id:"07154732cd6de9c83b93caf7e4fdb17b",metadata:{},name:"deleteIssueFieldValueMutation",operationKind:"mutation",text:null}};function eA({environment:e,input:l,onCompleted:a,onError:n}){return(0,q.commitMutation)(e,{mutation:ew,variables:{input:l},onCompleted:()=>{a?.()},onError:e=>n?.(e),optimisticUpdater:e=>{let a=e.get(l.issueId);a&&eV(a,l.fieldId)},updater:e=>{let a=e.get(l.issueId);a&&eV(a,l.fieldId)}})}ew.hash="ade9c121a42280fa29046520cd641e3c";let eV=(e,l)=>{if(!e)return;let a=e.getLinkedRecord("issueFieldValues",{first:25});if(!a)return;let n=(a.getLinkedRecords("nodes")||[]).find(e=>e?.getLinkedRecord("field")?.getDataID()===l);if(!n)return;let t=n.getType();(0,D.fy)(n,t)},eD={fragment:{argumentDefinitions:_=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"updateIssueFieldValueMutation",selections:[{alias:null,args:x=[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"UpdateIssueFieldValuePayload",kind:"LinkedField",name:"updateIssueFieldValue",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"issueFieldValue",plural:!1,selections:[j={kind:"InlineFragment",selections:v=[C={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],type:"IssueFieldTextValue",abstractKey:null},T={kind:"InlineFragment",selections:[C,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null}],type:"IssueFieldSingleSelectValue",abstractKey:null},K={kind:"InlineFragment",selections:v,type:"IssueFieldDateValue",abstractKey:null},L={kind:"InlineFragment",selections:[C,{alias:"numberValue",args:null,kind:"ScalarField",name:"value",storageKey:null}],type:"IssueFieldNumberValue",abstractKey:null}],storageKey:null},P={alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"issue",plural:!1,selections:N=[C],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:_,kind:"Operation",name:"updateIssueFieldValueMutation",selections:[{alias:null,args:x,concreteType:"UpdateIssueFieldValuePayload",kind:"LinkedField",name:"updateIssueFieldValue",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"issueFieldValue",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},j,T,K,L,{kind:"InlineFragment",selections:N,type:"Node",abstractKey:"__isNode"}],storageKey:null},P],storageKey:null}]},params:{id:"c9b8f156814615ff82eb2393351e0719",metadata:{},name:"updateIssueFieldValueMutation",operationKind:"mutation",text:null}};function eR({environment:e,input:l,onCompleted:a,onError:n}){return(0,q.commitMutation)(e,{mutation:eD,variables:{input:l},onCompleted:()=>{a?.()},onError:e=>n?.(e),optimisticUpdater:e=>{let a=e.get(l.issueId),n=a?.getLinkedRecord("issueFieldValues",{first:25}),t=n?.getLinkedRecords("nodes")||[],i=l.issueField,s=eL(i),r=t.find(e=>e.getLinkedRecord("field")?.getDataID()===i.fieldId);if(!r){r=e.create(`client:updateFieldValue:${i.fieldId}`,s);let l=e.get(i.fieldId);l&&r.setLinkedRecord(l,"field")}eN(e,r,i),eP(n,i.fieldId,r)},updater:e=>{let a=e.get(l.issueId),n=a?.getLinkedRecord("issueFieldValues",{first:25}),t=e.getRootField("updateIssueFieldValue"),i=t?.getLinkedRecord("issueFieldValue"),s=l.issueField;if(i){if(!i.getLinkedRecord("field")){let l=e.get(s.fieldId);l&&i.setLinkedRecord(l,"field")}eP(n,s.fieldId,i)}}})}function eM({owner:e,ownerId:l,onSelectionChange:a,issueType:n,orgPinnedFields:t,isPinnedFieldsLoading:i}){let s,r,o,[u,d]=(0,H.useState)([]),[c,m]=(0,H.useState)([]),[g,p]=(0,H.useState)(null),{animatePinned:y}=et(n?.name||null),{markInteractionStart:k,reportUsage:f}=(0,R.k)(),{setAddFieldButtonElement:h}=en(g),b=(0,H.useMemo)(()=>n?(0,D.IR)(n.pinnedFields?.filter(e=>e?.__typename!=="%other"))??[]:t??[],[n,t]),{pinnedFieldIds:F}=function({pinnedFields:e,setFields:l,setFieldsSet:a}){let n=(0,H.useMemo)(()=>(e||[]).map(e=>(0,G.Y0)((0,D.YQ)(e),null)),[e]),t=(0,H.useMemo)(()=>new Set(n.map(e=>e.field.id)),[n]);return(0,H.useEffect)(()=>{n.length>0?(l(e=>[...n.map(l=>{let a=e.find(e=>e.field.id===l.field.id);return a&&a.value?a:l}),...e.filter(e=>!t.has(e.field.id)&&e.value)]),a(n.map(e=>e.field.name))):(l(e=>e.filter(e=>!t.has(e.field.id)&&e.value)),a(e=>e.filter(e=>!n.map(e=>e.field.name).includes(e))))},[e,t,n,l,a]),{pinnedFieldIds:t}}({pinnedFields:b,setFields:d,setFieldsSet:m}),I=!(0,V.G7)("issue_metadata_add_field_button");(0,H.useEffect)(()=>{a(u.filter(e=>e.value))},[u,a]),(0,H.useEffect)(()=>{let e=[...new Set([...u.map(e=>e.field.name).filter(e=>!!e),...c])];e.length===c.length&&e.every(e=>c.includes(e))||m(e)},[u,c]);let S=(0,H.useCallback)(e=>{k(),e.id&&(p(e),e.name&&m(l=>[...l,e.name]))},[k]),_=(0,H.useCallback)((e,a)=>{d(n=>{let t,i=n.map(l=>l.field.id===e?t=(0,G.IE)(l.field,a):l).filter(e=>void 0!==e.value||e.field.id&&F.has(e.field.id));return t&&!t.value&&(t.field.id&&F.has(t.field.id)||m(e=>e.filter(e=>e!==t?.field.name))),t&&t.field.dataType&&f({page:"issue#new",action:"create",fieldId:e,fieldType:(0,D.HZ)(t.field.dataType),status:"success",orgId:l?.toString()}),i})},[l,F,f]),x=(0,H.useCallback)((e,l)=>{if(!g||g.id!==e)return;p(null);let a=(0,D.HZ)(g.dataType),n=(0,G.vl)(a,l),t="string"==typeof n?!n.trim():!n;g.name&&t?m(e=>e.filter(e=>e!==g.name)):!t&&(d(e=>{let a=[...e];return g.name&&!a.some(e=>e.field.name===g.name)&&a.push((0,G.Y0)(g,l)),a}),g.name&&m(e=>e.includes(g.name)?e:[...e,g.name]))},[g]),C=(0,V.G7)("issue_fields_compact_view"),v=u.map(e=>e.field.id).filter(e=>!!e),j=u.map(e=>e.field.id?ev({fieldValue:"object"==typeof e.value&&null!==e.value?{...e,...e.value}:e,readonly:!1,onCommit:_,className:es(F.has(e.field.id),y,er(e.field.id,F,v))}):null),T=g?(s=F.has(g.id),r=g.id?[...v,g.id]:v,o=g.id?er(g.id,F,r):null,ej({fieldSelection:g,readonly:!1,onCommit:x,className:es(s,y,o)})):null,K=(0,E.jsx)(J,{owner:e,fieldsSet:c,onIssueFieldSelected:S,markInteractionStart:k,disabled:null!==g,onButtonElementReceived:h,hideAddFieldButton:I}),L=j.filter(Boolean),N=b.length>0&&0===L.length;return C?(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(W.w,{sectionHeader:(0,E.jsx)($.A,{as:"h3",className:el,children:"Fields"}),children:L.length>0?(0,E.jsx)(E.Fragment,{children:L}):i||N?(0,E.jsx)(E.Fragment,{children:(0,E.jsxs)("span",{className:"FieldsSection-module__loadingRow__1R24d_q",children:[(0,E.jsx)(M.Q,{height:"md",width:"40%"}),(0,E.jsx)(M.Q,{height:"md",width:"60%"})]})}):(0,E.jsx)("span",{className:ea,children:X.k.noPinnedFieldsMessage(n?.name)})}),T,K]}):(0,E.jsxs)(E.Fragment,{children:[j,T,K]})}function eO({issue:e,onUpdate:l,inProjectsPage:a,readonly:n}){let t,[i,s]=(0,H.useState)([]),[r,o]=(0,H.useState)(!1),[u,d]=(0,H.useState)(!1),[c,m]=(0,H.useState)(null),g=(0,q.useRelayEnvironment)(),{markInteractionStart:p,reportUsage:y}=(0,R.k)(),{setAddFieldButtonElement:k}=en(c),f=!(0,V.G7)("issue_metadata_add_field_button"),h=(0,q.useFragment)(w,e),{repository:{isPrivate:b,owner:{login:F}},viewerCanSetFields:I,issueType:S}=h,_=h.repository.owner.issueFieldsEnabled??!1,x=(0,H.useMemo)(()=>(0,D.IR)(h.repository.owner.pinnedIssueFields?.nodes?.filter(e=>e?.__typename!=="%other")??[]),[h.repository.owner.pinnedIssueFields]),C=(0,H.useMemo)(()=>S?(0,D.IR)(S.pinnedFields?.filter(e=>e?.__typename!=="%other"))??[]:x??[],[S,x]),v=(0,H.useMemo)(()=>C.map(e=>(0,G.Y0)((0,D.YQ)(e),null)),[C]),j=(0,H.useCallback)(()=>{o(!0)},[]),T=(0,H.useCallback)((e,l)=>{if(!c||c.id!==e)return;m(null);let n=(0,G.vl)(c.dataType,l||""),t="string"==typeof n?!n.trim():!n;c.name&&t?s(e=>e.filter(e=>e!==c.name)):t||eo({mutationFn:eE,input:{issueId:h.id,issueField:{fieldId:e,...(0,D.Ft)(c.dataType,n)}},environment:g,action:"create",fieldId:e,fieldType:(0,D.HZ)(c.dataType),inProjectsPage:a,ownerId:h.repository?.owner?.databaseId,reportUsage:y,onError:j})},[c,h.id,h.repository.owner.databaseId,g,a,y,j]);return b&&_?(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)(B.t,{fallback:(0,E.jsxs)("div",{children:[(0,E.jsx)(U.m,{text:X.k.loadingFieldsTooltipMessage,children:(0,E.jsx)("span",{children:(0,E.jsx)(Y,{inactive:!0,anchorProps:{onClick:()=>d(!0)},onClick:O.l})})}),u&&(0,E.jsx)(eT,{onClose:()=>d(!1),message:X.k.loadingFieldsErrorMessage})]}),children:[(0,E.jsx)(eB,{issue:h,fieldsSet:i,setFieldsSet:s,inProjectsPage:a,pinnedFields:v,readonly:n,onUpdate:l}),c&&(t=v.some(e=>e.field.id===c.id),ej({fieldSelection:c,readonly:!1,onCommit:T,className:t?ee:void 0})),!n&&I&&(0,E.jsx)(J,{owner:F,fieldsSet:i,onIssueFieldSelected:e=>{e.id&&(m(e),e.name&&s(l=>[...l,e.name]))},markInteractionStart:p,disabled:null!==c,onButtonElementReceived:k,hideAddFieldButton:f})]}),r&&(0,E.jsx)(eT,{onClose:()=>o(!1),message:X.k.mutationErrorMessage})]}):null}function eB({issue:e,fieldsSet:l,setFieldsSet:a,inProjectsPage:n,onUpdate:t,pinnedFields:i,readonly:s}){let r=(0,q.useRelayEnvironment)(),[o,u]=(0,H.useState)({}),{reportUsage:d}=(0,R.k)();(0,H.useEffect)(()=>{let e=Object.values(o).some(e=>e),l=l=>{if(e)return l.preventDefault(),l.returnValue=X.k.reloadWarningMessage,l.returnValue};return window.addEventListener("beforeunload",l),()=>{window.removeEventListener("beforeunload",l)}},[o]);let c=(0,q.useFragment)(A,e),{animatePinned:m}=et(c.issueType?.id||null),g=(c.issueFieldValues?.nodes||[]).map(e=>e),[p,y]=(0,H.useState)(g.filter(e=>e?.field!=null));(0,H.useEffect)(()=>{y((c.issueFieldValues?.nodes||[]).map(e=>e).filter(e=>e?.field!=null))},[c.id]);let k=(0,H.useCallback)(e=>{u(l=>({...l,[e]:!0}))},[]),f=(0,H.useCallback)((e,l,a)=>{let i=(0,D.HZ)(l),s=(0,G.vl)(i,a);""===a||null===a?eo({mutationFn:eA,input:{issueId:c.id,fieldId:e},environment:r,action:"delete",fieldId:e,fieldType:i,inProjectsPage:n,reportUsage:d,onCompleted:()=>{u(l=>({...l,[e]:!1})),t()},onError:()=>k(e)}):eo({mutationFn:eR,input:{issueId:c.id,issueField:{fieldId:e,...(0,D.Ft)(i,s)}},environment:r,action:"update",fieldId:e,fieldType:i,inProjectsPage:n,reportUsage:d,onCompleted:()=>{u(l=>({...l,[e]:!1})),t()},onError:()=>k(e)})},[c.id,r,k,n,d,t]);(0,H.useMemo)(()=>{let{addedFields:e,updatedFields:l,removedFields:a}=(0,G.kO)(p,g);if(0===e.length&&0===l.length&&0===a.length)return;let n=e.length>0,t=p.map(e=>{let t=l.find(l=>l?.field?.id===e?.field?.id);if(t)return(0,G.zo)(t,e)||(n=!0),t;if(a.some(l=>l?.field?.id===e?.field?.id)){let l=(0,G.uV)(e);return(0,G.zo)(l,e)||(n=!0),l}return e}).filter(e=>null!=e);n&&y([...t,...e])},[g,p]);let h=(0,H.useMemo)(()=>{if(!i||0===i.length)return p;let e=i.map(e=>p.find(l=>l.field.id===e.field.id)||e),l=e.map(e=>e.field.id);return[...e,...p.filter(e=>!l.includes(e.field.id))]},[i,p]);(0,H.useEffect)(()=>{let e=h.map(e=>e?.field?.name||"").filter(e=>e);l.length===e.length&&l.every((l,a)=>l===e[a])||a(e)},[l,h,a]);let b=h.map(e=>e?.field?.id).filter(e=>!!e),F=new Set(i?.map(e=>e.field.id).filter(e=>!!e)??[]),I=h.map(e=>{if(!e||!e.field||!e.field.id||void 0===e.field||void 0===e.field.dataType)return null;let l=i?.some(l=>l.field.id===e.field.id)||!1,a=s||!c.viewerCanSetFields,n=er(e.field.id,F,b);return function({errorPresent:e,setErrorPresent:l,fieldValue:a,...n}){if(!a.field)return null;let t=a.field.id,i="SINGLE_SELECT"===a.field.dataType,s=ev({fieldValue:a,...n},e[t]);return(0,E.jsxs)(H.Fragment,{children:[s,i&&e[t]&&(0,E.jsx)(eT,{onClose:()=>l(t,!1),message:X.k.mutationErrorMessage})]},a.field.name)}({errorPresent:o,setErrorPresent:(e,l)=>u(a=>({...a,[e]:l})),fieldValue:e,readonly:a,onCommit:(l,a)=>f(l,e.field.dataType,a),className:es(l,m,n)})}).filter(Boolean);return(0,V.G7)("issue_fields_compact_view")?(0,E.jsx)(W.w,{sectionHeader:(0,E.jsx)($.A,{as:"h3",className:el,children:"Fields"}),children:I.length>0?(0,E.jsx)(E.Fragment,{children:I}):(0,E.jsx)("span",{className:ea,children:X.k.noPinnedFieldsMessage(c.issueType?.name)})}):(0,E.jsx)(E.Fragment,{children:I})}eD.hash="42fa492eab38e97eb091a4309e4f4202",eM.displayName="CreateIssueFieldsSection",eO.displayName="EditIssueFieldsSection",eB.displayName="IssueFields"},10864(e,l,a){a.d(l,{H:()=>r,k:()=>o});var n=a(74848),t=a(78836),i=a(89747);let s=/^-?\d+(\.\d+)?$/,r=e=>{if(""===e)return null;if(!s.test(e))return t.k.numberValidation.errorMessage;let l=parseFloat(e);return l>0x7fffffff?t.k.numberValidation.max(0x7fffffff):l<-0x80000000?t.k.numberValidation.min(-0x80000000):null},o=e=>(0,n.jsx)(i.eH,{...e,inputProps:{placeholder:t.k.numberEditorPlaceholder,inputMode:"numeric"},validate:r,isNumber:!0,className:e.className});o.displayName="IssueFieldNumberEditor"},23686(e,l,a){a.d(l,{g:()=>u});var n=a(74848),t=a(44640),i=a(63432),s=a(34164),r=a(96540),o=a(76478);let u=({name:e,color:l,getTooltipText:a,size:u,sx:c,containerClassName:m})=>{let g=(0,r.useRef)(null),[p,y]=(0,r.useState)(!1);(0,r.useEffect)(()=>y(d(g.current)),[y,g]);let k=a(p),f=(0,n.jsx)(i.ou,{className:o.A.token,"data-color":l,ref:g,sx:c,text:(0,n.jsx)("span",{className:o.A.tokenText,children:e}),as:k?"button":"span",...k&&{type:"button","aria-label":`${e} token`}});return(0,n.jsx)("div",{className:(0,s.$)(o.A.container,m),"data-size":u,children:k?(0,n.jsx)(t.m,{text:k,children:f}):f})};u.displayName="IssueFieldSingleSelectValueToken";let d=e=>!!e&&!!e.firstElementChild&&e.firstElementChild.scrollWidth>e.firstElementChild.clientWidth},89747(e,l,a){a.d(l,{eH:()=>C,lT:()=>j});var n=a(74848),t=a(23131),i=a(28294),s=a(38621),r=a(7624),o=a(38750),u=a(65820),d=a(26108),c=a(66818),m=a(21373),g=a(34164),p=a(96540),y=a(23475),k=a(98475),f=a(78836),h=a(74939),b=a(72238),F=a(83223),I=a(82012);let S=/^([(['"]{0,3})(.{1,1000}?)([.,:;!?\])"']{0,10})$/;function _(e){if(!e)return null;let l=e.split(/(\s+)/);return(0,n.jsx)(n.Fragment,{children:l.map((e,l)=>{let a=`${e}-${l}`;if(!e.trim())return(0,n.jsx)(p.Fragment,{children:e},a);let{cleanText:t,prefix:i,suffix:s}=function(e){let l=e.match(S);if(!l)return{cleanText:e,prefix:"",suffix:""};let[a,n="",t="",i=""]=l;return{cleanText:t,prefix:n,suffix:i}}(e);if(!t)return(0,n.jsx)(p.Fragment,{children:e},a);let r=(0,I.o2)(t),o=(0,I.ml)(r);return(0,I.Y9)(o)&&(0,I.cE)(o)?(0,n.jsxs)(p.Fragment,{children:[i,(0,n.jsx)(F.A,{href:o,rel:"noopener noreferrer",children:r}),s]},a):(0,n.jsx)(p.Fragment,{children:e},a)})})}let x=e=>(e=>{let{length:l}=e;return l>255?f.k.textValidationMaxLength(l,255):null})(e),C=({initialValue:e,validate:l=x,className:a,errorPresent:i=!1,readonly:s,...r})=>{let o=(0,t.G7)("issue_fields_compact_view"),u=(0,n.jsx)(j,{initialValue:e,validate:l,renderAnchor:(e,l,a)=>(0,n.jsx)(k.X,{ref:l,title:a,readonly:s,buttonProps:e,errorPresent:i}),...r});return o?(0,n.jsx)(v,{initialValue:e,validate:l,readonly:s,className:a,...r}):(0,n.jsx)(y.w,{sectionHeader:u,className:a,children:e?(0,n.jsx)("span",{className:b.A.issuesFieldText,children:_(e)}):(0,n.jsx)("span",{className:b.A.noValueContainer,children:f.k.setValue})})};C.displayName="IssueFieldTextEditor";let v=({fieldId:e,fieldName:l,initialValue:a,onCommit:t,shouldOpen:i=!1,validate:c=x,inputProps:m,readonly:y,className:k,isNumber:F=!1})=>{let[I,S]=(0,p.useState)(!0),[C,v]=(0,p.useState)(!1),j=(0,p.useRef)(null),T=(0,p.useRef)(!1);(0,p.useEffect)(()=>{let e=e=>{C&&(e.preventDefault(),e.returnValue="")};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}},[C]);let[K,L]=(0,p.useState)(a),N=e=>{let{value:l}=e.target;L(l),l===a?S(!0):S(!1)},P=(0,p.useMemo)(()=>I?null:c(K),[I,K,c]),E=(0,p.useMemo)(()=>!!P,[P]),[w,A]=(0,p.useState)(i),V=(0,p.useCallback)(()=>{I&&L(a),A(!0)},[a,I]),D=(0,p.useCallback)(()=>{L(a),T.current=!0,A(!1),S(!0),v(!1)},[a]),R=(0,p.useCallback)(()=>{A(!1),S(!0),v(!1),t(e,K),T.current=!0},[e,t,K]);(0,p.useLayoutEffect)(()=>{!w&&T.current&&(T.current=!1,j.current?.focus())},[w]);let M=(0,p.useCallback)(e=>{e.stopPropagation(),"Enter"===e.key?(e.preventDefault(),R()):"Escape"===e.key&&D()},[R,D]),O=(0,p.useCallback)(e=>{!e.currentTarget.contains(e.relatedTarget)&&I&&A(!1)},[I]);return(0,n.jsx)(n.Fragment,{children:w&&!y?(0,n.jsx)("div",{onBlur:O,children:(0,n.jsxs)(r.A,{className:(0,g.$)(h.A.issueFieldFormWrapper,h.A.issueFieldFormWrapperClickable,h.A.isEditing,k),children:[(0,n.jsx)(r.A.Label,{className:h.A.issueFieldLabel,children:l}),F?(0,n.jsx)(o.A,{value:K,placeholder:f.k.textEditorPlaceholder,onChange:N,size:"small",onKeyDown:M,className:b.A.issueFieldTextInput,autoFocus:!0,onFocus:e=>e.target.setSelectionRange(e.target.value.length,e.target.value.length),...m}):(0,n.jsx)(u.Ay,{value:K,resize:"none",placeholder:f.k.textEditorPlaceholder,onChange:N,onKeyDown:M,className:(0,g.$)(b.A.issueFieldTextInput,b.A.issueFieldTextTextarea),autoFocus:!0,onFocus:e=>e.target.setSelectionRange(e.target.value.length,e.target.value.length)}),(0,n.jsx)(d.K,{icon:s.CheckIcon,onClick:E?void 0:R,size:"small","aria-disabled":E,inactive:E,"aria-label":f.k.textEditorUpdateButton,className:h.A.issueFieldActionButton}),P&&(0,n.jsx)(r.A.Validation,{variant:"error",className:b.A.issuesFieldTextError,children:P})]})}):y?(0,n.jsxs)("div",{className:(0,g.$)(h.A.issueFieldFormWrapper,k),children:[(0,n.jsx)("p",{className:h.A.issueFieldLabel,children:l}),(0,n.jsx)("div",{className:(0,g.$)(h.A.issueFieldValueText,a&&h.A.hasValue),children:a?_(a):f.k.setValue})]}):(0,n.jsxs)("button",{ref:j,type:"button",className:(0,g.$)(h.A.issueFieldFormWrapper,h.A.issueFieldFormWrapperClickable,k),onClick:V,"aria-label":a?`Edit ${l}`:`Set ${l}`,children:[(0,n.jsx)("span",{className:h.A.issueFieldLabel,children:l}),(0,n.jsx)("span",{className:(0,g.$)(h.A.issueFieldValueText,a&&h.A.hasValue),children:a?_(a):f.k.setValue})]})})};v.displayName="IssueFieldCompactTextEditor";let j=({fieldId:e,fieldName:l,initialValue:a,onCommit:t,shouldOpen:s=!1,validate:u=x,inputProps:d,isDraft:g=!1,isNumber:y=!1,renderAnchor:k,overrideWidth:h,onClose:F})=>{let[I,S]=(0,p.useState)(!0),[_,C]=(0,p.useState)(!1);(0,p.useEffect)(()=>{let e=e=>{_&&(e.preventDefault(),e.returnValue="")};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}},[_]);let[v,j]=(0,p.useState)(a),T=(0,p.useMemo)(()=>I?null:u(v),[I,v,u]),K=(0,p.useMemo)(()=>I||!!T,[I,T]),[L,N]=(0,p.useState)(s),P=(0,p.useCallback)(()=>{t(e,y?null:""),C(!1)},[e,y,t]),E=(0,p.useCallback)(()=>{g?P():(j(a),N(!1),S(!0),C(!1))},[a,g,P]),w=(0,p.useCallback)(()=>{t(e,v),N(!1),S(!0),C(!1)},[e,t,v]),A=(0,p.useCallback)(()=>{I&&j(a),N(!0)},[a,I]),V=(0,p.useCallback)(()=>{(F?.(),g)?P():(I||C(!0),N(!1))},[I,g,F,P]),D=(0,p.useMemo)(()=>({commands:{"github:cancel":E,"github:submit-form":K?void 0:w},keys:{"github:cancel":["Escape"],"github:submit-form":["Enter"]}}),[K,E,w]),R=(0,p.useRef)(null),[M,O]=(0,p.useState)("256px");(0,p.useEffect)(()=>{if(L&&R.current){let e=R.current.getBoundingClientRect().width;e>0&&O(`${e}px`)}},[L]);let B=(0,p.useMemo)(()=>_?`${l} (edited)`:l,[l,_]);return(0,n.jsx)(c.T,{open:L,anchorRef:R,renderAnchor:e=>k(e,R,B),onClose:V,onOpen:A,overlayProps:{style:{width:h??M}},children:(0,n.jsxs)(i.tL,{...D,children:[(0,n.jsx)("div",{className:b.A.issuesFieldTextInputContainer,children:(0,n.jsxs)(r.A,{children:[(0,n.jsx)(r.A.Label,{visuallyHidden:!0,children:f.k.textEditorLabel(l)}),(0,n.jsx)(o.A,{block:!0,value:v,placeholder:f.k.textEditorPlaceholder,onChange:e=>{let{value:l}=e.target;j(l),l===a?S(!0):S(!1)},...d}),T&&(0,n.jsx)(r.A.Validation,{variant:"error",className:b.A.issuesFieldTextError,children:T})]})}),(0,n.jsx)("div",{className:b.A.issuesFieldToolbar,role:"toolbar","aria-label":f.k.textEditorToolbarLabel(l),children:(0,n.jsxs)("div",{className:b.A.issuesFieldToolbarActions,children:[(0,n.jsx)(m.Q,{size:"small",onClick:E,className:b.A.actionButton,trailingVisual:(0,n.jsx)(i.hh,{commandId:"github:cancel"}),children:f.k.textEditorCancelButton}),(0,n.jsx)(m.Q,{size:"small",variant:"primary",onClick:K?void 0:w,"aria-disabled":K,inactive:K,"aria-label":f.k.textEditorUpdateButtonAriaLabel(l),className:b.A.actionButton,trailingVisual:(0,n.jsx)(i.hh,{commandId:"github:submit-form"}),children:f.k.textEditorUpdateButton})]})})]})})};j.displayName="IssueFieldTextEditorInternal"},78836(e,l,a){a.d(l,{k:()=>n});let n={mutationErrorMessage:"Something went wrong while setting the field value. Please try again.",loadingFieldsTooltipMessage:"Couldn't load issue fields",loadingFieldsErrorMessage:"We couldn't load the issue fields. Please try again later or if the problem persists contact support",setValue:"None yet",reloadWarningMessage:"Reload site? Changes you made might not be saved.",textValidationMaxLength:(e,l)=>`Value cannot be more than ${l} characters (${e})`,textValidationEmpty:"Text cannot be empty.",textEditorLabel:e=>`The value for the ${e} field`,textEditorToolbarLabel:e=>`Toolbar for ${e} field`,textEditorPlaceholder:"Type text\u2026",numberEditorPlaceholder:"Type number\u2026",numberValidation:{errorMessage:"Must contain only numbers, decimals, and optional negative sign",max:e=>`Cannot be greater than ${e}`,min:e=>`Cannot be less than ${e}`},textEditorUpdateButton:"Update",textEditorRemoveFieldButtonLabel:e=>`Remove field ${e}`,textEditorUpdateButtonAriaLabel:e=>`Update field ${e} (press enter to submit)`,textEditorCancelButton:"Cancel",errorUpdatingIssueField:"There was an error updating this value. Please try again.",editFieldValueLabel:e=>`Edit ${e}`,noPinnedFieldsMessage:e=>e?`${e} has no fields pinned.`:"No pinned fields."}},86114(e,l,a){a.d(l,{Pv:()=>R,ku:()=>O,Wj:()=>M,qn:()=>D});var n,t,i,s,r,o,u,d,c,m=a(74848);let g={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"LabelsSectionFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"body",storageKey:null},{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"LabelsSectionAssignedLabels"},{alias:null,args:null,kind:"ScalarField",name:"viewerCanLabel",storageKey:null}],type:"Issue",abstractKey:null};g.hash="89d173296b36dd6c47d64eaffcd8fa74";let p={fragment:{argumentDefinitions:n=[{defaultValue:100,kind:"LocalArgument",name:"assignedLabelPageSize"},{defaultValue:null,kind:"LocalArgument",name:"cursor"},{defaultValue:null,kind:"LocalArgument",name:"id"}],kind:"Fragment",metadata:null,name:"LabelsSectionAssignedLabelsQuery",selections:[{alias:null,args:t=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:[{kind:"Variable",name:"assignedLabelPageSize",variableName:"assignedLabelPageSize"},{kind:"Variable",name:"cursor",variableName:"cursor"}],kind:"FragmentSpread",name:"LabelsSectionAssignedLabels"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"LabelsSectionAssignedLabelsQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:r=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"first",variableName:"assignedLabelPageSize"},{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"NAME"}}],concreteType:"LabelConnection",kind:"LinkedField",name:"labels",plural:!1,selections:[{alias:null,args:null,concreteType:"LabelEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"node",plural:!1,selections:[s,{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},i],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:r,filters:["orderBy"],handle:"connection",key:"MetadataSectionAssignedLabels_labels",kind:"LinkedHandle",name:"labels"},{kind:"TypeDiscriminator",abstractKey:"__isNode"}],type:"Labelable",abstractKey:"__isLabelable"}],storageKey:null}]},params:{id:"d103ad1af39cfc73beab26bc9a07c330",metadata:{},name:"LabelsSectionAssignedLabelsQuery",operationKind:"query",text:null}};p.hash="20f7e48e94311f48bdecc097fbeb646a";let y={argumentDefinitions:[{defaultValue:100,kind:"LocalArgument",name:"assignedLabelPageSize"},{defaultValue:null,kind:"LocalArgument",name:"cursor"}],kind:"Fragment",metadata:{connection:[{count:"assignedLabelPageSize",cursor:"cursor",direction:"forward",path:o=["labels"]}],refetch:{connection:{forward:{count:"assignedLabelPageSize",cursor:"cursor"},backward:null,path:o},fragmentPathInResult:["node"],operation:p,identifierInfo:{identifierField:"id",identifierQueryVariableName:"id"}}},name:"LabelsSectionAssignedLabels",selections:[{alias:"labels",args:[{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"NAME"}}],concreteType:"LabelConnection",kind:"LinkedField",name:"__MetadataSectionAssignedLabels_labels_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"LabelEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"node",plural:!1,selections:[u={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:'__MetadataSectionAssignedLabels_labels_connection(orderBy:{"direction":"ASC","field":"NAME"})'},{kind:"InlineFragment",selections:[u],type:"Node",abstractKey:"__isNode"}],type:"Labelable",abstractKey:"__isLabelable"};y.hash="20f7e48e94311f48bdecc097fbeb646a";var k=a(23131),f=a(90690),h=a(98106),b=a(51505),F=a(34477),I=a(53696),S=a(32343),_=a(96540),x=a(34784),C=a(69645),v=a(17637);let j={fragment:{argumentDefinitions:d=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"removeLabelsFromLabelableMutation",selections:c=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"RemoveLabelsFromLabelablePayload",kind:"LinkedField",name:"removeLabelsFromLabelable",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"clientMutationId",storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:d,kind:"Operation",name:"removeLabelsFromLabelableMutation",selections:c},params:{id:"cce4e0522a0bbf89aa28f9e4da5d7beb",metadata:{},name:"removeLabelsFromLabelableMutation",operationKind:"mutation",text:null}};j.hash="9f3ee532d3745a09f037181e4a226f48";var T=a(18312);let K=(0,a(68439).A)("localStorage",{throwQuotaErrorsOnSet:!1,ttl:2592e6});function L(e){return`favorite-labels:${e}`}function N(e){let l=L(e),a=K.getItem(l);if(!a)return{labels:{}};try{return JSON.parse(a)}catch{return{labels:{}}}}var P=a(37049),E=a(23475),w=a(98475);let A=()=>(0,m.jsx)(P.h,{title:C.k.sectionTitles.labels});A.displayName="ReadonlyLabelsSectionHeader";let V=({sectionHeader:e,onDelete:l,labels:a})=>(0,m.jsx)(E.w,{id:"sidebar-labels-section",sectionHeader:e,emptyText:a.length>0?void 0:C.k.emptySections.labels,children:(0,m.jsx)(F.w,{labels:a,onDelete:l,testId:v.Y.issueLabels})});V.displayName="LabelsSection";let D=({repo:e,owner:l,readonly:a,labels:n,onSelectionChange:t,...i})=>{let s=a?(0,m.jsx)(A,{}):(0,m.jsx)(b.t,{repo:e,owner:l,readonly:a,canCreateLabel:!a,labels:n,onSelectionChange:t,showNoMatchItem:!0,anchorElement:(e,l)=>(0,m.jsx)(w.X,{title:C.k.sectionTitles.labels,buttonProps:e,ref:l}),...i});return(0,m.jsx)(V,{sectionHeader:s,labels:n})};D.displayName="CreateIssueLabelsSection";let R=g,M=y;function O({issue:e,onIssueUpdate:l,insideSidePanel:a,readonly:n}){let{sendAnalyticsEvent:t}=(0,S.s)(),i=(0,x.useFragment)(R,e),{repository:{owner:{login:s},name:r,isArchived:o}}=i,{data:u}=(0,x.usePaginationFragment)(M,i),{id:d,viewerCanLabel:c}=i,g=(0,_.useMemo)(()=>u.labels?.edges?.flatMap(e=>e?.node?[e?.node]:[])||[],[u]),p=(0,x.useRelayEnvironment)(),y=(0,k.G7)("issues_report_sidebar_interactions"),F=(0,k.G7)("issues_react_favorite_labels"),v=n||!c||o,{addToast:P}=(0,I.Y6)(),E=(0,_.useCallback)(e=>{(0,f.N)({environment:p,input:{labelableId:d,labels:e,labelableTypeName:"Issue"},onError:()=>P({type:"error",message:h.S.couldNotUpdateLabels}),onCompleted:()=>{F&&e.length>0&&function(e,l){if(0===l.length)return;let a=N(e),n=Date.now();for(let e of l){let l=a.labels[e];a.labels[e]={labelId:e,count:l?l.count+1:1,lastUsed:n}}let t=L(e);try{K.setItem(t,JSON.stringify(a))}catch{}}(`${s}/${r}`,e.map(e=>e.id)),l?.()}})},[P,p,d,l,s,r,F]),D=(0,k.G7)("issues_react_remove_labels_oneclick"),O=(0,_.useCallback)(e=>{!function({environment:e,input:l,onError:a,onCompleted:n}){let t=e=>{let a=T.ConnectionHandler.getConnectionID(l.labelableId,"MetadataSectionAssignedLabels_labels"),n=e.get(`${a}(orderBy:{"direction":"ASC","field":"NAME"})`);n&&l.labelIds[0]&&T.ConnectionHandler.deleteNode(n,l.labelIds[0])};(0,T.commitMutation)(e,{mutation:j,variables:{input:l},onError:e=>a&&a(e),onCompleted:e=>n&&n(e),updater:t,optimisticUpdater:t})}({environment:p,input:{labelableId:d,labelIds:[e]}})},[p,d]),B=(0,_.useMemo)(()=>{if(v)return(0,m.jsx)(A,{});let e=F?(function(e,l=10,a=4){let n=N(e),t=Date.now()-24*l*36e5;return Object.values(n.labels).filter(e=>e.lastUsed>=t).sort((e,l)=>e.count!==l.count?l.count-e.count:l.lastUsed-e.lastUsed).slice(0,a)})(`${s}/${r}`).map(e=>e.labelId):[];return(0,m.jsx)(b.t,{repo:r,owner:s,readonly:v,labels:g,canCreateLabel:!v,favoriteLabelIds:e,onSelectionChange:E,anchorElement:(e,l)=>(0,m.jsx)(w.X,{title:C.k.sectionTitles.labels,buttonProps:{...e,onClick:l=>{y&&t("analytics.click","ISSUE_SIDEBAR_LABELS_SECTION_EDIT_CLICK"),e.onClick?.(l)}},ref:l}),insidePortal:a,showNoMatchItem:!0})},[v,F,s,r,g,E,a,y,t]);return(0,m.jsx)(V,{sectionHeader:B,onDelete:D&&!v?O:void 0,labels:g})}O.displayName="EditIssueLabelsSection"},51316(e,l,a){a.d(l,{zD:()=>C,C5:()=>x,eJ:()=>j,Bk:()=>v});var n=a(74848);let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MilestonesSectionMilestone",selections:[{alias:null,args:null,concreteType:"Milestone",kind:"LinkedField",name:"milestone",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dueOn",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"progressPercentage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closedAt",storageKey:null}],storageKey:null}],type:"Issue",abstractKey:null};t.hash="76d2f86529ad47c916131104f23ee735";let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MilestonesSectionFragment",selections:[{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"MilestonesSectionMilestone"},{alias:null,args:null,kind:"ScalarField",name:"viewerCanSetMilestone",storageKey:null}],type:"Issue",abstractKey:null};i.hash="72b43b6f8433e4a47b0321cf2aa3c5ea";var s=a(18839),r=a(98106),o=a(36002),u=a(53696),d=a(18990),c=a(96540),m=a(18312),g=a(69645),p=a(37049),y=a(23475),k=a(98475),f=a(61809),h=a(62561),b=a(17637);let F=({progress:e})=>(0,n.jsxs)("svg",{role:"presentation",width:"16",height:"16","data-target":"tracked-issues-progress.progress","data-circumference":"38",style:{transform:"rotate(-90deg)"},"data-testid":b.Y.milestoneProgressIcon,children:[e<1?null:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.0206 11.1074C9.68518 11.3949 9.18014 11.3561 8.8926 11.0206L5.8926 7.52061C5.62055 7.20322 5.63873 6.72989 5.93432 6.4343L7.43432 4.9343C7.74674 4.62188 8.25327 4.62188 8.56569 4.9343C8.87811 5.24672 8.87811 5.75325 8.56569 6.06567L7.58953 7.04182L10.1074 9.97935C10.3949 10.3148 10.3561 10.8198 10.0206 11.1074Z",fill:"var(--fgColor-done, var(--color-done-fg))"}),(0,n.jsx)("circle",{stroke:"var(--borderColor-default, var(--color-border-default))",strokeWidth:"2",fill:"transparent",cx:"50%",cy:"50%",r:"6"}),(0,n.jsx)("circle",{style:{transition:"stroke-dashoffset 0.35s"},stroke:"var(--fgColor-done, var(--color-done-fg))",strokeWidth:"2",strokeDasharray:38,strokeDashoffset:38-38*e,strokeLinecap:"round",fill:"transparent",cx:"50%",cy:"50%",r:"6"})]});function I({milestone:e,anchorProps:l}){return(0,n.jsx)(n.Fragment,{children:e?(0,n.jsxs)(d.l.LinkItem,{href:e.url||"#",target:"_blank","data-testid":b.Y.milestoneContainer,...l,onClick:h.l,children:[(0,n.jsx)(d.l.LeadingVisual,{children:(0,n.jsx)(F,{progress:e.progressPercentage/100})}),e.title,(0,n.jsx)(d.l.Description,{variant:"block",children:(0,n.jsx)(f.R,{closed:e.closed,closedAt:e.closedAt,progressPercentage:e.progressPercentage,dueOn:e.dueOn,showProgressPercentage:!0})})]},e.id):(0,n.jsx)("div",{className:"Milestone-module__hiddenPlaceholder__lFLrl2A",...l})})}F.displayName="ProgressIcon",I.displayName="Milestone";let S=()=>(0,n.jsx)(p.h,{title:g.k.sectionTitles.milestones});S.displayName="ReadonlyMilestonesSectionHeader";let _=({sectionHeader:e,milestone:l,sx:a,className:t})=>(0,n.jsx)(y.w,{id:"sidebar-milestones-section",sx:a,className:t,sectionHeader:e,emptyText:l?void 0:g.k.emptySections.milestones,children:(0,n.jsx)(d.l,{variant:"full",children:(0,n.jsx)(I,{milestone:l})})});function x({milestone:e,onSelectionChange:l,viewerCanSetMilestone:a,className:t,sx:i,...s}){let r=a?(0,n.jsx)(o.D,{onSelectionChange:e=>{l(e?.[0]||null)},readonly:a,canCreateMilestone:a,activeMilestone:e,anchorElement:(e,l)=>(0,n.jsx)(k.X,{title:g.k.sectionTitles.milestones,buttonProps:e,ref:l}),showMilestoneDescription:!0,...s}):(0,n.jsx)(S,{});return(0,n.jsx)(_,{sx:i,className:t,sectionHeader:r,milestone:e})}_.displayName="MilestonesSection",x.displayName="CreateIssueMilestonesSection";let C=t,v=i;function j({issue:e,onIssueUpdate:l,insideSidePanel:a,readonly:t}){let i=(0,m.useFragment)(v,e),{repository:{owner:{login:d},name:p},id:y,viewerCanSetMilestone:f}=i,{milestone:h}=(0,m.useFragment)(C,i),{addToast:b}=(0,u.Y6)(),F=(0,m.useRelayEnvironment)(),I=(0,c.useCallback)(e=>{(0,s.v)({environment:F,input:{issueId:y,milestone:e.length>0?e.at(-1):null},onError:()=>b({type:"error",message:r.S.couldNotUpdateMilestone}),onCompleted:l})},[b,F,y,l]),x=(0,c.useMemo)(()=>{let e=t||!f;return e?(0,n.jsx)(S,{}):(0,n.jsx)(o.D,{repo:p,owner:d,onSelectionChange:I,anchorElement:(e,l)=>(0,n.jsx)(k.X,{title:g.k.sectionTitles.milestones,buttonProps:e,ref:l}),readonly:e,canCreateMilestone:f,activeMilestone:h??null,insidePortal:a,showMilestoneDescription:!0,showNoMatchItem:!0})},[t,f,p,d,I,h,a]);return(0,n.jsx)(_,{sectionHeader:x,milestone:h??null})}j.displayName="EditIssueMilestonesSection"},24545(e,l,a){a.d(l,{ym:()=>l3,PH:()=>l7,le:()=>l5,nf:()=>l8});var n,t,i,s,r,o,u,d,c,m,g,p,y,k,f,h,b,F,I,S,_,x,C,v,j,T,K,L,N,P,E,w,A,V,D,R,M,O,B,$,U,H,q,G,W,z,Q,Y,X,Z,J,ee,el,ea,en,et,ei,es,er,eo,eu,ed,ec,em,eg,ep,ey,ek,ef,eh,eb,eF,eI,eS,e_,ex,eC,ev,ej,eT,eK,eL,eN,eP=a(74848);let eE=(n={count:null,cursor:null,direction:"forward",path:["projectItems"]},i={alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null}],storageKey:null},o={alias:"projectItems",args:[{kind:"Literal",name:"allowSameEnterprise",value:!0},{kind:"Variable",name:"allowedOwner",variableName:"allowedOwner"}],concreteType:"ProjectV2ItemConnection",kind:"LinkedField",name:"__ProjectSection_projectItems_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2ItemEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ProjectV2Item",kind:"LinkedField",name:"node",plural:!1,selections:[s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"ProjectItemSection"},{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"project",plural:!1,selections:[s,{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closed",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"number",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"viewerCanUpdate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasReachedItemsLimit",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null},{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"allowedOwner"}],kind:"Fragment",metadata:{connection:[n,n]},name:"ProjectsSectionFragment",selections:[{kind:"InlineFragment",selections:[t,i,s,o,{alias:null,args:null,kind:"ScalarField",name:"viewerCanUpdateMetadata",storageKey:null}],type:"Issue",abstractKey:null},{kind:"InlineFragment",selections:[t,i,s,o,r],type:"PullRequest",abstractKey:null}],type:"IssueOrPullRequest",abstractKey:"__isIssueOrPullRequest"});eE.hash="b7c4b61f49cb224f47a2a8d004d6e604";var ew=a(31722),eA=a(51578),eV=a(40280),eD=a(53696),eR=a(38621),eM=a(18990),eO=a(21373),eB=a(96540),e$=a(18312),eU=a(69487),eH=a(69645);let eq={fragment:{argumentDefinitions:u=[{defaultValue:null,kind:"LocalArgument",name:"connections"},{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"deleteIssueProjectsMutation",selections:[{alias:null,args:d=[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"DeleteProjectV2ItemPayload",kind:"LinkedField",name:"deleteProjectV2Item",plural:!1,selections:[c={alias:null,args:null,kind:"ScalarField",name:"deletedItemId",storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:u,kind:"Operation",name:"deleteIssueProjectsMutation",selections:[{alias:null,args:d,concreteType:"DeleteProjectV2ItemPayload",kind:"LinkedField",name:"deleteProjectV2Item",plural:!1,selections:[c,{alias:null,args:null,filters:null,handle:"deleteEdge",key:"",kind:"ScalarHandle",name:"deletedItemId",handleArgs:[{kind:"Variable",name:"connections",variableName:"connections"}]}],storageKey:null}]},params:{id:"cdc2c4b69492faa142269c6a6a60df92",metadata:{},name:"deleteIssueProjectsMutation",operationKind:"mutation",text:null}};eq.hash="b546b455603fb197fd8347b4cec2351a";var eG=a(37049),eW=a(23475),ez=a(98475);let eQ={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProjectItemSection",selections:[m={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null},{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"project",plural:!1,selections:[m],storageKey:null},{args:null,kind:"FragmentSpread",name:"ProjectItemSectionView"}],type:"ProjectV2Item",abstractKey:null};eQ.hash="d514f44f54887c87d0f242aa077953b2";let eY=(g=[{defaultValue:null,kind:"LocalArgument",name:"id"}],p=[{kind:"Variable",name:"id",variableName:"id"}],y={alias:null,args:null,kind:"ScalarField",name:"viewerCanUpdate",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},F=[{kind:"Literal",name:"first",value:50},{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"POSITION"}}],I={alias:null,args:null,kind:"ScalarField",name:"dataType",storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"isIssueField",storageKey:null},T={alias:null,args:null,concreteType:"ProjectV2IterationFieldConfiguration",kind:"LinkedField",name:"configuration",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2IterationFieldIteration",kind:"LinkedField",name:"iterations",plural:!0,selections:j=[f={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"titleHTML",storageKey:null},C={alias:null,args:null,kind:"ScalarField",name:"startDate",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProjectV2IterationFieldIteration",kind:"LinkedField",name:"completedIterations",plural:!0,selections:j,storageKey:null}],storageKey:null},K={alias:null,args:null,kind:"ScalarField",name:"optionId",storageKey:null},L={alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},N={alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},E={kind:"InlineFragment",selections:P=[f],type:"Node",abstractKey:"__isNode"},w={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[h,{kind:"InlineFragment",selections:[f,S],type:"ProjectV2Field",abstractKey:null},E],storageKey:null},{fragment:{argumentDefinitions:g,kind:"Fragment",metadata:null,name:"ProjectItemSectionFieldListQuery",selections:[{alias:null,args:p,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"project",plural:!1,selections:[y,k,f],storageKey:null},{args:null,kind:"FragmentSpread",name:"ProjectItemSectionFields"}],type:"ProjectV2Item",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:g,kind:"Operation",name:"ProjectItemSectionFieldListQuery",selections:[{alias:null,args:p,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[h,f,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"project",plural:!1,selections:[y,k,f,b,{alias:null,args:F,concreteType:"ProjectV2FieldConfigurationConnection",kind:"LinkedField",name:"fields",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2FieldConfigurationEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[h,{kind:"InlineFragment",selections:[f,I,S,_],type:"ProjectV2Field",abstractKey:null},{kind:"InlineFragment",selections:[f,I,S,_,T],type:"ProjectV2IterationField",abstractKey:null},{kind:"InlineFragment",selections:[f,I,S,_,{alias:null,args:null,concreteType:"ProjectV2SingleSelectFieldOption",kind:"LinkedField",name:"options",plural:!0,selections:[f,K,S,L,N,{alias:null,args:null,kind:"ScalarField",name:"descriptionHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null}],storageKey:null}],type:"ProjectV2SingleSelectField",abstractKey:null},E],storageKey:null}],storageKey:null}],storageKey:'fields(first:50,orderBy:{"direction":"ASC","field":"POSITION"})'}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null},{alias:null,args:F,concreteType:"ProjectV2ItemFieldValueConnection",kind:"LinkedField",name:"fieldValues",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2ItemFieldValueEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[h,{kind:"InlineFragment",selections:[f,w,{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],type:"ProjectV2ItemFieldTextValue",abstractKey:null},{kind:"InlineFragment",selections:[f,w,{alias:null,args:null,kind:"ScalarField",name:"number",storageKey:null}],type:"ProjectV2ItemFieldNumberValue",abstractKey:null},{kind:"InlineFragment",selections:[f,w,{alias:null,args:null,kind:"ScalarField",name:"date",storageKey:null}],type:"ProjectV2ItemFieldDateValue",abstractKey:null},{kind:"InlineFragment",selections:[f,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[h,{kind:"InlineFragment",selections:P,type:"ProjectV2SingleSelectField",abstractKey:null},E],storageKey:null},K,S,L,N],type:"ProjectV2ItemFieldSingleSelectValue",abstractKey:null},{kind:"InlineFragment",selections:[f,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[h,{kind:"InlineFragment",selections:[f,S,T],type:"ProjectV2IterationField",abstractKey:null},E],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"iterationId",storageKey:null},b,x,C,v],type:"ProjectV2ItemFieldIterationValue",abstractKey:null},E],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:'fieldValues(first:50,orderBy:{"direction":"ASC","field":"POSITION"})'},{alias:null,args:F,filters:["orderBy"],handle:"connection",key:"ProjectItemSection_fieldValues",kind:"LinkedHandle",name:"fieldValues"}],type:"ProjectV2Item",abstractKey:null}],storageKey:null}]},params:{id:"241d243a15a751aa4668f46296a39636",metadata:{},name:"ProjectItemSectionFieldListQuery",operationKind:"query",text:null}});eY.hash="b0347ba7355910f2a5163bb08004baef";var eX=a(83223);let eZ={fragment:{argumentDefinitions:A=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"unarchiveProjectItemMutation",selections:[{alias:null,args:V=[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"UnarchiveProjectV2ItemPayload",kind:"LinkedField",name:"unarchiveProjectV2Item",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2Item",kind:"LinkedField",name:"item",plural:!1,selections:[D={alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:A,kind:"Operation",name:"unarchiveProjectItemMutation",selections:[{alias:null,args:V,concreteType:"UnarchiveProjectV2ItemPayload",kind:"LinkedField",name:"unarchiveProjectV2Item",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2Item",kind:"LinkedField",name:"item",plural:!1,selections:[D,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"1d1e59700f5c9977430696b2338a0674",metadata:{},name:"unarchiveProjectItemMutation",operationKind:"mutation",text:null}};eZ.hash="774df17c4810f952c016355065fbcd6c";let eJ={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProjectItemSectionFields",selections:[R={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null},{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"project",plural:!1,selections:[R,{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerCanUpdate",storageKey:null},{alias:null,args:[{kind:"Literal",name:"first",value:50},{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"POSITION"}}],concreteType:"ProjectV2FieldConfigurationConnection",kind:"LinkedField",name:"fields",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2FieldConfigurationEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[R,M={alias:null,args:null,kind:"ScalarField",name:"dataType",storageKey:null},O={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},B={alias:null,args:null,kind:"ScalarField",name:"isIssueField",storageKey:null},{args:null,kind:"FragmentSpread",name:"TextFieldConfigFragment"},{args:null,kind:"FragmentSpread",name:"DateFieldConfigFragment"},{args:null,kind:"FragmentSpread",name:"NumberFieldConfigFragment"}],type:"ProjectV2Field",abstractKey:null},{kind:"InlineFragment",selections:[R,M,O,B,{args:null,kind:"FragmentSpread",name:"IterationFieldConfigFragment"}],type:"ProjectV2IterationField",abstractKey:null},{kind:"InlineFragment",selections:[R,M,O,B,{args:null,kind:"FragmentSpread",name:"SingleSelectFieldConfigFragment"}],type:"ProjectV2SingleSelectField",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:'fields(first:50,orderBy:{"direction":"ASC","field":"POSITION"})'}],storageKey:null},{args:null,kind:"FragmentSpread",name:"ProjectItemSectionFieldsValues"}],type:"ProjectV2Item",abstractKey:null};eJ.hash="9e108cec835ef8bbd41e623d8601e11b";let e0=(U=[$={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:{connection:[{count:null,cursor:null,direction:"forward",path:["fieldValues"]}]},name:"ProjectItemSectionFieldsValues",selections:[{alias:"fieldValues",args:[{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"POSITION"}}],concreteType:"ProjectV2ItemFieldValueConnection",kind:"LinkedField",name:"__ProjectItemSection_fieldValues_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2ItemFieldValueEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:H=[$,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[{kind:"InlineFragment",selections:U,type:"ProjectV2Field",abstractKey:null}],storageKey:null}],type:"ProjectV2ItemFieldTextValue",abstractKey:null},{args:null,kind:"FragmentSpread",name:"TextFieldFragment"},{kind:"InlineFragment",selections:H,type:"ProjectV2ItemFieldNumberValue",abstractKey:null},{args:null,kind:"FragmentSpread",name:"NumberFieldFragment"},{kind:"InlineFragment",selections:H,type:"ProjectV2ItemFieldDateValue",abstractKey:null},{args:null,kind:"FragmentSpread",name:"DateFieldFragment"},{kind:"InlineFragment",selections:[$,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[{kind:"InlineFragment",selections:U,type:"ProjectV2SingleSelectField",abstractKey:null}],storageKey:null}],type:"ProjectV2ItemFieldSingleSelectValue",abstractKey:null},{args:null,kind:"FragmentSpread",name:"SingleSelectFieldFragment"},{kind:"InlineFragment",selections:[$,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[{kind:"InlineFragment",selections:U,type:"ProjectV2IterationField",abstractKey:null}],storageKey:null}],type:"ProjectV2ItemFieldIterationValue",abstractKey:null},{args:null,kind:"FragmentSpread",name:"IterationFieldFragment"},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:'__ProjectItemSection_fieldValues_connection(orderBy:{"direction":"ASC","field":"POSITION"})'}],type:"ProjectV2Item",abstractKey:null});e0.hash="6064e6f5025ede2958816599a371f827";var e1=a(34164);let e4={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DateFieldFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"date",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"DateFieldConfigFragment"}],storageKey:null}],type:"ProjectV2ItemFieldDateValue",abstractKey:null};e4.hash="77aee2b1b5d211b322b848ac87e2ca19";let e2={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DateFieldConfigFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],type:"ProjectV2Field",abstractKey:null};e2.hash="137f1e064b5aa98d4b4aa184ee4db814";var e6=a(19227);let e3=(q=[{defaultValue:null,kind:"LocalArgument",name:"input"}],G=[{kind:"Variable",name:"input",variableName:"input"}],z={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},Y={alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"project",plural:!1,selections:Q=[W={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},X=[{kind:"Literal",name:"name",value:"Status"}],J={kind:"InlineFragment",selections:[Z={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],type:"ProjectV2ItemFieldSingleSelectValue",abstractKey:null},ee=[{kind:"Literal",name:"first",value:50},{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"POSITION"}}],en={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[el={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[W,Z],type:"ProjectV2Field",abstractKey:null},ea={kind:"InlineFragment",selections:Q,type:"Node",abstractKey:"__isNode"}],storageKey:null},eo=[W,et={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},ei={alias:null,args:null,kind:"ScalarField",name:"titleHTML",storageKey:null},es={alias:null,args:null,kind:"ScalarField",name:"startDate",storageKey:null},er={alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null}],{fragment:{argumentDefinitions:q,kind:"Fragment",metadata:null,name:"clearProjectItemFieldValueMutation",selections:[{alias:null,args:G,concreteType:"ClearProjectV2ItemFieldValuePayload",kind:"LinkedField",name:"clearProjectV2ItemFieldValue",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2Item",kind:"LinkedField",name:"projectV2Item",plural:!1,selections:[W,z,Y,{args:null,kind:"FragmentSpread",name:"ProjectItemSectionFieldsValues"},{alias:null,args:X,concreteType:null,kind:"LinkedField",name:"fieldValueByName",plural:!1,selections:[J],storageKey:'fieldValueByName(name:"Status")'}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:q,kind:"Operation",name:"clearProjectItemFieldValueMutation",selections:[{alias:null,args:G,concreteType:"ClearProjectV2ItemFieldValuePayload",kind:"LinkedField",name:"clearProjectV2ItemFieldValue",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2Item",kind:"LinkedField",name:"projectV2Item",plural:!1,selections:[W,z,Y,{alias:null,args:ee,concreteType:"ProjectV2ItemFieldValueConnection",kind:"LinkedField",name:"fieldValues",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2ItemFieldValueEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[el,{kind:"InlineFragment",selections:[W,en,{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],type:"ProjectV2ItemFieldTextValue",abstractKey:null},{kind:"InlineFragment",selections:[W,en,{alias:null,args:null,kind:"ScalarField",name:"number",storageKey:null}],type:"ProjectV2ItemFieldNumberValue",abstractKey:null},{kind:"InlineFragment",selections:[W,en,{alias:null,args:null,kind:"ScalarField",name:"date",storageKey:null}],type:"ProjectV2ItemFieldDateValue",abstractKey:null},{kind:"InlineFragment",selections:[W,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[el,{kind:"InlineFragment",selections:Q,type:"ProjectV2SingleSelectField",abstractKey:null},ea],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"optionId",storageKey:null},Z,{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null}],type:"ProjectV2ItemFieldSingleSelectValue",abstractKey:null},{kind:"InlineFragment",selections:[W,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[el,{kind:"InlineFragment",selections:[W,Z,{alias:null,args:null,concreteType:"ProjectV2IterationFieldConfiguration",kind:"LinkedField",name:"configuration",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2IterationFieldIteration",kind:"LinkedField",name:"iterations",plural:!0,selections:eo,storageKey:null},{alias:null,args:null,concreteType:"ProjectV2IterationFieldIteration",kind:"LinkedField",name:"completedIterations",plural:!0,selections:eo,storageKey:null}],storageKey:null}],type:"ProjectV2IterationField",abstractKey:null},ea],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"iterationId",storageKey:null},et,ei,es,er],type:"ProjectV2ItemFieldIterationValue",abstractKey:null},ea],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:'fieldValues(first:50,orderBy:{"direction":"ASC","field":"POSITION"})'},{alias:null,args:ee,filters:["orderBy"],handle:"connection",key:"ProjectItemSection_fieldValues",kind:"LinkedHandle",name:"fieldValues"},{alias:null,args:X,concreteType:null,kind:"LinkedField",name:"fieldValueByName",plural:!1,selections:[el,J,ea],storageKey:'fieldValueByName(name:"Status")'}],storageKey:null}],storageKey:null}]},params:{id:"d132dec069be1a67131a5e271bc909a6",metadata:{},name:"clearProjectItemFieldValueMutation",operationKind:"mutation",text:null}});function e7({environment:e,input:l,onError:a,onCompleted:n}){return(0,e$.commitMutation)(e,{mutation:e3,variables:{input:l},optimisticUpdater:e=>{let a,n;return a=`${e$.ConnectionHandler.getConnectionID(l.itemId,"ProjectItemSection_fieldValues")}(orderBy:{"direction":"ASC","field":"POSITION"})`,void((n=e.get(a))&&n.getLinkedRecords("edges")?.map((e,a)=>{if(e?.getLinkedRecord("node")?.getLinkedRecord("field")?.getDataID()===l.fieldId){let e=n.getLinkedRecords("edges")||[];e.splice(a,1),n.setLinkedRecords(e,"edges")}}))},onError:e=>a&&a(e),onCompleted:e=>n&&n(e)})}e3.hash="1cc97421540c4997953175725e1f92c9";let e8=(eu=[{defaultValue:null,kind:"LocalArgument",name:"input"}],ed=[{kind:"Variable",name:"input",variableName:"input"}],ec=[{kind:"Literal",name:"name",value:"Status"}],eg={kind:"InlineFragment",selections:[em={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],type:"ProjectV2ItemFieldSingleSelectValue",abstractKey:null},ep=[{kind:"Literal",name:"first",value:50},{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"POSITION"}}],ey={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},eh={kind:"InlineFragment",selections:ef=[ek={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Node",abstractKey:"__isNode"},eb={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[ey,{kind:"InlineFragment",selections:[ek,em],type:"ProjectV2Field",abstractKey:null},eh],storageKey:null},ex=[ek,eF={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},eI={alias:null,args:null,kind:"ScalarField",name:"titleHTML",storageKey:null},eS={alias:null,args:null,kind:"ScalarField",name:"startDate",storageKey:null},e_={alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null}],{fragment:{argumentDefinitions:eu,kind:"Fragment",metadata:null,name:"updateProjectItemFieldValueMutation",selections:[{alias:null,args:ed,concreteType:"UpdateProjectV2ItemFieldValuePayload",kind:"LinkedField",name:"updateProjectV2ItemFieldValue",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2Item",kind:"LinkedField",name:"projectV2Item",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"ProjectItemSectionFieldsValues"},{alias:null,args:ec,concreteType:null,kind:"LinkedField",name:"fieldValueByName",plural:!1,selections:[eg],storageKey:'fieldValueByName(name:"Status")'}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:eu,kind:"Operation",name:"updateProjectItemFieldValueMutation",selections:[{alias:null,args:ed,concreteType:"UpdateProjectV2ItemFieldValuePayload",kind:"LinkedField",name:"updateProjectV2ItemFieldValue",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2Item",kind:"LinkedField",name:"projectV2Item",plural:!1,selections:[{alias:null,args:ep,concreteType:"ProjectV2ItemFieldValueConnection",kind:"LinkedField",name:"fieldValues",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2ItemFieldValueEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[ey,{kind:"InlineFragment",selections:[ek,eb,{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],type:"ProjectV2ItemFieldTextValue",abstractKey:null},{kind:"InlineFragment",selections:[ek,eb,{alias:null,args:null,kind:"ScalarField",name:"number",storageKey:null}],type:"ProjectV2ItemFieldNumberValue",abstractKey:null},{kind:"InlineFragment",selections:[ek,eb,{alias:null,args:null,kind:"ScalarField",name:"date",storageKey:null}],type:"ProjectV2ItemFieldDateValue",abstractKey:null},{kind:"InlineFragment",selections:[ek,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[ey,{kind:"InlineFragment",selections:ef,type:"ProjectV2SingleSelectField",abstractKey:null},eh],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"optionId",storageKey:null},em,{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null}],type:"ProjectV2ItemFieldSingleSelectValue",abstractKey:null},{kind:"InlineFragment",selections:[ek,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[ey,{kind:"InlineFragment",selections:[ek,em,{alias:null,args:null,concreteType:"ProjectV2IterationFieldConfiguration",kind:"LinkedField",name:"configuration",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2IterationFieldIteration",kind:"LinkedField",name:"iterations",plural:!0,selections:ex,storageKey:null},{alias:null,args:null,concreteType:"ProjectV2IterationFieldIteration",kind:"LinkedField",name:"completedIterations",plural:!0,selections:ex,storageKey:null}],storageKey:null}],type:"ProjectV2IterationField",abstractKey:null},eh],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"iterationId",storageKey:null},eF,eI,eS,e_],type:"ProjectV2ItemFieldIterationValue",abstractKey:null},eh],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:'fieldValues(first:50,orderBy:{"direction":"ASC","field":"POSITION"})'},{alias:null,args:ep,filters:["orderBy"],handle:"connection",key:"ProjectItemSection_fieldValues",kind:"LinkedHandle",name:"fieldValues"},{alias:null,args:ec,concreteType:null,kind:"LinkedField",name:"fieldValueByName",plural:!1,selections:[ey,eg,eh],storageKey:'fieldValueByName(name:"Status")'},ek],storageKey:null}],storageKey:null}]},params:{id:"8b296fae9f2499af49f72d6df68d6b5c",metadata:{},name:"updateProjectItemFieldValueMutation",operationKind:"mutation",text:null}});function e5({environment:e,input:l,onError:a,onCompleted:n}){return(0,e$.commitMutation)(e,{mutation:e8,variables:{input:l},optimisticUpdater:e=>(function(e,l){let a=`${e$.ConnectionHandler.getConnectionID(l.itemId,"ProjectItemSection_fieldValues")}(orderBy:{"direction":"ASC","field":"POSITION"})`,n=e.get(a);if(!n)return;let t=(n.getLinkedRecords("edges")?.map(e=>e.getLinkedRecord("node"))||[]).find(e=>{if(!e)return!1;let a=e.getLinkedRecord("field");return!!a&&a.getDataID()===l.fieldId});if(t)switch(t.getType()){case"ProjectV2ItemFieldTextValue":t.setValue(l.value.text,"text");break;case"ProjectV2ItemFieldNumberValue":t.setValue(l.value.number,"number");break;case"ProjectV2ItemFieldDateValue":t.setValue(l.value.date,"date");break;case"ProjectV2ItemFieldSingleSelectValue":{if(!l.value.singleSelectOptionId)return;let a=e.get(l.value.singleSelectOptionId);if(!a)return;for(let e of(t.setValue(l.value.singleSelectOptionId,"optionId"),["color","name","nameHTML"]))t.setValue(a.getValue(e),e);break}case"ProjectV2ItemFieldIterationValue":{if(!l.value.iterationId)return;let a=e.get(l.value.iterationId);if(!a)return;for(let e of(t.setValue(l.value.iterationId,"iterationId"),["duration","startDate","title","titleHTML"]))t.setValue(a.getValue(e),e)}}})(e,l),onError:e=>a&&a(e),onCompleted:e=>n&&n(e)})}e8.hash="de3a39d4584b64ead2a58f140d26d900";var e9=a(98668),le=a(62561),ll=a(7624),la=a(26108),ln=a(74939);let lt="ProjectsSections-module__FieldListLi__lbnxiUh",li="ProjectsSections-module__FieldListUl__IAy91r7",ls="ProjectsSections-module__ListFieldWrapperText__CpIFUqE",lr="ProjectsSections-module__FieldBasisAuto___5E5ZYJ";function lo({children:e,isStatusField:l,name:a}){return(0,eP.jsx)(eP.Fragment,{children:l?(0,eP.jsx)("div",{className:"FieldWrapper-module__fieldContentContainer__vZQnr3q",children:e}):(0,eP.jsxs)(eP.Fragment,{children:[(0,eP.jsx)("span",{className:ln.A.issueFieldLabel,children:a}),(0,eP.jsx)(eP.Fragment,{children:e})]})})}function lu({children:e,onClick:l,anchorProps:a,readOnly:n,isStatusField:t=!1,isEditing:i=!1,placeholder:s,name:r,ref:o}){let u=t?"FieldWrapper-module__metadataFieldButton__kE6Zm7S":(0,e1.$)("ProjectsSections-module__projectFieldMetadataContainer__DkQNfS4",ln.A.issueFieldFormWrapper,!n&&ln.A.issueFieldFormWrapperClickable,i&&ln.A.isEditing);return n?(0,eP.jsx)("div",{className:u,children:(0,eP.jsx)(lo,{isStatusField:t,name:r,children:e})}):(0,eP.jsx)("button",{ref:o,type:"button","aria-label":s,onClick:n?le.l:l,className:u,...a,children:(0,eP.jsx)(lo,{isStatusField:t,name:r,children:e})})}function ld({ref:e,name:l,placeholder:a,value:n,input:t,anchorProps:i,showInput:s,setShowInput:r,canUpdate:o=!0,isStatusField:u=!1,onCommit:d=le.l,validationMessage:c,preventSubmit:m,isClean:g,setIsClean:p,shouldRestoreRowFocus:y=!1,setShouldRestoreRowFocus:k}){let f=(0,eB.useRef)(null),h=(0,eB.useId)(),b=(0,eB.useRef)(null),F=(0,eB.useCallback)(e=>{!i&&o?r(!0):i?.onClick&&i.onClick(e)},[i,o,r]),I=(0,eB.useCallback)(e=>{!e.currentTarget.contains(e.relatedTarget)&&g&&r(!1)},[g,r]);return(0,eB.useLayoutEffect)(()=>{!s&&y&&(b.current?.focus(),k?.(!1))},[k,y,s]),(0,eP.jsx)("span",{ref:e||f,className:(0,e1.$)(u&&"ProjectsSections-module__ListFieldWrapper__enG4O3l"),children:s&&o?(0,eP.jsx)("div",{onBlur:I,children:(0,eP.jsxs)(ll.A,{className:(0,e1.$)(ln.A.issueFieldFormWrapper,ln.A.issueFieldFormWrapperClickable,ln.A.isEditing),children:[(0,eP.jsx)(ll.A.Label,{id:h,className:"ProjectsSections-module__FieldWrapperLabel__zcL3joz",children:(0,eP.jsx)("span",{className:u?(0,e1.$)(ls,lr):(0,e1.$)(ln.A.issueFieldLabel),children:l})}),t,(0,eP.jsx)(la.K,{"aria-label":eH.k.textEditorUpdateButton,size:"small",icon:eR.CheckIcon,onClick:m?void 0:()=>{d(),r(!1),p?.(!0),k?.(!0)},inactive:m,"aria-disabled":m,className:ln.A.issueFieldActionButton}),c&&(0,eP.jsx)(ll.A.Validation,{variant:"error",className:"FieldWrapper-module__fieldItemError__bwWVXlK",children:c})]})}):(0,eP.jsxs)(eP.Fragment,{children:[u?(0,eP.jsx)("p",{className:u?(0,e1.$)(ls,lr):(0,e1.$)(ln.A.issueFieldLabel),children:l}):null,(0,eP.jsx)(lu,{ref:b,isStatusField:u,anchorProps:{...i,"aria-describedby":h},onClick:F,readOnly:!o,name:l,isEditing:s,children:(0,eP.jsx)("span",{className:n?u?"FieldWrapper-module__fieldValueText__iJ0IVDR":(0,e1.$)(ln.A.issueFieldValueText,ln.A.hasValue):u?"FieldWrapper-module__fieldPlaceholderText__l7ttBW3":ln.A.issueFieldValueText,children:n||a})})]})})}function lc({viewerCanUpdate:e,itemId:l,projectId:a,field:n,value:t,onIssueUpdate:i}){let s=(0,e$.useRelayEnvironment)(),r=(0,e$.useFragment)(e2,n),o=(0,e$.useFragment)(e4,t),u=r.id,d=r.name,c=o?new Date(o.date):null,m=c?(0,e9.b)(c):"No date",[g,p]=(0,eB.useState)(c),[y,k]=(0,eB.useState)(!1),f=(0,eB.useCallback)(e=>{p(e),e?e5({environment:s,input:{fieldId:u,itemId:l,projectId:a,value:{date:new Date(e.getTime()-6e4*e.getTimezoneOffset()).toISOString().slice(0,10)}},onCompleted:i}):e7({environment:s,input:{fieldId:u,itemId:l,projectId:a},onCompleted:i})},[s,u,l,i,a]),h=(0,eB.useCallback)(e=>(0,eP.jsx)(ld,{showInput:y,setShowInput:k,anchorProps:e,placeholder:eH.k.emptySections.datePlaceholder,value:m||eH.k.emptySections.noValue(d),name:d}),[m,d,y]);return e?(0,eP.jsx)(e6.DatePicker,{variant:"single",showClearButton:!0,value:g,onChange:f,anchor:h}):(0,eP.jsx)(ld,{showInput:y,setShowInput:k,placeholder:eH.k.emptySections.noValue(d),canUpdate:!1,name:d,value:m})}lo.displayName="ProjectFieldDisplayContent",lu.displayName="ProjectFieldDisplay",ld.displayName="FieldWrapper",lc.displayName="DateField";let lm={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IterationFieldFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"iterationId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"titleHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"startDate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"IterationFieldConfigFragment"}],storageKey:null}],type:"ProjectV2ItemFieldIterationValue",abstractKey:null};lm.hash="57212d5c33092763cd6c9ea8afef0615";let lg=(ev=[{kind:"InlineDataFragmentSpread",name:"IterationFieldIterationFragment",selections:[eC={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"titleHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"startDate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null}],args:null,argumentDefinitions:[]}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IterationFieldConfigFragment",selections:[eC,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"ProjectV2IterationFieldConfiguration",kind:"LinkedField",name:"configuration",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2IterationFieldIteration",kind:"LinkedField",name:"iterations",plural:!0,selections:ev,storageKey:null},{alias:null,args:null,concreteType:"ProjectV2IterationFieldIteration",kind:"LinkedField",name:"completedIterations",plural:!0,selections:ev,storageKey:null}],storageKey:null}],type:"ProjectV2IterationField",abstractKey:null});lg.hash="1820eb43fb63bb62abf4c8f24979732c";let lp={kind:"InlineDataFragment",name:"IterationFieldIterationFragment"};lp.hash="28591c2749a30e9b111acd7e77a057f9";var ly=a(35973),lk=a(54279),lf=a(84929);function lh({startDate:e,durationInDays:l,titleHTML:a}){var n,t;let i=new Date,s=(0,lf.H)(e),r=(n=s,t=l,new Date(n.getTime()+(t-1)*864e5)),o=s<=i&&i<=r,u=e=>e.toLocaleDateString("en-US",{month:"short",day:"numeric"});return(0,eP.jsxs)("div",{className:"IterationItem-module__IterationItemContainer__HomSy6B",children:[(0,eP.jsx)("div",{className:"IterationItem-module__iterationTitleContainer__nltg5h3",children:(0,eP.jsx)(lk.JR,{html:a})}),(0,eP.jsx)(eP.Fragment,{children:"\u2022 "}),(0,eP.jsxs)("span",{className:"IterationItem-module__iterationDateRange__Q1ATYwm",children:[`${u(s)} - ${u(r)}`," ",o&&(0,eP.jsx)(eP.Fragment,{children:"\u2022 "})]}),o&&(0,eP.jsx)("span",{className:"IterationItem-module__currentIndicator__YvrTLpP",children:"Current"})]})}lh.displayName="IterationItem";let lb={groupId:"completed",header:{title:"Completed",variant:"filled"}},lF={groupId:"active",header:{title:"Active",variant:"filled"}};function lI({viewerCanUpdate:e,itemId:l,projectId:a,field:n,value:t,onIssueUpdate:i}){let[s,r]=(0,eB.useState)(!1),o=(0,e$.useRelayEnvironment)(),u=(0,e$.useFragment)(lg,n),d=(0,e$.useFragment)(lm,t),c=u.id,m=u.name,[g,p]=(0,eB.useState)(""),y=(0,eB.useCallback)(e=>{1===e.length?e5({environment:o,input:{fieldId:c,itemId:l,projectId:a,value:{iterationId:e[0].id}},onCompleted:i}):0===e.length&&e7({environment:o,input:{fieldId:c,itemId:l,projectId:a},onCompleted:i}),r(!1)},[o,c,l,a,i]),k=(0,eB.useCallback)(e=>{p(e)},[]),f=(0,eB.useMemo)(()=>{let e=(u.configuration?.iterations||[]).concat(u.configuration?.completedIterations||[]).map(e=>(0,e$.readInlineData)(lp,e));return g?e.filter(e=>e.title.toLowerCase().indexOf(g.toLowerCase())>=0):e},[u.configuration?.completedIterations,u.configuration?.iterations,g]),h=(0,eB.useMemo)(()=>new Set((u.configuration?.completedIterations||[]).map(e=>(0,e$.readInlineData)(lp,e).id)),[u.configuration?.completedIterations]),b=(0,eB.useMemo)(()=>{let e=u.configuration?.iterations||[],l=u.configuration?.completedIterations||[];return e.concat(l).map(e=>(0,e$.readInlineData)(lp,e)).filter(e=>e.id===d?.iterationId)},[u.configuration?.completedIterations,u.configuration?.iterations,d?.iterationId]),F=(0,eB.useCallback)(e=>({id:e.id,children:(0,eP.jsx)(lh,{startDate:e.startDate,durationInDays:e.duration,titleHTML:e.titleHTML}),source:e,groupId:h.has(e.id)?lb.groupId:lF.groupId}),[h]),I=(0,eB.useCallback)(e=>(0,eP.jsx)(ld,{showInput:s,setShowInput:r,anchorProps:e,placeholder:eH.k.emptySections.iterationPlaceholder,value:d?(0,eP.jsx)(lh,{startDate:d.startDate,durationInDays:d.duration,titleHTML:d.titleHTML}):null,name:m}),[m,s,d]),S=(0,eB.useMemo)(()=>h.size>0?[lF,lb]:[lF],[h.size]);return e?(0,eP.jsx)(ly.O,{items:f,groups:S,initialSelectedItems:b,filterItems:k,getItemKey:e=>e.id,convertToItemProps:F,placeholderText:eH.k.emptySections.iterationFilterPlaceholder,selectionVariant:"single",onSelectionChange:y,renderAnchor:I,height:"large"}):(0,eP.jsx)(ld,{showInput:s,setShowInput:r,value:d?(0,eP.jsx)(lh,{startDate:d.startDate,durationInDays:d.duration,titleHTML:d.titleHTML}):null,placeholder:eH.k.emptySections.noValue(m),canUpdate:!1,name:m})}lI.displayName="IterationField";let lS={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"NumberFieldFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"number",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"NumberFieldConfigFragment"}],storageKey:null}],type:"ProjectV2ItemFieldNumberValue",abstractKey:null};lS.hash="ac86c256f18719392417c8d6f6be4c01";let l_={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"NumberFieldConfigFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],type:"ProjectV2Field",abstractKey:null};l_.hash="aa7c72083a9ec843850d1089ba1ddda3";var lx=a(86085),lC=a(38750),lv=a(72238);function lj({viewerCanUpdate:e,itemId:l,projectId:a,field:n,value:t,onIssueUpdate:i}){let[s,r]=(0,eB.useState)(!1),o=(0,eB.useRef)(null),[u,d]=(0,eB.useState)(!0),c=(0,e$.useRelayEnvironment)(),m=(0,e$.useFragment)(l_,n),g=(0,e$.useFragment)(lS,t),p=m.id,y=m.name,k=g?.number?.toString()??"",[f,h]=(0,eB.useState)(k),[b,F]=(0,eB.useState)(void 0),[I,S]=(0,eB.useState)(!1),_=(0,eB.useCallback)(()=>{b?(h(k),F(void 0)):e5({environment:c,input:{fieldId:p,itemId:l,projectId:a,value:{number:""===f?null:(0,lx.$J)(f)}},onCompleted:i})},[f,c,p,b,l,i,k,a]),x=(0,eB.useCallback)(e=>{let l=e.target.value;F((0,lx.Ge)(l)),h(l),l===k?d(!0):d(!1)},[k]),C=(0,eB.useCallback)(()=>{_(),r(!1),d(!0),S(!0)},[_]),v=(0,eB.useCallback)(()=>{o.current&&(h(k),o.current.blur(),r(!1),d(!0),S(!0))},[k]),j=(0,eB.useCallback)(e=>{"Enter"===e.key&&(e.preventDefault(),C()),"Escape"===e.key&&(e.stopPropagation(),v())},[v,C]),T=(0,eB.useMemo)(()=>!!b,[b]);return e?(0,eP.jsx)(ld,{showInput:s,setShowInput:r,value:f,name:y,placeholder:eH.k.emptySections.numberPlaceholder,onCommit:_,validationMessage:b,preventSubmit:T,isClean:u,setIsClean:d,shouldRestoreRowFocus:I,setShouldRestoreRowFocus:S,input:(0,eP.jsx)(lC.A,{"data-testid":"number-field-input",placeholder:eH.k.emptySections.numberPlaceholder,ref:o,size:"small",onChange:x,onKeyDown:j,value:f,className:lv.A.issueFieldTextInput,onFocus:e=>e.target.setSelectionRange(e.target.value.length,e.target.value.length),inputMode:"numeric",autoFocus:!0})}):(0,eP.jsx)(ld,{showInput:s,setShowInput:r,placeholder:eH.k.emptySections.noValue(y),canUpdate:!1,value:f,name:y})}lj.displayName="NumberField";let lT={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SingleSelectFieldFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"optionId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null}],type:"ProjectV2ItemFieldSingleSelectValue",abstractKey:null};lT.hash="46251798d3a30836a6711ecaa3cc54e8";let lK={kind:"InlineDataFragment",name:"SingleSelectFieldOptionFragment"};lK.hash="be640a30fa15271b4fa34e75d3ddb9b1";let lL={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SingleSelectFieldConfigFragment",selections:[ej={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},eT={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"ProjectV2SingleSelectFieldOption",kind:"LinkedField",name:"options",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"SingleSelectFieldOptionFragment",selections:[ej,{alias:null,args:null,kind:"ScalarField",name:"optionId",storageKey:null},eT,{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},eK={alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"descriptionHTML",storageKey:null}],args:null,argumentDefinitions:[]},ej,eT,{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},eK],storageKey:null}],type:"ProjectV2SingleSelectField",abstractKey:null};lL.hash="7609e6b1ac2a8d003401b9f85fcd3e61";var lN=a(63432);let lP={overflow:"hidden",cursor:"inherit","> span":{overflow:"hidden",textOverflow:"ellipsis"}},lE={overflow:"hidden",textOverflow:"ellipsis",display:"inline-flex",cursor:"inherit","> span":{verticalAlign:"text-top"}};var lw=a(37151);let lA=({inputName:e,inputColor:l})=>{let a=(0,lw.Wk)(l);return(0,eP.jsx)(lN.ou,{sx:{bg:a.bg,color:a.fg,borderColor:a.border,":hover":{bg:a.bg,color:a.fg,borderColor:a.border},...lE},size:"medium",text:e,className:"SingleSelectToken-module__Token__chjF3C8"})};lA.displayName="SingleSelectToken";let lV=({inputColor:e})=>{let{bg:l,accent:a}=(0,lw.Wk)(e);return(0,eP.jsx)(lN.az,{sx:{bg:l,borderColor:a},className:"SingleSelectToken-module__colorIndicator__Xi4KECH"})};function lD({viewerCanUpdate:e,itemId:l,projectId:a,field:n,value:t,onIssueUpdate:i,isStatusField:s}){let[r,o]=(0,eB.useState)(!1),u=(0,e$.useRelayEnvironment)(),d=(0,e$.useFragment)(lL,n),c=(0,e$.useFragment)(lT,t),m=d.id,g=d.name,[p,y]=(0,eB.useState)(""),k=(0,eB.useCallback)(e=>{1===e.length?e5({environment:u,input:{fieldId:m,itemId:l,projectId:a,value:{singleSelectOptionId:e[0].optionId}},onCompleted:i}):0===e.length&&e7({environment:u,input:{fieldId:m,itemId:l,projectId:a},onCompleted:i}),o(!1)},[u,m,l,i,a]),f=(0,eB.useCallback)(e=>{y(e)},[]),h=(0,eB.useMemo)(()=>{let e=(d.options||[]).map(e=>(0,e$.readInlineData)(lK,e));return p?e.filter(e=>e.name.toLowerCase().indexOf(p.toLowerCase())>=0):e},[d.options,p]),b=(0,eB.useMemo)(()=>(d.options||[]).map(e=>(0,e$.readInlineData)(lK,e)).filter(e=>e.optionId===c?.optionId),[d.options,c?.optionId]),F=(0,eB.useCallback)(e=>({id:e.optionId,children:(0,eP.jsxs)("div",{className:"SingleSelectField-module__optionContent__VGIIp4X",children:[(0,eP.jsx)(lk.JR,{html:e.nameHTML}),(0,eP.jsx)(lk.JR,{html:e.descriptionHTML,className:"SingleSelectField-module__VerifiedHTMLText__GF6JMuw"})]}),source:e,leadingVisual:()=>(0,eP.jsx)(lV,{inputColor:e.color})}),[]),I=(0,eB.useCallback)(e=>(0,eP.jsx)(ld,{showInput:r,setShowInput:o,name:g,isStatusField:s,placeholder:s?(0,eP.jsxs)("div",{className:"SingleSelectField-module__statusPlaceholder__WyjOb2M",children:[eH.k.emptySections.status,(0,eP.jsx)(eR.TriangleDownIcon,{})]}):(0,eP.jsx)(eP.Fragment,{children:eH.k.emptySections.singleSelectFilterPlaceholder}),value:c?.name&&c?.color?(0,eP.jsxs)("div",{className:"SingleSelectField-module__selectedValueContainer__yHi9vqS",children:[(0,eP.jsx)(lA,{inputName:c.name,inputColor:c.color}),s&&(0,eP.jsx)(eR.TriangleDownIcon,{})]}):null,anchorProps:e}),[g,s,r,c?.color,c?.name]);if(!e)return(0,eP.jsx)(ld,{showInput:r,setShowInput:o,canUpdate:!1,name:g,placeholder:eH.k.emptySections.noValue(g),value:c?.name?(0,eP.jsx)(lN.ou,{sx:(c.name,lE),size:"medium",text:c.name}):null,isStatusField:s});return(0,eP.jsx)(ly.O,{items:h,initialSelectedItems:b,filterItems:f,getItemKey:e=>e.optionId,convertToItemProps:F,placeholderText:eH.k.emptySections.singleSelectFilterPlaceholder,selectionVariant:"single",onSelectionChange:k,renderAnchor:I,height:"large"})}lV.displayName="SingleSelectLeadingVisual",lD.displayName="SingleSelectField";let lR={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TextFieldFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"TextFieldConfigFragment"}],storageKey:null}],type:"ProjectV2ItemFieldTextValue",abstractKey:null};lR.hash="69f479d8a39d90ca27cb126efa7b738b";let lM={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TextFieldConfigFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],type:"ProjectV2Field",abstractKey:null};lM.hash="7fbd4e4b2889e3438c0acaa4655bcc8d";var lO=a(95066),lB=a(45596),l$=a(65820),lU=a(82012);function lH({viewerCanUpdate:e,itemId:l,projectId:a,field:n,value:t,onIssueUpdate:i}){let s=(0,e$.useRelayEnvironment)(),r=(0,eB.useRef)(null),o=(0,e$.useFragment)(lM,n),u=(0,e$.useFragment)(lR,t),d=o.id,c=o.name,[m,g]=(0,eB.useState)(!1),p=u?.text??"",[y,k]=(0,eB.useState)(p),[f,h]=(0,eB.useState)(!0),[b,F]=(0,eB.useState)(!1),I=(0,eB.useCallback)(()=>{e5({environment:s,input:{fieldId:d,itemId:l,projectId:a,value:{text:y}},onCompleted:i})},[s,d,l,a,y,i]),S=(0,eB.useCallback)(e=>{let l=e.target.value;k(l),l===p?h(!0):h(!1)},[p]),_=(0,eB.useCallback)(()=>{I(),g(!1),h(!0),F(!0)},[I]),x=(0,eB.useCallback)(()=>{r.current&&(k(u?.text??""),r.current.blur(),g(!1),h(!0),F(!0))},[u?.text]),C=(0,eB.useCallback)(e=>{"Enter"===e.key&&(e.preventDefault(),_()),"Escape"===e.key&&(e.stopPropagation(),x())},[_,x]),[v,j]=(0,eB.useState)(!1),T=(0,eB.useRef)(null),K=(0,eB.useCallback)(e=>()=>lO.cg?.open((0,lU.ml)(e),"_blank","noreferrer"),[]),L=(0,eB.useCallback)(()=>g(!0),[g]),N=(0,eB.useCallback)(()=>j(!0),[j]),P=(0,eB.useCallback)(e=>{"Enter"===e.key&&(e.preventDefault(),N())},[N]),E=(0,eB.useCallback)(l=>e&&l.preventDefault(),[e]),w=(0,eB.useMemo)(()=>y.split(/(\s+)/),[y]),[A,V,D]=(0,eB.useMemo)(()=>{let e=[],l=!1;return[w.map((a,n)=>{let t=(0,lU.o2)(a),i=(0,lU.ml)(t);return(0,lU.Y9)(i)&&(0,lU.cE)(i)?(l=!0,e.push(a),(0,eP.jsx)(eX.A,{tabIndex:0,href:(0,lU.ml)(a),onKeyDown:P,onClick:E,target:"_blank",children:a},`text-field-link-${n}`)):a}),l,e]},[w,E,P]),R=V?{onClick:N}:void 0,M=(0,eP.jsx)(lB.W,{open:v,onOpenChange:e=>j(e),anchorRef:T,children:(0,eP.jsx)(lB.W.Overlay,{width:"small",children:(0,eP.jsx)(eM.l,{children:(0,eP.jsxs)(eM.l.Group,{children:[D?.map((e,l)=>(0,eP.jsxs)(eM.l.Item,{onSelect:K(e),role:"button",children:[(0,eP.jsx)(eM.l.LeadingVisual,{children:(0,eP.jsx)(eR.LinkIcon,{})}),e]},l)),e&&(0,eP.jsxs)(eM.l.Item,{onSelect:L,role:"button",children:[(0,eP.jsx)(eM.l.LeadingVisual,{children:(0,eP.jsx)(eR.PencilIcon,{})}),"Edit"]})]})})})});return e?(0,eP.jsxs)(eP.Fragment,{children:[(0,eP.jsx)(ld,{ref:T,value:y?A:void 0,anchorProps:R,name:c,placeholder:"Enter text\u2026",showInput:m,setShowInput:g,onCommit:I,isClean:f,setIsClean:h,shouldRestoreRowFocus:b,setShouldRestoreRowFocus:F,input:(0,eP.jsx)(l$.Ay,{"data-testid":"text-field-input",placeholder:"Enter text\u2026",ref:r,resize:"none",onChange:S,onKeyDown:C,value:y,className:(0,e1.$)(lv.A.issueFieldTextInput,lv.A.issueFieldTextTextarea),onFocus:e=>e.target.setSelectionRange(e.target.value.length,e.target.value.length),autoFocus:!0})}),M]}):(0,eP.jsx)(ld,{showInput:m,setShowInput:g,placeholder:`No ${c}`,canUpdate:!1,value:y?A:void 0,name:c})}function lq({projectItem:e,onIssueUpdate:l}){let a=(0,e$.useFragment)(eJ,e),{fieldValues:n}=(0,e$.useFragment)(e0,a),t=(0,eB.useMemo)(()=>(a?.project.fields?.edges||[]).map(e=>{if(!e?.node||e.node.isIssueField||"Status"===e.node.name)return;let t=e.node,i=t.dataType,s=t.id,r=(n?.edges||[]).flatMap(e=>e?.node?[e.node]:[]).find(e=>e?.field?.id===s)||null,o={key:s,viewerCanUpdate:!a.isArchived&&a.project.viewerCanUpdate,itemId:a.id,projectId:a.project.id,field:t,value:r,onIssueUpdate:l};switch(i){case"SINGLE_SELECT":return(0,eB.createElement)(lD,{...o,key:o.key});case"TEXT":return(0,eB.createElement)(lH,{...o,key:o.key});case"DATE":return(0,eB.createElement)(lc,{...o,key:o.key});case"NUMBER":return(0,eB.createElement)(lj,{...o,key:o.key});case"ITERATION":return(0,eB.createElement)(lI,{...o,key:o.key})}}).filter(e=>void 0!==e),[a.project.fields?.edges,a.project.viewerCanUpdate,a.project.id,a.isArchived,a.id,n?.edges,l]);return 0===t.length?(0,eP.jsx)(eP.Fragment,{children:" "}):(0,eP.jsx)("ul",{className:(0,e1.$)(li,"ProjectsSections-module__FieldListInternal__xhq9oB_"),children:t.map((e,l)=>(0,eP.jsx)("li",{className:lt,children:e},`project-field-${l}`))})}lH.displayName="TextField",lq.displayName="ProjectItemSectionFields";var lG=a(51639);function lW(){return(0,eP.jsx)("ul",{className:li,children:(0,eP.jsxs)("li",{className:(0,e1.$)(lt,"ProjectsSections-module__loading__xWPB2gP"),children:[(0,eP.jsx)(lz,{}),(0,eP.jsx)(lz,{}),(0,eP.jsx)(lz,{})]})})}function lz(){return(0,eP.jsxs)("span",{style:{display:"flex",flexDirection:"row",alignItems:"center",gap:8,width:"100%",marginTop:2},children:[(0,eP.jsx)(lG.Q,{height:"md",width:"40%"}),(0,eP.jsx)(lG.Q,{height:"md",width:"60%"})]})}function lQ(e){return(0,eP.jsx)(eB.Suspense,{fallback:(0,eP.jsx)(lW,{}),children:(0,eP.jsx)(lY,{...e})})}function lY({isArchived:e,projectItemId:l,projectId:a,onIssueUpdate:n}){let t=(0,e$.useRelayEnvironment)(),{addToast:i}=(0,eD.Y6)(),{node:s}=(0,e$.useLazyLoadQuery)(eY,{id:l}),r=(0,eB.useCallback)(()=>{!function({environment:e,input:l,onError:a,onCompleted:n}){(0,e$.commitMutation)(e,{mutation:eZ,variables:{input:l},onError:e=>a&&a(e),onCompleted:e=>n&&n(e)})}({environment:t,input:{projectId:a,itemId:l},onCompleted:()=>{i({type:"success",message:eH.k.archivedSuccess})},onError:()=>{i({type:"error",message:eH.k.archivedError})}})},[t,a,l,i]);if(!s||!s.project)return null;let o=e&&s.project.viewerCanUpdate;return(0,eP.jsxs)(eP.Fragment,{children:[o&&(0,eP.jsx)("ul",{className:li,children:(0,eP.jsx)("li",{className:"ProjectsSections-module__ArchivedLi__hBlBCzk",children:(0,eP.jsxs)("span",{className:"ProjectsSections-module__FieldListLiText___LqHPhk",children:[eH.k.archivedDescription,"\xa0",(0,eP.jsx)(eX.A,{onClick:r,className:"ProjectItemSectionFieldList-module__restoreLink__RpT9tuU",children:"Restore"})]})})}),(0,eP.jsx)(lq,{onIssueUpdate:n,projectItem:s})]})}lW.displayName="ProjectItemSectionFieldsLoading",lz.displayName="ProjectFieldLoading",lQ.displayName="ProjectItemSectionFieldList",lY.displayName="ProjectItemSectionFieldListInternal";let lX={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProjectItemSectionView",selections:[eL={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null},{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"project",plural:!1,selections:[eL,{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"template",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerCanUpdate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:eN=[{kind:"Literal",name:"name",value:"Status"}],concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"SingleSelectFieldConfigFragment"}],storageKey:'field(name:"Status")'}],storageKey:null},{alias:null,args:eN,concreteType:null,kind:"LinkedField",name:"fieldValueByName",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"SingleSelectFieldFragment"}],storageKey:'fieldValueByName(name:"Status")'}],type:"ProjectV2Item",abstractKey:null};lX.hash="7d5cd0d9d7271a8e8f19cce6e01dac52";var lZ=a(55222),lJ=a(39775);function l0({projectItem:e,setOpen:l,open:a,onIssueUpdate:n,isProjectOpen:t}){let{id:i,project:s,fieldValueByName:r,isArchived:o}=(0,e$.useFragment)(lX,e);return(0,eP.jsxs)("div",{className:"ProjectItemSectionView-module__ProjectItemSectionViewContainer__ZWsVshp",children:[t?(0,eP.jsxs)("span",{className:"ProjectItemSectionView-module__projectTitleText__iK7FmLb",children:[s.template?(0,eP.jsx)(eR.ProjectTemplateIcon,{className:"fgColor-muted","aria-hidden":"true"}):(0,eP.jsx)(eR.TableIcon,{className:"fgColor-muted","aria-hidden":"true"}),(0,eP.jsx)("span",{className:"ProjectItemSectionView-module__truncatedProjectTitle__iDHmozC",children:s.title})]}):(0,eP.jsx)("div",{className:"ProjectItemSectionView-module__projectLinkContainer__rpjlYHm",children:(0,eP.jsxs)(eX.A,{href:s.url,hoverColor:"accent.fg",tabIndex:0,className:"ProjectItemSectionView-module__projectLink__zHqcBGe",children:[s.template?(0,eP.jsx)(eR.ProjectTemplateIcon,{className:"fgColor-muted","aria-hidden":"true"}):(0,eP.jsx)(eR.TableIcon,{className:"fgColor-muted","aria-hidden":"true"}),(0,eP.jsx)(lJ.A,{title:s.title,"data-testid":lZ.Y.projectTitle,className:"ProjectItemSectionView-module__Truncate__uLkncaA",children:s.title})]})}),(0,eP.jsxs)("div",{className:"ProjectItemSectionView-module__statusFieldContainer__RFwfeNP",children:[s.field&&void 0!==r&&(0,eP.jsx)(lD,{viewerCanUpdate:s.viewerCanUpdate&&!o,itemId:i,projectId:s.id,field:s.field,value:r,onIssueUpdate:n,isStatusField:!0}),(0,eP.jsx)(la.K,{variant:"invisible",onClick:()=>{l(!a)},size:"small",icon:a?eR.ChevronUpIcon:eR.ChevronDownIcon,"aria-label":a?eH.k.hideMoreProjectFields:eH.k.showMoreProjectFields,"aria-expanded":a})]})]})}function l1({projectItem:e,onIssueUpdate:l,isOpen:a=!1}){let[n,t]=(0,eB.useState)(a),i=(0,e$.useFragment)(eQ,e);return(0,eP.jsxs)("div",{className:"ProjectItemSection-module__ProjectItemSectionContainer__t4QfiCA",children:[(0,eP.jsx)(l0,{projectItem:i,open:n,setOpen:t,onIssueUpdate:l,isProjectOpen:a}),n&&(0,eP.jsx)(lQ,{projectItemId:i.id,projectId:i.project.id,isArchived:i.isArchived,onIssueUpdate:l})]})}l0.displayName="ProjectItemSectionView",l1.displayName="ProjectItemSection";let l4=()=>(0,eP.jsx)(eG.h,{title:eH.k.sectionTitles.projects});l4.displayName="ReadonlyProjectsSectionHeader";let l2=({ref:e,...l})=>(0,eP.jsx)(ez.X,{ref:e,id:l.id,title:eH.k.sectionTitles.projects,buttonProps:l});l2.displayName="ProjectsSectionHeader";let l6=({sectionHeader:e,hasItems:l,children:a})=>(0,eP.jsx)(eW.w,{id:"sidebar-projects-section",sectionHeader:e,emptyText:l?void 0:eH.k.emptySections.projects,children:a});l6.displayName="ProjectsSection";let l3=()=>(0,eP.jsx)(eW.w,{id:"projects-section-fallback",sectionHeader:(0,eP.jsx)(eG.h,{title:"Projects are currently unavailable"}),emptyText:"Please try again later"});l3.displayName="ProjectsSectionFallback";let l7=({owner:e,repo:l,projects:a,readonly:n,onSelectionChange:t,...i})=>{let s="create-issue-sidebar-projects-section-heading",r=n?(0,eP.jsx)(l4,{}):(0,eP.jsx)(eA.w,{pickerId:"create-issue-projects-picker",owner:e,repo:l,selectedProjects:a,readonly:n,onSave:t,anchorElement:e=>(0,eP.jsx)(l2,{...e,id:s}),...i});return(0,eP.jsx)(eV.t,{fallback:(0,eP.jsx)(l3,{}),children:(0,eP.jsx)(l6,{sectionHeader:r,hasItems:a.length>0,children:a.length>0&&(0,eP.jsx)(eM.l,{"aria-labelledby":s,variant:"full",className:"ProjectsSection-module__projectActionList__WXWq0bq",children:a.map(e=>(0,eP.jsx)(eM.l.LinkItem,{href:e.url,className:"ProjectsSection-module__ActionList_LinkItem__dfcg0Zn",children:e.title},e.id))})})})};l7.displayName="CreateIssueProjectsSection";let l8=eE;function l5(e){let l=(0,e$.useFragment)(l8,e.issueOrPullRequest);return l.projectItems?(0,eP.jsx)(l9,{projectsSectionData:l,...e}):(0,eP.jsx)(l3,{})}l5.displayName="EditIssueProjectsSection";let l9=({projectsSectionData:e,allowedProjectOwner:l,onIssueUpdate:a,onRemovedFromProject:n,insideSidePanel:t,selectedProjectId:i,readonly:s})=>{let{addToast:r}=(0,eD.Y6)(),o=(e.projectItems?.edges??[]).flatMap(e=>e?.node?e?.node:[]).filter(e=>!0!==e.project.closed),u=(e.projectItems?.edges??[]).flatMap(e=>e?.node?e?.node:[]).filter(e=>!0===e.project.closed),[d,c]=(0,eB.useState)(!1),{viewerCanUpdateMetadata:m,viewerCanUpdate:g,repository:p}=e,y=s||!(m||g)||p?.isArchived,k=e.id||"",f=o.length>0||u.length>0,h=eU.ConnectionHandler.getConnectionID(k,"ProjectSection_projectItems",{allowedOwner:l,allowSameEnterprise:!0}),b=(0,e$.useRelayEnvironment)(),F=(0,eB.useCallback)(e=>{let l=e.filter(e=>!o.some(l=>l.project.id===e.id)),t=o.filter(l=>!e.some(e=>e.id===l.project.id)),s=!1;for(let e of l)(0,ew.Z)({environment:b,connectionId:h,projectId:e.id,issueId:k,onError:()=>s=!0,onCompleted:a});for(let e of t)!function({environment:e,connectionId:l,projectId:a,itemId:n,onError:t,onCompleted:i}){(0,e$.commitMutation)(e,{mutation:eq,variables:{input:{itemId:n,projectId:a},connections:[l]},onError:e=>t&&t(e),onCompleted:e=>i&&i(e)})}({environment:b,connectionId:h,projectId:e.project.id,itemId:e.id,onError:()=>s=!0,onCompleted:()=>{e.project.id===i&&n()}});s&&r({type:"error",message:"Could not update projects"})},[r,h,b,k,a,n,o,i]),I=(0,eB.useMemo)(()=>o.map(e=>e.project),[o]),S=u.length,_=(0,eB.useMemo)(()=>!e.repository||y?(0,eP.jsx)(l4,{}):(0,eP.jsx)(eA.w,{pickerId:`edit-issue-projects-picker-${k}`,repo:e.repository.name,owner:e.repository.owner.login,selectedProjects:I,readonly:y,onSave:F,anchorElement:e=>(0,eP.jsx)(l2,{...e}),insidePortal:t}),[k,e.repository,y,F,I,t]);return e.repository&&e.number?(0,eP.jsx)(l6,{sectionHeader:_,hasItems:f,children:(0,eP.jsxs)("div",{className:"ProjectsSection-module__projectItemsContainer__aqwR5uL",children:[o.map(e=>(0,eP.jsx)(l1,{onIssueUpdate:a,projectItem:e,isOpen:i===e.project.id},e.id)),S>0&&(0,eP.jsxs)(eP.Fragment,{children:[(0,eP.jsx)(eO.Q,{variant:"invisible",trailingVisual:d?eR.ChevronUpIcon:eR.ChevronDownIcon,onClick:()=>c(!d),"aria-label":eH.k.showClosedProjects,className:"ProjectsSection-module__toggleClosedProjectsButton__lc_OCdX",children:`${S} closed project${S>1?"s":""}`}),d&&u.map(e=>(0,eP.jsx)(l1,{onIssueUpdate:a,projectItem:e,isOpen:i===e.project.id},e.id))]})]})}):null};l9.displayName="EditIssueProjectsSectionInternal"},7747(e,l,a){a.d(l,{S7:()=>K,PT:()=>T,Dd:()=>j,pf:()=>v});var n,t,i,s,r=a(74848);let o=(i=[n={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dataType",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TypesSectionTypeFragment",selections:[{alias:null,args:null,concreteType:"IssueType",kind:"LinkedField",name:"issueType",plural:!1,selections:[n,t,{alias:null,args:null,kind:"ScalarField",name:"isEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"pinnedFields",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:i,type:"IssueFieldText",abstractKey:null},{kind:"InlineFragment",selections:i,type:"IssueFieldSingleSelect",abstractKey:null},{kind:"InlineFragment",selections:i,type:"IssueFieldDate",abstractKey:null},{kind:"InlineFragment",selections:i,type:"IssueFieldNumber",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Issue",abstractKey:null});o.hash="5de1a91f4e1d4ecaa3f0a9efbb82f741";let u={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TypesSectionFragment",selections:[{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameWithOwner",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"first",value:100}],concreteType:"IssueTypeConnection",kind:"LinkedField",name:"issueTypes",plural:!1,selections:[{alias:null,args:null,concreteType:"IssueTypeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"IssueType",kind:"LinkedField",name:"node",plural:!1,selections:[s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"issueTypes(first:100)"}],storageKey:null},s,{args:null,kind:"FragmentSpread",name:"TypesSectionTypeFragment"},{alias:null,args:null,kind:"ScalarField",name:"viewerCanType",storageKey:null}],type:"Issue",abstractKey:null};u.hash="ed89df93a2fdaab7d32e7dfddf950293";var d=a(57771),c=a(98106),m=a(67360),g=a(53696),p=a(32343),y=a(96540),k=a(18312),f=a(69645),h=a(37049),b=a(23475),F=a(98475),I=a(35546),S=a(17637);function _({type:e,anchorProps:l,repoNameWithOwner:a}){return(0,r.jsx)(r.Fragment,{children:e?(0,r.jsx)("div",{"data-testid":S.Y.typeContainer,className:"IssueType-module__IssueTypeToken__H0zW5QU",children:(0,r.jsx)(I.n,{name:e.name,color:e.color,href:`/${a}/issues?q=type:"${e.name}"`,getTooltipText:l=>l?e.name:void 0})}):(0,r.jsx)("div",{className:"IssueType-module__hiddenPlaceholder__P91B5Mn",...l})})}_.displayName="IssueType";let x=()=>(0,r.jsx)(h.h,{title:f.k.sectionTitles.types});x.displayName="ReadonlyTypesSectionHeader";let C=({sectionHeader:e,type:l,repoNameWithOwner:a,sx:n})=>(0,r.jsx)(b.w,{id:"sidebar-types-section",sx:n,sectionHeader:e,emptyText:l?void 0:f.k.emptySections.types,children:(0,r.jsx)("div",{className:"TypesSection-module__typeContainer__qpKTxhK",children:(0,r.jsx)(_,{type:l,repoNameWithOwner:a})})});function v({type:e,onSelectionChange:l,viewerCanType:a,sx:n,...t}){let{sendAnalyticsEvent:i}=(0,p.s)(),{repo:s,owner:o}=t;return(0,r.jsx)(C,{sx:n,sectionHeader:a?(0,r.jsx)(m.u,{onSelectionChange:e=>{let a=e?.[0]||null;i("issue_create.update_issue_type","ISSUE_CREATE_UPDATE_ISSUE_TYPE_DIALOG",{issueTypeId:a?.id??""}),l(a)},readonly:a,activeIssueType:e,anchorElement:(e,l)=>(0,r.jsx)(F.X,{title:f.k.sectionTitles.types,buttonProps:e,ref:l}),...t,width:"medium"}):(0,r.jsx)(x,{}),type:e,repoNameWithOwner:`${o}/${s}`})}C.displayName="TypesSection",v.displayName="CreateIssueIssueTypesSection";let j=o,T=u;function K({issue:e,onIssueUpdate:l,insideSidePanel:a,readonly:n}){let t=(0,k.useFragment)(T,e),{repository:{name:i,owner:{login:s},nameWithOwner:o,issueTypes:u},id:h,viewerCanType:b}=t,I=u?.edges?.map(e=>e?.node?.id)||[],{issueType:S}=(0,k.useFragment)(j,t),_=S||null,{sendAnalyticsEvent:v}=(0,p.s)(),{addToast:K}=(0,g.Y6)(),L=(0,k.useRelayEnvironment)(),N=(0,y.useCallback)(e=>{let a=e.length>0?e[0]:null,n=a?.id??null;v("issue_viewer.update_issue_type","ISSUE_VIEWER_UPDATE_ISSUE_TYPE_DIALOG",{initialIssueTypeId:_?.id??"",issueTypeId:n??""});let t=a?{id:a.id,name:a.name,description:a.description,color:a.color,isEnabled:a.isEnabled,pinnedFields:a.pinnedFields}:null;(0,d._)({environment:L,input:{issueId:h,issueTypeId:n},optimisticIssueType:t,onError:()=>K({type:"error",message:c.S.couldNotUpdateType}),onCompleted:l})},[_?.id,K,L,h,l,v]),P=(0,y.useMemo)(()=>{let e=n||!b;return e?(0,r.jsx)(x,{}):(0,r.jsx)(m.u,{owner:s,repo:i,onSelectionChange:N,anchorElement:(e,l)=>(0,r.jsx)(F.X,{title:f.k.sectionTitles.types,buttonProps:e,ref:l}),readonly:e,activeIssueType:_??null,insidePortal:a,width:"medium"})},[n,b,s,i,N,_,a]);return b||0!==I.length?(0,r.jsx)(C,{sectionHeader:P,type:_??null,repoNameWithOwner:o}):null}K.displayName="EditIssueIssueTypeSection"},69645(e,l,a){a.d(l,{k:()=>n});let n={archivedDescription:"Archived in project:",archivedError:"Issue could not be restored in project",archivedSuccess:"Issue restored in project",emptySections:{labels:"No labels",assignees:e=>e?"No one - ":"No one assigned",selfAssign:"Assign yourself",milestones:"No milestone",projects:"No projects",status:"No status",types:"No type",relationships:"None yet",noValue:e=>`No ${e.toLowerCase()}`,iterationPlaceholder:"Choose an iteration",datePlaceholder:"Choose a date",numberPlaceholder:"Enter number\u2026",iterationFilterPlaceholder:"Choose an option",singleSelectFilterPlaceholder:"Choose an option"},sectionTitles:{assignees:"Assignees",labels:"Labels",milestones:"Milestone",projects:"Projects",types:"Type",relationships:"Relationships"},awaitingTriage:"Awaiting triage",defaultProjectFieldName:"Status",moveCardToColumn:"Move card to column",selectProjects:"Select projects",filterProjects:"Filter projects",showClosedProjects:"Show closed projects",showMoreProjectFields:"Show more project fields",hideMoreProjectFields:"Hide project fields",relationNames:{parentIssue:"Parent issue",blockedByIssues:"Blocked by",blockingIssues:"Is blocking"},textEditorUpdateButton:"Update"}},17637(e,l,a){a.d(l,{Y:()=>n});let n={assignees:"issue-assignees",issueLabels:"issue-labels",milestoneContainer:"issue-milestone-container",milestoneProgressIcon:"issue-milestone-progress-bar",typeContainer:"issue-type-container"}},98668(e,l,a){a.d(l,{b:()=>t,o:()=>i});let n={year:"numeric",month:"short",day:"numeric",timeZone:"UTC"};function t(e,l={}){return e.toLocaleDateString("en-us",{...n,...l})}function i(e){if(!e)return null;let l=e.match(/^(?<year>\d{4})-(?<month>\d{2})-(?<day>\d{2})/);if(!l?.groups)return null;let{year:a,month:n,day:t}=l.groups;if(!a||!n||!t)return null;let i=parseInt(a,10),s=parseInt(n,10),r=parseInt(t,10);if(isNaN(i)||isNaN(s)||isNaN(r)||s<1||s>12||r<1||r>31)return null;let o=new Date(Date.UTC(i,s-1,r,12,0,0,0));return isNaN(o.getTime())?null:o}},24779(e,l,a){a.d(l,{IE:()=>u,Y0:()=>o,kO:()=>s,nB:()=>c,uV:()=>r,vl:()=>d,zo:()=>i});var n=a(54714),t=a(98668);function i(e,l){if(e?.field?.id!==l?.field?.id||!e?.field||!l?.field)return!1;let a=e.field;return"TEXT"===a.dataType||"DATE"===a.dataType?e?.value===l?.value:"NUMBER"===a.dataType?e?.numberValue===l?.numberValue:"SINGLE_SELECT"!==a.dataType||e?.name===l?.name}function s(e,l){let a=l.filter(l=>!e.some(e=>e?.field?.id===l?.field?.id));return{addedFields:a,updatedFields:l.filter(l=>e.some(e=>e?.field?.id===l?.field?.id&&!i(e,l))),removedFields:e.filter(e=>!l.some(l=>l?.field?.id===e?.field?.id))}}function r(e){return e&&e.field?o(e.field,null):e}function o(e,l){let a=(0,n.YQ)(e);switch(a.dataType){case"text":return{field:{...a,dataType:"TEXT"},value:l||""};case"single_select":return{field:{...a,dataType:"SINGLE_SELECT"},value:l};case"date":return{field:{...a,dataType:"DATE"},value:l};case"number":return{field:{...a,dataType:"NUMBER"},value:l}}}function u(e,l,a){let t=(0,n.YQ)(e);switch(t.dataType){case"text":return{field:{...t,dataType:"TEXT"},value:l,readonly:a};case"single_select":return{field:{...t,dataType:"SINGLE_SELECT"},value:l,readonly:a};case"date":return{field:{...t,dataType:"DATE"},value:l,readonly:a};case"number":{if(null===l||""===l)return{field:{...t,dataType:"NUMBER"},value:null,readonly:a};let e=Number(l);return{field:{...t,dataType:"NUMBER"},value:isNaN(e)?0:e,readonly:a}}}}function d(e,l){switch(e){case"text":return l;case"single_select":return l&&l.id?String(l.id):void 0;case"date":return m(l)||void 0;case"number":return l?.toString()}}function c(e,l){if("single_select"===e)return l&&l.name?String(l.name):void 0;if("date"===e){let e=m(l),a=e?(0,t.o)(e):null;return a?(0,t.b)(a):void 0}return d(e,l)}function m(e){return e?e.toISOString():null}},82012(e,l,a){a.d(l,{Y9:()=>r,cE:()=>o,ml:()=>i,o2:()=>s});var n=a(99418);let t={FORBID_TAGS:["style"],ALLOW_DATA_ATTR:!1,ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","h7","h8","br","b","i","strong","em","a","pre","code","img","tt","div","span","ins","del","sup","sub","p","ol","ul","table","thead","tbody","tfoot","blockquote","dl","dt","dd","kbd","q","samp","var","hr","ruby","rt","rp","li","tr","td","th","s","strike","summary","details","picture","source"]};function i(e){return(e?.startsWith("www.")?"https://":"")+e}let s=e=>n.default.sanitize(e,t),r=e=>{if(!e||!function(e){try{return new window.URL(e),!0}catch{return!1}}(e))return!1;try{let l=new URL(e,window.location.origin);return["http:","https:"].includes(l.protocol)}catch{return!1}},o=e=>s(e)===e},72937(e,l,a){a.d(l,{I:()=>s,r:()=>i});var n=a(74848),t=a(38621);let i={OPEN:({className:e="",...l})=>(0,n.jsx)(t.IssueOpenedIcon,{"aria-label":"Open",...l,className:`fgColor-open ${e}`}),COMPLETED:({className:e="",...l})=>(0,n.jsx)(t.IssueClosedIcon,{"aria-label":"Completed",...l,className:`fgColor-done ${e}`}),NOT_PLANNED:({className:e="",...l})=>(0,n.jsx)(t.SkipIcon,{"aria-label":"Not planned",...l,className:`fgColor-muted ${e}`}),DUPLICATE:({className:e="",...l})=>(0,n.jsx)(t.SkipIcon,{"aria-label":"Duplicate",...l,className:`fgColor-muted ${e}`})},s={MERGED:({className:e="",...l})=>(0,n.jsx)(t.GitMergeIcon,{"aria-label":"Merged",...l,className:`fgColor-done ${e}`}),IN_MERGE_QUEUE:({className:e="",...l})=>(0,n.jsx)(t.GitMergeQueueIcon,{"aria-label":"In merge queue",...l,className:`fgColor-attention ${e}`}),QUEUED:({className:e="",...l})=>(0,n.jsx)(t.GitMergeQueueIcon,{"aria-label":"Queued",...l,className:`fgColor-attention ${e}`}),OPEN:({className:e="",...l})=>(0,n.jsx)(t.GitPullRequestIcon,{"aria-label":"Open",...l,className:`fgColor-open ${e}`}),CLOSED:({className:e="",...l})=>(0,n.jsx)(t.GitPullRequestClosedIcon,{"aria-label":"Closed",...l,className:`fgColor-closed ${e}`}),DRAFT:({className:e="",...l})=>(0,n.jsx)(t.GitPullRequestDraftIcon,{"aria-label":"Draft",...l,className:`fgColor-draft ${e}`})}},38048(e,l,a){a.d(l,{DD:()=>n,DJ:()=>t,Pu:()=>s,d6:()=>i});let n={COMPLETED:"COMPLETED",NOT_PLANNED:"NOT_PLANNED",DUPLICATE:"DUPLICATE",REOPENED:"REOPENED"},t={OPEN:"OPEN",CLOSED:"CLOSED"},i={COMPLETED:"completed",NOT_PLANNED:"not planned",DUPLICATE:"duplicate",REOPENED:"reopened"},s={COMPLETED:"is:issue state:closed archived:false reason:completed",NOT_PLANNED:"is:issue state:closed archived:false reason:not-planned",DUPLICATE:"is:issue state:closed archived:false reason:duplicate",REOPENED:""}},37835(e,l,a){a.d(l,{e:()=>r});var n=a(96540),t=a(38048),i=a(38621),s=a(72937);function r({state:e,stateReason:l,options:a}){let r=(0,n.useMemo)(()=>{switch(`${e}${a?.longText?" long":""}`){case"OPEN":case"OPEN long":return"Open";case"CLOSED long":let n="Closed";return"NOT_PLANNED"===l?`${n} as not planned`:"DUPLICATE"===l?`${n} as duplicate`:n;case"CLOSED":return"NOT_PLANNED"===l?"Not planned":"DUPLICATE"===l?"Duplicate":"Closed";default:return""}},[e,a?.longText,l]),o=(0,n.useMemo)(()=>{switch(e){case"OPEN":return"issueOpened";case"CLOSED":return"NOT_PLANNED"===l||"DUPLICATE"===l?"issueClosedNotPlanned":"issueClosed";default:return"issueClosed"}},[e,l]),u=(0,n.useCallback)(()=>{let e={stateChangeQuery:"",stateReasonString:""};if(l){if(l in t.Pu)e.stateChangeQuery=t.Pu[l];else throw Error(`Invalid state change: ${l}`);if(l in t.d6)e.stateReasonString=t.d6[l];else throw Error(`Invalid state change: ${l}`)}return e},[l]),d=(0,n.useMemo)(()=>l===t.DD.NOT_PLANNED||l===t.DD.DUPLICATE?"var(--fgColor-muted)":"var(--fgColor-done)",[l]);return{stateString:r,stateStatus:o,getStateQuery:u,issueStateColor:d,issueStateTimelineIcon:(0,n.useMemo)(()=>l===t.DD.NOT_PLANNED||l===t.DD.DUPLICATE?i.CircleSlashIcon:i.CheckCircleIcon,[l]),sourceIcon:(0,n.useCallback)((a,n,t)=>"Issue"===a?null==l||"REOPENED"===l?s.r.OPEN:l in s.r?s.r[l]:i.SkipIcon:n&&"OPEN"===e?s.I.DRAFT:t?s.I.IN_MERGE_QUEUE:null==e?s.I.OPEN:e in s.I?s.I[e]:i.SkipIcon,[e,l])}}},35546(e,l,a){a.d(l,{n:()=>d});var n=a(74848),t=a(16522),i=a(83223),s=a(63432),r=a(96540),o=a(44640),u=a(34164);let d=e=>{let l,a,d,m,g,p,y,k,f,h=(0,t.c)(23),{name:b,color:F,href:I,getTooltipText:S,size:_,sx:x,className:C}=e,v=(0,r.useRef)(null),[j,T]=(0,r.useState)(!1);h[0]===Symbol.for("react.memo_cache_sentinel")?(l=()=>T(c(v.current)),a=[T,v],h[0]=l,h[1]=a):(l=h[0],a=h[1]),(0,r.useEffect)(l,a),h[2]!==C?(d=(0,u.$)("IssueTypeToken-module__token__gXefpXZ",C),h[2]=C,h[3]=d):d=h[3],h[4]!==b?(m=(0,n.jsx)("span",{className:"IssueTypeToken-module__tokenText__Q_8tIKl",children:b}),h[4]=b,h[5]=m):m=h[5],h[6]!==F||h[7]!==x||h[8]!==d||h[9]!==m?(g=(0,n.jsx)(s.ou,{className:d,"data-color":F,ref:v,sx:x,text:m}),h[6]=F,h[7]=x,h[8]=d,h[9]=m,h[10]=g):g=h[10],h[11]!==I||h[12]!==g?(p=(0,n.jsx)(i.A,{href:I,children:g}),h[11]=I,h[12]=g,h[13]=p):p=h[13];let K=p;h[14]!==S||h[15]!==j?(y=S(j),h[14]=S,h[15]=j,h[16]=y):y=h[16];let L=y;return h[17]!==K||h[18]!==L?(k=L?(0,n.jsx)(o.m,{text:L,children:K}):K,h[17]=K,h[18]=L,h[19]=k):k=h[19],h[20]!==_||h[21]!==k?(f=(0,n.jsx)("div",{className:"IssueTypeToken-module__issueTypeTokenContainer__V3rt0pV","data-size":_,children:k}),h[20]=_,h[21]=k,h[22]=f):f=h[22],f};d.displayName="IssueTypeToken";let c=e=>!!e&&!!e.firstElementChild&&e.firstElementChild.scrollWidth>e.firstElementChild.clientWidth},51639(e,l,a){a.d(l,{Q:()=>o});var n=a(74848),t=a(5024),i=a(96540);let s={sm:16,md:20,lg:24,xl:32},r={rounded:"3px",pill:"100px",elliptical:"50%"},o=({height:e,width:l,borderRadius:a="rounded"})=>{let[o,u]=(0,i.useState)("100%");(0,i.useEffect)(()=>{"random"===l&&u(`${Math.floor(40*Math.random()+40)}%`)},[l]);let d="string"==typeof e&&e in s?`${s[e]}px`:e,c="random"===l?o:"string"==typeof l&&l in s?`${s[l]}px`:l,m="string"==typeof a&&a in r?r[a]:a;return(0,n.jsx)(t.f,{"data-testid":"issues-loading-skeleton",className:"IssuesLoadingSkeleton-module__container__YaWxpGF",style:{width:c,height:d,borderRadius:m}})};o.displayName="IssuesLoadingSkeleton"},731(e,l,a){function n(e){let l=document.getElementById("issues-repo-tab-count");if(null===l)return!1;let a=Number(l.title.replace(/\D/g,"")),n=Math.max(a+e,0);return 0===a&&n>0?l.removeAttribute("hidden"):0===n&&l.setAttribute("hidden","true"),l.title=n.toLocaleString(),/^\d*$/.test(l.textContent||"")&&n<=999&&(l.textContent=n.toString()),!0}function t(){n(1)}function i(){n(-1)}a.d(l,{T:()=>i,f:()=>t})},47856(e,l,a){a.d(l,{I:()=>s,_:()=>r});var n=a(74848),t=a(19666),i=a(1744);function s(e){let l=(0,i.u)();return(0,n.jsx)(t.Ir,{...e,viewer:l})}function r(e){let l=(0,i.u)();return(0,n.jsx)(t._g,{...e,viewer:l})}s.displayName="AssigneePicker",r.displayName="AssigneeRepositoryPicker"},1744(e,l,a){a.d(l,{u:()=>d});let n={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useViewerSafeViewerSharedQuery",selections:t=[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"safeViewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profileResourcePath",storageKey:null},{alias:null,args:[{kind:"Literal",name:"size",value:64}],kind:"ScalarField",name:"avatarUrl",storageKey:"avatarUrl(size:64)"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useViewerSafeViewerSharedQuery",selections:t},params:{id:"e04bcb743a2af95309967488bc0303c0",metadata:{},name:"useViewerSafeViewerSharedQuery",operationKind:"query",text:null}};n.hash="ec14349f609753fe2f861f8c75dc87f5";var t,i=a(62741),s=a(74359),r=a(46951),o=a(96540),u=a(18312);function d(){let e=(0,u.useRelayEnvironment)(),{currentUser:l}=(0,r.J)(),[a,t]=(0,o.useState)(l);return s.X3||a||(0,i.SD)({environment:e,query:n,variables:{}}).subscribe({next:e=>{e.safeViewer&&t(e.safeViewer)}}),a}a(69487)},19666(e,l,a){a.d(l,{_g:()=>x,Ir:()=>_,nH:()=>b});var n=a(74848),t=a(72623),i=a(83177),s=a(2568),r=a(15914),o=a(83551),u=a(10147),d=a(86979),c=a(27910),m=a(97665),g=a(96540),p=a(68695),y=a(99844);async function k({owner:e,repo:l,query:a,first:n,number:t,loginNames:i,capabilities:s}){let r={owner:e,repo:l};a&&(r.query=a),void 0!==n&&(r.first=n),void 0!==t&&(r.number=t),i&&(r.loginNames=i),s&&s.length>0&&(r.capabilities=s.join(","));let o=(0,y.JF)("assignees",r),u=await (0,p.lS)(o);return await u.json()}var f=a(98765),h=a(40782);async function b(e,{owner:l,repo:a,query:n,first:t,number:i,loginNames:s,capabilities:r}){let o;o=void 0!==t?t:void 0!==s?s.length:void 0;let u=void 0!==s?s.join(","):void 0;return await e.fetchQuery({queryKey:["item_picker","assignees",{owner:l,repo:a,query:n,first:o,number:i,loginNames:u,capabilities:r}],queryFn:async()=>{var e;let t,s,d=await k({owner:l,repo:a,query:n,first:o,number:i,loginNames:u,capabilities:r});return e=(0,f.A)(d).data,s=[],e.repository.suggestedActors?(s=e.repository.suggestedActors.nodes,t=e.repository.suggestedActors.totalCount):e.repository.assignableUsers?(s=e.repository.assignableUsers.nodes,t=e.repository.assignableUsers.totalCount):e.repository.issueOrPullRequest?.suggestedActors&&(s=e.repository.issueOrPullRequest.suggestedActors.nodes),{assignees:s,repositoryId:e.repository.id,totalCount:t}}})}function F({repo:e,owner:l,number:a,assignees:t,suggestions:i,viewer:o,...u}){let[d,p]=(0,g.useState)(!i||0===i.length),[y,k]=(0,g.useState)(0),[f,h]=(0,g.useState)(!1),[F,I]=(0,g.useState)(null),S=(0,m.jE)(),_=(i?.length||0)>0;(0,g.useEffect)(()=>{_||(async()=>{try{let n=await b(S,{owner:l,repo:e,query:"",number:a,first:10});I(n),p(!1),h(!1)}catch{h(!0),p(!1)}})()},[y,l,S,e,a,_]);let x=(0,g.useRef)(null),{createFallbackComponent:C}=(0,c.j)({errorMessage:r.k.cantEditItems("assignees"),anchorElement:e=>u.anchorElement(e,x),open:!0}),v=(0,g.useCallback)(async n=>{try{p(!0);let t=await b(S,{owner:l,repo:e,query:n,number:a,first:10});return p(!1),h(!1),t.assignees}catch{return p(!1),h(!0),[]}},[S,l,e,a]),j=i||F?.assignees||[];return f?C(()=>k(e=>e+1)):(0,n.jsx)(s.l,{...u,assignees:t,suggestions:j,isLoading:d,searchAssignees:v,viewer:o})}function I({repo:e,owner:l,assignees:a,assigneeTokens:d,suggestions:p,includeAssignableBots:y,includeAuthorableBots:k,maximumAssignees:f,viewer:F,...I}){let[S,_]=(0,g.useState)(!1),[x,C]=(0,g.useState)(!1),[v,j]=(0,g.useState)(0),[T,K]=(0,g.useState)(null),[L,N]=(0,g.useState)(null),[P,E]=(0,g.useState)(null),w=(0,m.jE)(),A=(0,g.useMemo)(()=>(0,h.M)({includeAssignableBots:y,includeAuthorableBots:k}),[y,k]),V=d.length>0;(0,g.useEffect)(()=>{V&&(async()=>{try{_(!0);let a=await b(w,{owner:l,repo:e,query:"",loginNames:d,capabilities:A});K(a),_(!1),C(!1)}catch{_(!1),C(!0)}})()},[v,l,e,d,A,w,V]);let D=(0,g.useCallback)(async a=>{if(P&&P<=u.t.maximumSuggestedUsers&&L)return _(!1),(0,t.t)({items:[...L,...I.noAssigneeOption?[o.v.noAssigneeData]:[]],filter:a,key:e=>e.isAgent&&e.displayName||e.login||(I.noAssigneeOption?.source?.login??""),secondaryKey:e=>`${e.name}`});try{_(!0);let n=await b(w,{owner:l,repo:e,query:a,first:u.t.maximumSuggestedUsers,capabilities:A}),t=n.assignees;return n.totalCount&&""===a.trim()&&E(n.totalCount),I.noAssigneeOption&&(0,i.O)(a,I.noAssigneeOption?.source?.login??"")&&t.unshift({...o.v.noAssigneeData}),_(!1),C(!1),t}catch{return _(!1),C(!0),[]}},[P,L,I.noAssigneeOption,w,l,e,A]),R=(0,g.useMemo)(()=>{let e=[];return a&&a.length>0?e=a:d.length>0&&(e=T?.assignees||[]),I.noAssigneeOption?.selected&&e.unshift(o.v.noAssigneeData),e},[d.length,a,T?.assignees,I.noAssigneeOption?.selected]);(0,g.useEffect)(()=>{(async()=>{N(await D("")),_(!1)})()},[]);let M=(0,g.useMemo)(()=>{let e=(L||[]).find(e=>e.isCopilot),l=[...p||L||[]];return e&&!l.find(e=>e.isCopilot)&&l.unshift(e),l},[L,p]),O=(0,g.useRef)(null),{createFallbackComponent:B}=(0,c.j)({errorMessage:r.k.cantEditItems("assignees"),anchorElement:e=>I.anchorElement(e,O),open:!0});return x?B(()=>j(e=>e+1)):(0,n.jsx)(s.l,{...I,assignees:R,suggestions:M,isLoading:S,searchAssignees:D,maximumAssignees:f,viewer:F})}F.displayName="ItemPickerFetcherForIssue",I.displayName="ItemPickerFetcherForRepository";let S=e=>"author"===e?"item-pickers:open-author":"item-pickers:open-assignees";function _({repo:e,owner:l,number:a,anchorElement:t,readonly:i,assignees:s,suggestions:r,viewer:o,...u}){return(0,n.jsx)(d.y,{keybindingCommandId:S(u.name),anchorElement:(e,l)=>t(e,l),createChild:()=>(0,n.jsx)(F,{repo:e,owner:l,number:a,readonly:i,assignees:s,suggestions:r,viewer:o,triggerOpen:!0,anchorElement:t,...u}),insidePortal:u.insidePortal})}function x({anchorElement:e,...l}){return(0,n.jsx)(d.y,{anchorElement:(l,a)=>e(l,a),keybindingCommandId:S(l.name),createChild:()=>(0,n.jsx)(I,{anchorElement:e,triggerOpen:!0,...l}),insidePortal:l.insidePortal})}_.displayName="AssigneePicker",x.displayName="AssigneeRepositoryPicker"},40782(e,l,a){a.d(l,{M:()=>n,i:()=>t});let n=({includeAssignableBots:e,includeAuthorableBots:l})=>{let a=[];return e&&a.push("CAN_BE_ASSIGNED"),l&&a.push("CAN_BE_AUTHOR"),a},t=e=>e.isCopilot?"@copilot":"Bot"===e.__typename?`app/${e.login}`:e.login},2568(e,l,a){a.d(l,{l:()=>x,Y:()=>F});var n=a(74848),t=a(90634),i=a(11544),s=a(98106),r=a(15914),o=a(83551),u=a(10147),d=a(35973),c=a(53696),m=a(64887),g=a(4925),p=a(96540);function y(e,l,a){let n=a.toLowerCase().trim(),t=e.filter(e=>`${e.login.toLowerCase()}#${e.name?.toLowerCase()}`.includes(n)),i=l.filter(e=>!t.some(l=>l.id===e.id));return i.sort((e,l)=>e.isCopilot!==l.isCopilot?e.isCopilot?-1:1:e.login.localeCompare(l.login)),t.concat(i)}let k={groupId:"assignees"},f={groupId:"suggestions",header:{title:"Suggestions",variant:"filled"}};var h=a(23131);let b="AssigneePickerBase-module__Item__sPVJjUT",F=10,I={Copilot:"GitHub",Codex:"OpenAI",Claude:"Anthropic"},S=[],_=[];function x({assignees:e=S,suggestions:l=_,searchAssignees:a,onSelectionChange:x,insidePortal:v,anchorElement:j,nested:T,isLoading:K=!1,noAssigneeOption:L,triggerOpen:N,selectionVariant:P="multiple",title:E,maximumAssignees:w=F,name:A="assignee",showNoMatchItem:V=!1,viewer:D,responsiveOnNarrow:R=!1}){let[M,O]=(0,p.useState)(""),[B,$]=(0,p.useState)(void 0),[U,H]=(0,p.useState)(e),q=(0,p.useRef)(M),{addToast:G}=(0,c.Y6)(),W=R||(0,h.G7)("issues_react_select_panel_fullscreen_on_narrow");(0,p.useEffect)(()=>{H(e)},[e]);let z=(0,p.useCallback)(e=>e.login,[]),Q=(0,p.useMemo)(()=>{let a=[];if(a=B?y(e,B,M):y(e,e.concat(l.filter(l=>!e.find(e=>e.login===l.login))),M),D){let e=a.findIndex(e=>e.login===D.login);if(-1!==e)a.splice(e,1);else if(B)return a;a.unshift(D)}return!L||L.selected||a.find(e=>e.id===o.v.noAssigneeData.id)||a.unshift(o.v.noAssigneeData),a},[B,D,L,e,M,l]),Y=(0,p.useCallback)(l=>0===e.length?f.groupId:e.find(e=>e.id===l.id)?k.groupId:f.groupId,[e]),X=(0,p.useMemo)(()=>!!(w&&U.length>=w),[U.length,w]),Z=(0,p.useCallback)(e=>{let l=U.some(l=>l.id===e.id),a=X&&!l;if(L&&e.id===o.v.noAssigneeData.id){let l={...L};return l.groupId=Y(e),l.disabled=a,l}if(V&&e.id===o.v.noMatchData.id)return{...o.v.noMatchData,groupId:Y(e),source:e,text:`${A}:${M}`,className:b,disabled:a};let s=e.isCopilot,u="Bot"===e.__typename,d=s||e.isAgent,c=s?r.k.copilotDisplayName:u&&e.displayName?e.displayName:e.login,m=(s||e.isAgent)&&e.displayName?I[e.displayName]??"":e.name||"";return{id:e.id,text:c,description:m,source:e,groupId:Y(e),leadingVisual:()=>s?(0,n.jsx)(t.C,{}):0===e.avatarUrl.length?null:(0,n.jsx)(i.r,{alt:"",src:e.avatarUrl}),trailingVisual:()=>d?(0,n.jsx)(g.A,{children:"AI"}):u?(0,n.jsx)(g.A,{children:"bot"}):null,className:b,disabled:a}},[M,Y,A,L,V,X,U]),J=(0,p.useCallback)(()=>{$(void 0)},[]),ee=(0,p.useCallback)(async e=>{if(""===e)return void $(void 0);try{let l=await a(e),n=q.current;e.trim()===n.trim()&&$(l)}catch{G({type:"error",message:s.S.couldNotSearchAssignees})}},[G,a]),el=(0,m.d)(e=>ee(e),u.t.pickerDebounceTime,{leading:!0,trailing:!0,onChangeBehavior:"flush"}),ea=(0,p.useCallback)(e=>{let l=e.trim();M!==l&&(el(l),O(e),q.current=l)},[el,M]),en=(0,p.useCallback)(e=>{let l=new Set(Q.map(e=>e.id)),a=new Set(e.map(e=>e.id));H([...e,...U.filter(e=>!l.has(e.id)&&!a.has(e.id))])},[U,Q]),et=(0,p.useMemo)(()=>{let l=[],a=Q.filter(l=>e.find(e=>e.id===l.id)),n=Q.filter(l=>!e.find(e=>e.id===l.id));return a.length>0&&l.push(k),n.length>0&&l.push(f),l},[e,Q]),ei=(0,p.useRef)(null),es=(0,p.useMemo)(()=>!V&&0===Q.length,[V,Q.length]);return(0,n.jsx)("div",{children:(0,n.jsx)(d.O,{items:Q,initialSelectedItems:e,loading:K,filterItems:ea,title:E||r.k.assigneesHeader,getItemKey:z,triggerOpen:N,convertToItemProps:Z,placeholderText:r.k.filterUsers(A),selectionVariant:1===w?"single":P||"multiple",onSelectionChange:x,onLiveSelectionChange:en,onClose:J,renderAnchor:e=>j(e,ei),groups:et,insidePortal:v,height:"large",width:"medium",nested:T,resultListAriaLabel:"User results",selectPanelRef:ei,notice:w&&X?{text:r.k.limitWarning(w),variant:"warning"}:void 0,customNoMatchItem:V?{id:o.v.noMatchData.id,avatarUrl:o.v.noMatchData.avatarUrl,login:M}:void 0,improvedNoMatchAccessibility:es,noMatchMessage:es?{title:"No assignees were found",body:"Try searching for a different name for results.",variant:"empty"}:void 0,keybindingCommandId:C(A),responsiveOnNarrow:W})})}x.displayName="AssigneePickerBase";let C=e=>"author"===e?"item-pickers:open-author":"item-pickers:open-assignees"},98765(e,l,a){a.d(l,{A:()=>n});function n(e){if("data"in e)return e;if("errors"in e&&Array.isArray(e.errors)&&e.errors.length>0&&e.errors[0]?.message)throw Error(e.errors[0].message);throw Error("Error in request")}},99844(e,l,a){a.d(l,{JF:()=>i,R1:()=>s,kP:()=>t});let n="/_ghui/item-pickers";function t(e){return`${n}/${e}`}function i(e,l={}){let a=new URLSearchParams(l).toString();return`${t(e)}${a&&`?${a}`}`}function s(){return`${n}/bulk_actions`}},35050(e,l,a){a.d(l,{_:()=>d});var n=a(74848),t=a(18990),i=a(21373),s=a(39775),r=a(63432),o=a(96540);let u="SharedPicker-module__dashedPickerButton__l63zI3L",d=({ref:e,leadingIconElement:l,anchorText:a,anchorProps:d,sharedPickerMainValue:c,ariaLabel:m,readonly:g,size:p,nested:y=!1,leadingIcon:k,hotKey:f,ariaLabelledBy:h,compressedTitle:b,className:F})=>{let I={"aria-labelledby":h,"aria-label":h?void 0:m,"aria-description":o.useMemo(()=>{let e;if(c)return e="string"==typeof c?c:b||"",`Currently selected: ${e}`},[c,b]),"aria-disabled":y?g:void 0,disabled:g};if(y){let e=c?l:k&&(0,n.jsx)(k,{});return(0,n.jsxs)(t.l.Item,{...d,...I,role:"menuitem",children:[e?(0,n.jsx)(t.l.LeadingVisual,{children:e}):null,a]})}return c?(0,n.jsx)(i.Q,{ref:e,size:p||"small",...d,...I,className:F,children:(0,n.jsxs)("div",{className:"SharedPicker-module__pickerContentContainer__nYL_Tss",children:[(0,n.jsx)("div",{className:"SharedPicker-module__pickerLabelText__LZEnaws",children:a}),(0,n.jsx)(r.az,{sx:{display:l?"flex":"none","> *:not(:last-child)":{}},className:"SharedPicker-module__leadingIconContainer__VMAaFlB",children:l}),(0,n.jsx)("div",{className:"SharedPicker-module__title__GhCwRdS",children:(0,n.jsx)(s.A,{title:b??c.toString()??"",children:c})})]})}):(0,n.jsx)(i.Q,{ref:e,size:"small",leadingVisual:k,trailingVisual:f?()=>(0,n.jsx)("div",{className:"SharedPicker-module__hotkeyBadge__Hw_TdPt",children:f}):void 0,className:F?`${u} ${F}`:u,...I,...d,children:a})};d.displayName="SharedPicker",d.displayName="SharedPicker"},83551(e,l,a){a.d(l,{v:()=>n});let n={noMilestoneData:{id:"no-milestone",title:"No milestone",closed:!1},noLabelsData:{id:"no-labels",name:"No labels",color:"ededed",description:"Issues with no labels"},noAssigneeData:{id:"no-assignee",login:"No assignees",avatarUrl:""},noMatchData:{id:"no-match-item",avatarUrl:"",description:"Filter by user"},noTypeData:{id:"no-type",name:"No type",color:"ededed",description:"Issues with no type"}}},67360(e,l,a){a.d(l,{R:()=>h,u:()=>F});var n=a(74848),t=a(15914),i=a(86979),s=a(27910),r=a(17359),o=a(97665),u=a(96540),d=a(68695),c=a(99844);async function m({owner:e,repo:l,query:a,count:n}){let t={owner:e,repo:l};a&&(t.query=a),n&&(t.count=n);let i=(0,c.JF)("issue_types",t),s=await (0,d.lS)(i);return await s.json()}var g=a(98765),p=a(32343),y=a(11614);function k(e){return"object"==typeof e&&null!==e&&"string"==typeof e.id&&"string"==typeof e.name&&("string"==typeof e.description||null===e.description||void 0===e.description)&&"string"==typeof e.color&&("boolean"==typeof e.isEnabled||void 0===e.isEnabled)}let f={Check:e=>"object"==typeof e&&null!==e&&Array.isArray(e.issueTypes)&&e.issueTypes.every(k),Code:()=>"manual-validator",*Errors(){}};async function h(e,{owner:l,repo:a,query:n,count:t,persister:i}){return await e.fetchQuery({queryKey:["item_picker","issue_types",{owner:l,repo:a,query:n,count:t}],queryFn:async()=>{let e=await m({owner:l,repo:a,query:n,count:t});return{issueTypes:(0,g.A)(e).data.repository.issueTypes.edges.map(e=>e.node)}},persister:i})}function b({owner:e,repo:l,...a}){let[i,d]=(0,u.useState)(!1),[c,m]=(0,u.useState)(0),[g,k]=(0,u.useState)(!1),[b,F]=(0,u.useState)(null),[I,S]=(0,u.useState)(1),_=(0,o.jE)(),{sendAnalyticsEvent:x}=(0,p.s)();(0,u.useEffect)(()=>{performance.mark("issue-type-picker-opened")},[]),(0,u.useEffect)(()=>{(async()=>{try{d(!0);let a=async(e,l,a)=>(0,y.y)({validator:f,sendAnalyticsEvent:x,alwaysRefetch:!0,enabled:!0})(e,l,a),n=await h(_,{owner:e,repo:l,query:"",persister:a});F(n),d(!1),k(!1)}catch{k(!0),d(!1)}})()},[c,e,l,_,x]),(0,u.useEffect)(()=>{if(!i&&b&&I>0)try{performance.mark("issue-type-picker-rendered");let e=performance.measure("issue-type-picker-duration","issue-type-picker-opened","issue-type-picker-rendered");x("issue_type_picker.render_duration",void 0,{duration:e.duration,caching_enabled:!0}),performance.clearMarks("issue-type-picker-opened"),performance.clearMarks("issue-type-picker-rendered"),performance.clearMeasures("issue-type-picker-duration")}catch{}},[i,b,x,I]);let C=(0,u.useRef)(null),v=(0,u.useCallback)(()=>{performance.mark("issue-type-picker-opened"),S(e=>e+1)},[]),{createFallbackComponent:j}=(0,s.j)({errorMessage:t.k.cantEditItems("types"),anchorElement:e=>a.anchorElement(e,C),open:!0});return g?j(()=>m(e=>e+1)):(0,n.jsx)(r.f,{issueTypes:b?.issueTypes??[],isLoading:i,...a,onOpen:v})}function F({owner:e,repo:l,anchorElement:a,readonly:t,activeIssueType:s,...r}){return(0,n.jsx)(i.y,{keybindingCommandId:"item-pickers:open-issue-type",anchorElement:(e,l)=>a(e,l),createChild:()=>(0,n.jsx)(b,{owner:e,repo:l,readonly:t,activeIssueType:s,triggerOpen:!0,anchorElement:a,...r}),insidePortal:r.insidePortal})}b.displayName="ItemPickerFetcher",F.displayName="IssueTypePicker"},17359(e,l,a){a.d(l,{f:()=>m,i:()=>d});var n=a(74848),t=a(23131),i=a(35973),s=a(96540),r=a(15914),o=a(32159),u=a(83551);let d="UNSET",c=[];function m({activeIssueType:e,issueTypes:l=c,issueTypeToken:a,noTypeItem:m,showUnset:g=!1,anchorElement:p,insidePortal:y,isLoading:k,nested:f,onSelectionChange:h,title:b=r.k.typesHeader,triggerOpen:F=!0,width:I="large",onOpen:S}){let[_,x]=(0,s.useState)(""),C=(0,s.useMemo)(()=>{let e=a&&'"'===a[0]&&'"'===a[a.length-1]?a.slice(1,-1):a;return l.find(l=>l.name===e)},[l,a]),v=(0,s.useMemo)(()=>{let e=l.slice().sort((e,l)=>e.name.localeCompare(l.name));return(m?e.unshift(u.v.noTypeData):g&&e.unshift({id:d,name:"No issue type",isEnabled:!0,description:"",color:"GRAY"}),_)?e.filter(e=>e.name.toLowerCase().indexOf(_.toLowerCase())>=0):e},[l,_,g,m]),j=(0,s.useCallback)(e=>{x(e)},[]),T=(0,s.useCallback)(e=>e.id,[]),K=(0,s.useCallback)(e=>({id:e.id,text:e.name,description:e.description??"",descriptionVariant:"block",leadingVisual:(0,o.d)(e.color),source:e}),[]),L=(0,s.useMemo)(()=>m?.selected?[u.v.noTypeData]:e?[e]:C?[C]:[],[e,C,m]),N=(0,s.useRef)(null),P=(0,s.useMemo)(()=>0===v.length,[v.length]),E=(0,t.G7)("issues_react_select_panel_fullscreen_on_narrow");return(0,n.jsx)(i.O,{loading:k,items:v,initialSelectedItems:L,filterItems:j,title:b,getItemKey:T,convertToItemProps:K,placeholderText:"Filter types",selectionVariant:"single",onSelectionChange:h,onOpen:S,renderAnchor:e=>p(e),insidePortal:y,height:"large",width:I,nested:f,resultListAriaLabel:"Issue Type results",triggerOpen:F,keybindingCommandId:"item-pickers:open-issue-type",selectPanelRef:N,improvedNoMatchAccessibility:P,noMatchMessage:P?{title:"No issue types were found",variant:"empty",body:"Try searching with a different query for results."}:void 0,responsiveOnNarrow:E})}m.displayName="IssueTypePickerBase"},51505(e,l,a){a.d(l,{t:()=>g});var n,t,i,s=a(74848),r=a(16522),o=a(23196);let u={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"owner"},{defaultValue:null,kind:"LocalArgument",name:"repo"}],kind:"Fragment",metadata:null,name:"usePreloadedLabelsQuery",selections:i=[{alias:null,args:[{kind:"Variable",name:"name",variableName:"repo"},{kind:"Variable",name:"owner",variableName:"owner"}],concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"LabelConnection",kind:"LinkedField",name:"labels",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"nodes",plural:!0,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"usePreloadedLabelsQuery",selections:i},params:{id:"3e32908c91bf1665aa4acc9da94bd619",metadata:{},name:"usePreloadedLabelsQuery",operationKind:"query",text:null}};u.hash="29b91e6e7012c171094bcd0c3cf2f71f";var d=a(96540),c=a(18312);function m(e){var l,a;let n,t,i=(0,r.c)(3),m=(l=e.owner,a=e.repo,t=(0,c.useClientQuery)(u,{owner:l,repo:a}),(0,d.useMemo)(()=>{if(!t?.repository?.labels?.nodes?.length||!t?.repository?.id)return;let e=(t.repository.labels.nodes||[]).flatMap(e=>e?[e]:[]);return{repositoryId:t.repository.id,labels:e,totalCount:t.repository.labels.totalCount||0}},[t]));return i[0]!==m||i[1]!==e?(n=(0,s.jsx)(o.t,{...e,preloadedLabels:m}),i[0]=m,i[1]=e,i[2]=n):n=i[2],n}function g(e){let l,a=(0,r.c)(2);return a[0]!==e?(l=(0,s.jsx)(m,{...e}),a[0]=e,a[1]=l):l=a[1],l}m.displayName="LabelPickerTsqWithRelayWrapper",g.displayName="LabelPicker"},23196(e,l,a){a.d(l,{t:()=>D});var n=a(74848),t=a(15914),i=a(83551),s=a(86979),r=a(27910),o=a(23131),u=a(72623),d=a(98106),c=a(10147),m=a(35973),g=a(54279),p=a(95066),y=a(53696),k=a(64887),f=a(38621),h=a(93607),b=a(96540);let F=[],I={groupId:"labels",header:{title:"Selected labels",variant:"filled"}},S={groupId:"favorite",header:{title:"Favorite",variant:"filled"}},_={groupId:"suggestions",header:{title:"Suggestions",variant:"filled"}},x={groupId:"copilot",header:{title:"Copilot suggestions",variant:"filled"}};function C({labels:e,suggestions:l=F,totalNumberOfLabels:a,copilotSuggestedLabels:s,favoriteLabelIds:r,searchLabels:C,onSelectionChange:j,insidePortal:T,anchorElement:K,nested:L=!1,triggerOpen:N=!0,initialFilter:P,owner:E,repo:w,showEditLabelsButton:A=!0,noLabelOption:V,title:D,showNoMatchItem:R=!1,canCreateLabel:M,repositoryId:O,isLoading:B=!1,setIsLoading:$,onCreate:U}){let H=(0,o.G7)("issues_react_remove_labels_loading"),q=(0,o.G7)("issues_react_select_panel_fullscreen_on_narrow"),[G,W]=(0,b.useState)(""),z=(0,b.useDeferredValue)(G),Q=(0,b.useRef)(new Set),[Y,X]=(0,b.useState)(!1),[Z,J]=(0,b.useState)(l),{addToast:ee}=(0,y.Y6)(),el=`${E}/${w}`;(0,b.useEffect)(()=>{J(l)},[l]);let ea=C&&a>l.length,en=(0,b.useMemo)(()=>e.slice().sort((e,l)=>e.name.localeCompare(l.name)),[e]),et=(0,b.useCallback)(e=>e.name,[]),ei=(0,b.useCallback)(e=>`${e.name} ${e.description??""}`,[]),es=(0,b.useMemo)(()=>{if(!z){let a=H?Z:l,n=[...en],t=(s??[]).filter(l=>!e.find(e=>e.id===l.id)),i=a.filter(l=>!e.find(e=>e.id===l.id)&&!t.find(e=>e.id===l.id));return n.push(...t,...i),n.slice(0,c.t.labelsInitialLoadCount)}let a=new Map;for(let e of Z)a.set(e.id,e);for(let e of s??[])a.has(e.id)||a.set(e.id,e);let n=Array.from(a.values());return(0,u.t)({items:n,filter:z,key:et,secondaryKey:ei}).slice(0,30)},[z,Z,H,l,en,s,e,et,ei]),er=(0,b.useCallback)(async e=>{if(!H&&""===e){J(l),X(!1);return}if(H&&Q.current.has(e))return void X(!1);if(C){X(!0);try{J(H?v([...Z,...await C(e)]):await C(e))}catch{ee({type:"error",message:d.S.couldNotSearchLabels})}finally{X(!1),H&&Q.current.add(e)}}},[H,C,l,Z,ee]),eo=(0,k.d)(e=>er(e),c.t.pickerDebounceTime),eu=(0,b.useCallback)(e=>{let a=e.trim();if(G!==a&&ea){X(!0),eo(a),W(e);return}0!==l.length&&W(e)},[eo,G,ea,l.length]),ed=(0,b.useCallback)(e=>e.id,[]),ec=(0,b.useCallback)((e,l,a)=>{a.preventDefault(),a.stopPropagation(),O&&U&&$&&($(!0),U({repositoryId:O,color:l.color,name:l.name},{onError:()=>{ee({type:"error",message:d.S.couldNotCreateLabel}),$(!1)},onSuccess:e=>{e&&J([{...e,__isNew__:!0},...Z]),$(!1)}}))},[ee,Z,U,O,$]),em=(0,b.useCallback)(l=>{let a;if(V&&l.id===i.v.noLabelsData.id){let e={...V};return e.groupId=e.selected?I.groupId:_.groupId,e}if(l.id===G)return{id:l.id,description:l.description||void 0,descriptionVariant:"block",source:l,text:`Create new label: "${l.name}"`,trailingVisual:f.PlusIcon,className:"LabelPickerBase-module__labelPickerItem__wkYiCOr",onAction:(e,a)=>ec(e,l,a)};let t=(s??[]).some(e=>e.id===l.id),o=(r??[]).some(e=>e===l.id);return a=e.find(e=>e.id===l.id)?I.groupId:o?S.groupId:t?x.groupId:_.groupId,{id:l.id,description:l.description??void 0,descriptionVariant:"block",children:(0,n.jsx)(g.JR,{html:l.nameHTML,className:"LabelPickerBase-module__labelNameText__mmYTKmQ"}),source:l,groupId:a,leadingVisual:()=>(0,n.jsx)("div",{style:{background:`#${l.color}`,borderColor:`#${l.color}`},className:"LabelPickerBase-module__labelColorBox__QMpXKt2"})}},[V,G,s,r,e,ec]),eg=(0,b.useMemo)(()=>{let l=[];return e.length>0&&l.push(I),(r??[]).some(l=>!e.some(e=>e.id===l))&&l.push(S),(s??[]).some(l=>!e.some(e=>e.id===l.id)&&r?.indexOf(l.id)===-1)&&l.push(x),es.length>0&&es.length-e.length>0&&l.push(_),l},[e,r,s,es.length]),ep=(0,b.useMemo)(()=>{if(!el||!p.XC?.location)return;let e=p.XC.location.origin;return`${e}/${el}/issues/labels`},[el]),ey=(0,b.useCallback)(e=>{p.XC?.location?.href&&A&&ep&&1!==e.button&&(e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||(e.preventDefault(),p.XC.location.href=ep))},[ep,A]),ek=(0,b.useRef)(null),ef=(0,b.useMemo)(()=>{let e=!Y&&!G&&0===es.length,l=!(R&&M&&!Y)&&!!G&&0===es.length;return e||l},[Y,G,es.length,R,M]);return(0,n.jsx)("div",{className:"LabelPickerBase-module__labelPickerContainer__uNKj0tZ",children:(0,n.jsx)(m.O,{loading:H?B:B||Y,items:es,initialSelectedItems:e,title:D||t.k.labelsHeader,filterItems:eu,getItemKey:ed,convertToItemProps:em,placeholderText:"Filter labels",selectionVariant:0===es.length?"single":"multiple",onSelectionChange:j,renderAnchor:e=>K(e,ek),groups:G?void 0:eg,insidePortal:T,height:"large",width:"medium",nested:L,resultListAriaLabel:"Label results",triggerOpen:N,initialFilter:P,selectPanelRef:ek,keybindingCommandId:"item-pickers:open-labels",eventsTag:"label",customNoMatchItem:M&&R&&G&&!Y?{id:G,color:"aaaaaa",name:G,nameHTML:G,description:void 0,url:""}:void 0,suppressNoMatchItem:!0,improvedNoMatchAccessibility:ef,noMatchMessage:ef?{title:"No labels were found",body:"Try searching with a different query for results.",variant:"empty"}:void 0,secondaryAction:A?(0,n.jsx)(h.X.SecondaryActionLink,{onClick:ey,href:ep,size:"small",children:t.k.editLabels}):void 0,responsiveOnNarrow:q,focusPrependedElements:!0})})}C.displayName="LabelPickerBase";let v=e=>e.filter((e,l,a)=>a.findIndex(l=>l.id===e.id)===l);var j=a(97665),T=a(68695),K=a(99844);async function L({owner:e,repo:l,query:a,count:n,labelNames:t}){let i={owner:e,repo:l};a&&(i.query=a),n&&(i.count=n),t&&t.length>0&&(i.labelNames=t.join(","));let s=(0,K.JF)("labels",i),r=await (0,T.lS)(s);return await r.json()}function N(e,l){let a=e.map(e=>e.replace(/^"/,"").replace(/"$/,""));return l.filter(e=>a.includes(e.name))}var P=a(98765),E=a(94747);async function w(e){let l=(0,K.kP)("labels");return(await (0,T.lS)(l,{method:"POST",body:e})).json()}async function A(e,{owner:l,repo:a,query:n,count:t,labelNames:i}){return await e.fetchQuery({queryKey:["item_picker","labels",{owner:l,repo:a,query:n,count:t,labelNames:i}],queryFn:async()=>{var e;let s,r=await L({owner:l,repo:a,query:n,count:t,labelNames:i});return e=(0,P.A)(r).data,s=e.repository.labelsByNames?.nodes,i&&i.length>0&&s&&(s=N(i,s)),{labels:e.repository.labels.nodes,repositoryId:e.repository.id,totalCount:e.repository.labels.totalCount,labelsByNames:s}}})}function V({repo:e,owner:l,labels:a,labelNames:s,preloadedLabels:o,noLabelOption:u,...d}){let c=o&&!!o.labels?.length,[m,g]=(0,b.useState)(!c),[p,y]=(0,b.useState)(0),[k,f]=(0,b.useState)(!1),[h,F]=(0,b.useState)(()=>{if(c){let e=s?N(s,o.labels):void 0;return{repositoryId:o.repositoryId,labels:s?e||[]:o.labels,totalCount:o.totalCount,labelsByNames:e}}return null}),[I,S]=(0,b.useState)(()=>c&&s?N(s,o.labels):a),_=(0,j.jE)(),{mutate:x}=(0,E.n)({mutationFn:async e=>{let l=await w(e);return(0,P.A)(l).data.createLabel.label}});(0,b.useEffect)(()=>{c||(async()=>{try{let a=await A(_,{owner:l,repo:e,query:"",labelNames:s});F(a),s&&s.length>0&&S(a.labelsByNames||[]),g(!1),f(!1)}catch{f(!0),g(!1)}})()},[p,l,_,e,s,c]);let v=(0,b.useRef)(null),{createFallbackComponent:T}=(0,r.j)({errorMessage:t.k.cantEditItems("labels"),anchorElement:e=>d.anchorElement(e,v),open:!0}),K=(0,b.useCallback)(async a=>(await A(_,{owner:l,repo:e,query:a})).labels,[_,l,e]),L=(0,b.useCallback)((e,{onSuccess:l,onError:a})=>{x(e,{onSuccess:l,onError:a})},[x]),V=(0,b.useMemo)(()=>{let e=h?.labels??[];return u?[i.v.noLabelsData,...e]:e},[h?.labels,u]),D=(0,b.useMemo)(()=>{let e=s?I:a;return u?.selected&&!e.find(e=>e.id===i.v.noLabelsData.id)?[i.v.noLabelsData,...e]:e},[I,s,a,u?.selected]);return k?T(()=>y(e=>e+1)):(0,n.jsx)(C,{repo:e,owner:l,repositoryId:h?.repositoryId??"",labels:D,suggestions:V,totalNumberOfLabels:h?.totalCount??0,isLoading:m,setIsLoading:g,searchLabels:K,onCreate:L,noLabelOption:u,...d})}function D({repo:e,owner:l,anchorElement:a,readonly:t,labels:i,labelNames:r,noLabelOption:o,...u}){return(0,n.jsx)(s.y,{keybindingCommandId:"item-pickers:open-labels",anchorElement:(e,l)=>a(e,l),createChild:()=>(0,n.jsx)(V,{repo:e,owner:l,readonly:t,initialFilter:"",labels:i,labelNames:r,triggerOpen:!0,anchorElement:a,noLabelOption:o,...u}),insidePortal:u.insidePortal})}V.displayName="ItemPickerFetcher",D.displayName="LabelPicker"},36002(e,l,a){a.d(l,{U:()=>T,D:()=>L});var n=a(74848),t=a(15914),i=a(86979),s=a(27910),r=a(23131),o=a(83551),u=a(10147),d=a(35973),c=a(53696),m=a(64887),g=a(96540),p=a(38621),y=a(61809),k=a(98106),f=a(83177);let h={groupId:"open",header:{title:"Open",variant:"filled"}},b={groupId:"closed",header:{title:"Closed",variant:"filled"}};function F({repo:e,owner:l,milestones:a,repositoryId:i,activeMilestone:s,onSelectionChange:F,insidePortal:I,anchorElement:S,nested:_,triggerOpen:x,initialFilter:C,isLoading:v,setIsLoading:j,noMilestoneItem:T,showMilestoneDescription:K,title:L,canCreateMilestone:N,fetchMilestones:P,onCreate:E,showNoMatchItem:w=!1}){let[A,V]=(0,g.useState)(""),D=(0,g.useDeferredValue)(A),[R,M]=(0,g.useState)(!1),[O,B]=(0,g.useState)(),[$,U]=(0,g.useState)([]),{addToast:H}=(0,c.Y6)(),q=(0,g.useMemo)(()=>{if(void 0!==O&&O.length>0)return O;let e=a.slice().sort((e,l)=>e.title.localeCompare(l.title)).concat($);return(T&&e.unshift(o.v.noMilestoneData),D)?e.filter(e=>e.title.toLowerCase().indexOf(D.toLowerCase())>=0):e},[a,D,$,T,O]),G=T&&T.selected,W=(0,g.useMemo)(()=>T?q.filter(e=>!1===e.closed):[],[T,q]),z=(0,g.useCallback)(async a=>{M(!0),V(a);try{let n=await P({query:a,owner:l,repo:e,count:10});void 0!==n&&(T&&(0,f.O)(a,T.source?.title??"")&&n.unshift(o.v.noMilestoneData),B(n))}catch{H({type:"error",message:k.S.couldNotSearchMilestones})}finally{M(!1)}},[H,P,T,l,e]),Q=(0,m.d)(e=>z(e),u.t.pickerDebounceTime),Y=(0,g.useCallback)(async e=>{let l=e.trim();if(A!==l){if(""===l){B(void 0),V(l);return}Q(l)}},[Q,A]),X=(0,g.useCallback)(e=>e.id,[]),Z=(0,g.useCallback)((e,l,a)=>{a.preventDefault(),a.stopPropagation(),i&&(j(!0),E({repositoryId:i,title:l.title},{onError:()=>{H({type:"error",message:k.S.couldNotCreateMilestone}),j(!1)},onSuccess:e=>{e&&U([{...e,__isNew__:!0},...$]),j(!1)}}))},[H,$,E,i,j]),J=(0,g.useCallback)(e=>{if(T&&e.id===o.v.noMilestoneData.id)return{...T};if(e.id===A)return{id:e.id,text:`Create new milestone: "${e.title}"`,source:e,trailingVisual:p.PlusIcon,className:"ItemPickerMilestone-module__MilestoneFilterItem__fydVvrF",onAction:(l,a)=>Z(l,e,a)};let{closed:l,closedAt:a,progressPercentage:t,dueOn:i}=e;return{id:e.id,text:e.title,description:K?(0,n.jsx)(y.R,{closed:l,closedAt:a,progressPercentage:t,dueOn:i,showProgressPercentage:!1}):void 0,descriptionVariant:"block",className:"ItemPickerMilestone-module__MilestoneItem__BbdPNMO",source:e,groupId:e.closed?b.groupId:h.groupId,leadingVisual:()=>(0,n.jsx)(p.MilestoneIcon,{size:16})}},[Z,A,T,K]),ee=(0,g.useMemo)(()=>{let e=[];return q.some(e=>!e.closed)&&e.push(h),q.some(e=>e.closed)&&e.push(b),e},[q]);T&&G&&(s=o.v.noMilestoneData);let el=(0,g.useRef)(null),ea=(0,g.useMemo)(()=>s?[s]:[],[s]),en=(0,g.useMemo)(()=>{let e=!R&&!A&&0===q.length,l=!w&&!!A&&0===q.length;return e||l},[A,R,q.length,w]),et=(0,r.G7)("issues_react_select_panel_fullscreen_on_narrow");return(0,n.jsx)(d.O,{loading:v||R,items:T?W:q,initialSelectedItems:ea,filterItems:Y,title:L??t.k.milestonesHeader,getItemKey:X,convertToItemProps:J,placeholderText:`Filter milestones ${a.length>=u.t.milestonesMaxPreloadCount?`(${u.t.milestonesMaxPreloadCount} milestones loaded)`:""}`,selectionVariant:"single",onSelectionChange:F,groups:T?void 0:ee,renderAnchor:e=>S(e,el),insidePortal:I,height:"large",width:"medium",nested:_,resultListAriaLabel:"Milestone results",triggerOpen:x,initialFilter:C,selectPanelRef:el,keybindingCommandId:"item-pickers:open-milestone",customNoMatchItem:N&&w&&A?{id:A,closed:!1,progressPercentage:0,title:A,url:""}:void 0,improvedNoMatchAccessibility:en,noMatchMessage:en?{title:"No milestones were found",body:"Try searching with a different query for results.",variant:"empty"}:void 0,responsiveOnNarrow:et})}F.displayName="MilestonePickerBase";var I=a(97665),S=a(68695),_=a(99844);async function x({owner:e,repo:l,query:a,count:n}){let t={owner:e,repo:l};a&&(t.query=a),n&&(t.count=n);let i=(0,_.JF)("milestones",t),s=await (0,S.lS)(i);return await s.json()}var C=a(98765),v=a(94747);async function j(e){let l=(0,_.kP)("milestones");return(await (0,S.lS)(l,{method:"POST",body:e})).json()}async function T(e,{owner:l,repo:a,query:n,count:t}){return await e.fetchQuery({queryKey:["item_picker","milestones",{owner:l,repo:a,query:n,count:t}],queryFn:async()=>{var e;let i=await x({owner:l,repo:a,query:n,count:t});return{milestones:(e=(0,C.A)(i).data).repository.milestones.nodes,repositoryId:e.repository.id}}})}function K({repo:e,owner:l,...a}){let[i,r]=(0,g.useState)(!0),[o,u]=(0,g.useState)(0),[d,c]=(0,g.useState)(!1),[m,p]=(0,g.useState)(null),y=(0,I.jE)(),{mutate:k}=(0,v.n)({mutationFn:async e=>{let l=await j(e);return(0,C.A)(l).data.createMilestone.milestone}});(0,g.useEffect)(()=>{(async()=>{try{let a=await T(y,{owner:l,repo:e,query:""});p(a),r(!1),c(!1)}catch{c(!0),r(!1)}})()},[o,l,y,e]);let f=(0,g.useRef)(null),{createFallbackComponent:h}=(0,s.j)({errorMessage:t.k.cantEditItems("milestones"),anchorElement:e=>a.anchorElement(e,f),open:!0}),b=(0,g.useCallback)(async e=>(await T(y,e)).milestones,[y]),S=(0,g.useCallback)((e,{onSuccess:l,onError:a})=>{k(e,{onSuccess:l,onError:a})},[k]);return d?h(()=>u(e=>e+1)):(0,n.jsx)(F,{repo:e,owner:l,repositoryId:m?.repositoryId??"",milestones:m?.milestones??[],isLoading:i,setIsLoading:r,fetchMilestones:b,onCreate:S,...a})}function L({repo:e,owner:l,anchorElement:a,readonly:t,activeMilestone:s,noMilestoneItem:r,...o}){return(0,n.jsx)(i.y,{keybindingCommandId:"item-pickers:open-milestone",anchorElement:(e,l)=>a(e,l),createChild:()=>(0,n.jsx)(K,{repo:e,owner:l,readonly:t,initialFilter:"",activeMilestone:s,triggerOpen:!0,anchorElement:a,noMilestoneItem:r,...o}),insidePortal:o.insidePortal})}K.displayName="ItemPickerFetcher",L.displayName="MilestonePicker"},61809(e,l,a){a.d(l,{R:()=>c});var n=a(74848),t=a(15914),i=a(16359),s=a(35349),r=a(62935);let o=({closed:e,givenDate:l,currentDate:a})=>{let i=e?"short":"long",s=e&&!u(l,a)?void 0:"numeric",o=e&&d(a,l)?"auto":"past",c=e?"auto":"elapsed",m=e?"second":d(l,a)?"month":"day";return(0,n.jsx)(r.A,{date:l,day:"numeric",month:i,tense:u(l,a)?void 0:o,year:s,format:c,precision:m,"data-testid":t.k.testIds.relativeTimeDescription})};o.displayName="RelativeTimeDescription";let u=(e,l)=>{let a=l.getFullYear();return e.getFullYear()<a},d=(e,l)=>12*(e.getFullYear()-l.getFullYear())+(e.getMonth()-l.getMonth())>=1,c=({closed:e,closedAt:l,dueOn:a,progressPercentage:r,showProgressPercentage:u=!1})=>{let d=e?l:a,{isBrowser:c}=(0,s.V)();if(!d||!p(d))return t.k.milestones.noDueDate;let k=new Date(d),f=new Date,h=!!a&&new Date(d)<new Date&&!y(k,f);return(0,n.jsx)("div",{className:h&&!e?"MilestoneDescription-module__danger__re_tqa6":"MilestoneDescription-module__subtle__p2CBryn",children:c?(0,n.jsxs)(n.Fragment,{children:[m({isPastDate:h,closed:e}),"\xa0",h||e?(0,n.jsx)(o,{closed:e,givenDate:k,currentDate:f}):g(d),r&&u?t.k.milestones.progressPercentage(r):""]}):(0,n.jsx)(i.O,{variant:"rounded",height:"sm",width:"50%"})})};c.displayName="MilestoneDescription";let m=({isPastDate:e,closed:l})=>l?t.k.milestones.milestoneClosed:e?t.k.milestones.pastDue:t.k.milestones.milestoneDue,g=e=>new Date(e).toLocaleDateString("en-us",{month:"long",year:"numeric",day:"numeric"}),p=e=>!isNaN(new Date(e).getTime()),y=(e,l)=>e.getFullYear()===l.getFullYear()&&e.getMonth()===l.getMonth()&&e.getUTCDate()===l.getUTCDate()},51578(e,l,a){a.d(l,{w:()=>P,D:()=>T});var n=a(74848),t=a(98106),i=a(51159),s=a(15914),r=a(98703),o=a(10147),u=a(27910),d=a(66123),c=a(31993),m=a(97665),g=a(96540),p=a(68695),y=a(99844);async function k({owner:e,repo:l,query:a,count:n}){let t={owner:e,repo:l};a&&(t.query=a),n&&(t.count=n);let i=(0,y.JF)("projects",t),s=await (0,p.lS)(i);return await s.json()}var f=a(98765),h=a(53696),b=a(64887),F=a(38621),I=a(68521),S=a(28294),_=a(26647);let x={groupId:"recent",header:{title:"Recent",variant:"filled"}},C={groupId:"repository",header:{title:"Repository",variant:"filled"}},v={groupId:"organization",header:{title:"Organization",variant:"filled"}},j={groupId:"selected"};function T({owner:e,repo:l,query:a,count:n}){return(0,c.j)({queryKey:["item_picker","projects",{owner:e,repo:l,query:a,count:n}],queryFn:async()=>{var t;let i=await k({owner:e,repo:l,query:a,count:n});return{repositoryId:(t=(0,f.A)(i).data).repository.id,repositoryProjects:t.repository.projectsV2.nodes,recentRepositoryProjects:t.repository.recentProjects.edges.map(e=>e.node),ownerProjects:t.repository.owner.projectsV2.edges.map(e=>e.node),recentOwnerProjects:t.repository.owner.recentProjects.edges.map(e=>e.node)}}})}let K=[];function L({projectsData:e,selectedProjects:l=K,onSave:a,anchorElement:u,insidePortal:c,owner:p,repo:y,isLoading:k=!1,triggerOpen:f=!1,readonly:S,title:L,getSelectedProjects:N,pickerId:P}){let[E,w]=(0,g.useState)(e),[A,V]=(0,g.useState)(!1),[D,R]=(0,g.useState)(!1),M=(0,m.jE)(),{addToast:O}=(0,h.Y6)(),[B,$]=(0,g.useState)(""),[U,H]=(0,g.useState)(f),q=(0,g.useCallback)(async e=>{V(!0);try{let l=await M.fetchQuery(T({repo:y,owner:p,query:e}));w(l),V(!1)}catch{V(!1),O({type:"error",message:t.S.couldNotSearchProjects})}},[p,M,y]),G=(0,b.d)(e=>q(e),o.t.pickerDebounceTime);(0,g.useEffect)(()=>(0===B.length?w(e):G(B),()=>{V(!1)}),[G,B,e]);let W=(0,g.useMemo)(()=>(E?.recentOwnerProjects||[]).filter(e=>!1===e.closed),[E]),z=(0,g.useMemo)(()=>(E?.repositoryProjects||[]).filter(e=>!1===e.closed),[E]),Q=(0,g.useMemo)(()=>(E?.ownerProjects||[]).filter(e=>!1===e.closed),[E]),Y=(0,g.useMemo)(()=>N?N([...W,...z,...Q]):l,[N,l,Q,W,z]),[X,Z]=(0,g.useState)(()=>Y.map(e=>e.id));(0,g.useEffect)(()=>{Z(Y.map(e=>e.id))},[Y]);let J=(0,g.useCallback)((e,l)=>{let{title:a,id:n}=l,t=l.hasReachedItemsLimit&&!Y.some(e=>e.id===n)?"danger":"default",i=l.hasReachedItemsLimit?"block":"inline";return{text:a,description:l.hasReachedItemsLimit?`${s.k.projectItemsLimitReached}`:void 0,descriptionVariant:i,id:n,groupId:e,selected:X.includes(n),disabled:S||!l.viewerCanUpdate,leadingVisual:F.TableIcon,variant:t}},[Y,X,S]),ee=(0,g.useMemo)(()=>{let e=Y.map(e=>e.id);return{selected:Y,recent:W.filter(l=>!e.includes(l.id)),repository:z.filter(l=>!e.includes(l.id)),organization:Q.filter(l=>!e.includes(l.id))}},[Y,W,z,Q]),el=(0,g.useMemo)(()=>Object.keys(ee).flatMap(e=>{let l=ee[e];return l?l.map(l=>J(e,l)):[]}),[ee,J]),ea=(0,g.useMemo)(()=>el.filter(e=>e.id&&X.includes(e.id.toString())),[X,el]),en=(0,g.useMemo)(()=>{if(el.length<1)return[];if(""===B)return el;let e=el.filter(e=>(e.text||"").toLowerCase().indexOf(B.trim().toLowerCase())>=0);return e.length<1?[]:e},[B,el]),et=(0,g.useMemo)(()=>[Y.length>0?j:null,W.length>0?x:null,z.length>0?C:null,Q.length>0?v:null].filter(e=>null!==e),[Y.length,W.length,z.length,Q.length]),ei=(0,g.useCallback)(e=>{let l=ea.filter(l=>!e.includes(l)).map(e=>e.id),a=X;a=[...a,...e.filter(e=>void 0!==e.id).map(e=>e.id)],l.length>0&&(a=a.filter(e=>!l.includes(e))),Z([...new Set(a)])},[Z,ea,X]),es=(0,g.useCallback)(()=>{H(!1),$(""),(X.length!==l.length||X.some(e=>!l.some(l=>e===l.id)))&&Z(l.map(e=>e.id?e.id.toString():""))},[l,X]),{updateOpenState:er}=(0,I.t)(),eo=(0,g.useCallback)((e,l)=>{if(!e&&document.activeElement instanceof HTMLElement&&document.activeElement?.blur(),"cancel"!==l&&(H(e),er(P,e),!e)){$(""),ea.filter(e=>"danger"===e.variant).length>0&&R(!0);let e=ea.filter(e=>"danger"!==e.variant).map(e=>e.id).filter(e=>void 0!==e);Z(e);let l=Object.keys(ee).flatMap(e=>ee[e]||[]),n=new Map;for(let e of l)n.set(e.id,e);let t=[...new Set(e)].map(e=>n.get(e)).filter(e=>void 0!==e);a&&a(t)}},[er,P,ea,a,ee]),eu=(0,g.useCallback)(()=>{R(!1)},[R]);return(0,_._)([" "],e=>{if(U){let l=document.querySelector(r.Z.activePickerOption(i.B.itemPickerRootId));if(l){let a=l.getAttribute("data-id"),n=[...en.values()].find(e=>e.id===a);if(n&&n.id){if(n.disabled)return;e.preventDefault(),e.stopPropagation();let l=n.id.toString();Z(e=>{let a=[...e],n=a.indexOf(l);return n>-1?a.splice(n,1):a.push(l),a})}}}},{triggerWhenInputElementHasFocus:!0,triggerWhenPortalIsActive:!0}),(0,n.jsx)(d.$,{anchorElement:u,title:L,items:en,selectedProjects:ea,groups:et,onOpenChange:eo,isDialogOpen:D,handleDialogClose:eu,insidePortal:c,onCancel:es,onSelectionChange:ei,triggerOpen:U,isLoading:k||A,onFilterChange:$,filterValue:B})}function N({repo:e,owner:l,...a}){let[t,i]=(0,g.useState)(!0),[r,o]=(0,g.useState)(0),[d,c]=(0,g.useState)(!1),[p,y]=(0,g.useState)(null),k=(0,m.jE)();(0,g.useEffect)(()=>{(async()=>{try{let a=await k.fetchQuery(T({owner:l,repo:e,query:""}));y(a),i(!1),c(!1)}catch{c(!0),i(!1)}})()},[r,l,k,e]);let f=(0,g.useRef)(null),{createFallbackComponent:h}=(0,u.j)({errorMessage:s.k.cantEditItems("projects"),anchorElement:e=>a.anchorElement(e,f),open:!0});return d?h(()=>o(e=>e+1)):(0,n.jsx)(L,{projectsData:p,owner:l,repo:e,isLoading:t,...a})}function P({anchorElement:e,triggerOpen:l,...a}){let[t,i]=(0,g.useState)(l),s=(0,g.useCallback)(()=>{t||i(!0)},[t]);return t?(0,n.jsx)(N,{triggerOpen:!0,anchorElement:l=>e(l),...a,pickerId:"list-header-projects-picker"}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(S.ak,{commands:{"item-pickers:open-projects":s}}),e({onClick:()=>{i(!0)},onKeyPress:e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),i(!0))}})]})}L.displayName="SelectPanelWrapper",N.displayName="ItemPickerFetcher",P.displayName="ProjectPicker"},66123(e,l,a){a.d(l,{$:()=>h,C:()=>b});var n=a(74848),t=a(23131),i=a(51159),s=a(15914),r=a(35973),o=a(35050),u=a(28294),d=a(38621),c=a(93607),m=a(50279),g=a(96540),p=a(39081);let y=({onClose:e,returnFocusRef:l})=>(0,n.jsx)(p.l,{"aria-label":s.k.projectItemsLimitReachedDialogLabel,title:s.k.projectItemsLimitReachedDialogTitle,onClose:e,returnFocusRef:l,width:"large",footerButtons:[{content:s.k.closeButton,onClick:e,buttonType:"primary"}],children:(0,n.jsx)("div",{children:s.k.projectItemsLimitReachedDialogMessage})});y.displayName="ProjectItemsLimitReachedDialog";let k=[],f=[];function h({items:e=k,groups:l=f,selectedProjects:a,isDialogOpen:o,handleDialogClose:d,filterValue:p,onCancel:h,onOpenChange:b,onFilterChange:F,anchorElement:I,onSelectionChange:S,insidePortal:_,isLoading:x,title:C,triggerOpen:v}){let j=(0,g.useCallback)(()=>{v||b(!0,"anchor-key-press")},[v,b]),T=(0,g.useRef)(null),K=e.length<=2?"auto":"large",L=(0,t.G7)("issues_react_select_panel_fullscreen_on_narrow"),N=(0,g.useMemo)(()=>(0,r.D)(_,T,K,L,v),[_,K,L,v]),P=(0,g.useMemo)(()=>0===e.length,[e.length]),E=(0,g.useMemo)(()=>{let n={renderAnchor:e=>I(e),anchorRef:T,placeholderText:s.k.filterProjects,items:e,selected:a,open:v||!1,onOpenChange:b,onCancel:h,onSelectedChange:S,filterValue:p,onFilterChange:F,showItemDividers:!0,overlayProps:{width:"medium",...N},loading:x,title:C??s.k.selectProjects,message:P?{title:"No projects were found",variant:"empty",body:"Please try a different search query."}:void 0};return l?.length>0&&e.length>0&&(n.groupMetadata=l),n},[N,I,p,e,l,x,h,F,b,S,v,a,P,C]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(u.ak,{commands:{"item-pickers:open-projects":j}}),(0,n.jsx)(m.g,{flags:{primer_react_select_panel_fullscreen_on_narrow:L},children:(0,n.jsx)(c.X,{"aria-label":"Project results","data-id":i.B.itemPickerRootId,"data-testid":i.B.itemPickerTestId,...E})}),o&&(0,n.jsx)(y,{onClose:d,returnFocusRef:T})]})}function b({firstSelectedProjectTitle:e,readonly:l,nested:a,anchorProps:t}){return(0,n.jsx)(o._,{anchorText:s.k.noProjects,sharedPickerMainValue:e,anchorProps:l?void 0:t,ariaLabel:s.k.selectProjects,readonly:l,nested:a,leadingIcon:d.TableIcon,hotKey:void 0})}h.displayName="ProjectPickerBase",b.displayName="DefaultProjectPickerAnchor"},83e3(e,l,a){a.d(l,{CZ:()=>b});var n,t,i,s,r=a(74848);let o={kind:"InlineDataFragment",name:"IssueSingleSelectFieldPickerOption"};o.hash="d8bcb73a6758269a0f127f7a03e396bc";let u={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"id"}],kind:"Fragment",metadata:null,name:"IssueSingleSelectFieldPickerFieldQuery",selections:[{alias:null,args:t=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"IssueFieldSingleSelectOption",kind:"LinkedField",name:"options",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"IssueSingleSelectFieldPickerOption",selections:s=[i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null}],args:null,argumentDefinitions:[]}],storageKey:null}],type:"IssueFieldSingleSelect",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"IssueSingleSelectFieldPickerFieldQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"IssueFieldSingleSelectOption",kind:"LinkedField",name:"options",plural:!0,selections:s,storageKey:null}],type:"IssueFieldSingleSelect",abstractKey:null},i],storageKey:null}]},params:{id:"c64e6ba36203e1baee1d8517134d7d4c",metadata:{},name:"IssueSingleSelectFieldPickerFieldQuery",operationKind:"query",text:null}};u.hash="0979e35fc8348ec832d8c8f2a2b59fec";var d=a(23131),c=a(15914),m=a(35973),g=a(86979),p=a(27910),y=a(62741),k=a(96540),f=a(18312),h=a(78571);function b({anchorElement:e,isLazy:l,shouldOpen:a=!1,...n}){return l&&!a?(0,r.jsx)(g.y,{anchorElement:(l,a)=>e(l,a),createChild:()=>(0,r.jsx)(F,{anchorElement:(l,a)=>e(l,a),...n})}):(0,r.jsx)(F,{anchorElement:(l,a)=>e(l,a),...n})}function F({fieldId:e,anchorElement:l,...a}){let n=(0,f.useRelayEnvironment)(),[t,i]=(0,k.useState)(!0),[s,o]=(0,k.useState)(0),[d,m]=(0,k.useState)(!1),[g,h]=(0,k.useState)([]);(0,k.useEffect)(()=>{(0,y.SD)({environment:n,query:u,variables:{id:e}}).subscribe({next:e=>{h(e.node?.options??[]),i(!1),m(!1)},error:()=>{m(!0),i(!1)}})},[n,s,e]);let{createFallbackComponent:b}=(0,p.j)({errorMessage:c.k.cantEditItems("fields"),anchorElement:l,open:!0});return d?b(()=>o(e=>e+1)):(0,r.jsx)(I,{fieldId:e,values:g,isLoading:t,anchorElement:l,...a})}function I({title:e=c.k.fieldSingleSelectHeader,width:l="medium",values:a,fieldName:n,selectedOption:t,onSelectionChange:i,onOpen:s,onClose:u,insidePortal:g,anchorElement:p,isLoading:y}){let[b,F]=(0,k.useState)(""),I=n?c.k.fieldSingleSelectHeaderWithName(n):e,S=a.flatMap(e=>e?[(0,f.readInlineData)(o,e)]:[]),_=(0,k.useMemo)(()=>b?S.filter(e=>e.name&&e.name.toLowerCase().indexOf(b.toLowerCase())>=0):S,[S,b]),x=(0,k.useCallback)(e=>{F(e)},[]),C=(0,k.useCallback)(e=>e.id||"",[]),v=(0,k.useCallback)(e=>({id:e.id,text:e.name,description:e.description||"",descriptionVariant:"block",leadingVisual:(0,h.z)(e.color),source:e}),[]),j=(0,k.useMemo)(()=>{if(t){let e=S.find(e=>e.name===t);if(e)return[e]}return[]},[S,t]),T=(0,k.useRef)(null),K=(0,k.useMemo)(()=>0===_.length,[_]),L=(0,d.G7)("issues_react_select_panel_fullscreen_on_narrow");return(0,r.jsx)(m.O,{loading:y,items:_,initialSelectedItems:j,filterItems:x,title:I,getItemKey:C,convertToItemProps:v,placeholderText:"Filter option",selectionVariant:"single",onSelectionChange:e=>i(e&&e.length>0&&e[0]?e[0]:null),onOpen:s,onClose:u,renderAnchor:e=>p(e,T),insidePortal:g,height:"large",width:l,resultListAriaLabel:"Issue field option results",triggerOpen:!0,selectPanelRef:T,improvedNoMatchAccessibility:K,noMatchMessage:K?{title:"No option found",variant:"empty",body:"Try searching with a different query for results."}:void 0,responsiveOnNarrow:L})}b.displayName="IssueSingleSelectFieldPicker",F.displayName="IssueSingleSelectFieldPickerFetcher",I.displayName="ItemPickerWrapper"},69727(e,l,a){a.d(l,{D:()=>es});var n,t,i,s,r,o,u,d,c,m,g,p,y,k,f,h,b,F,I,S,_,x,C,v,j,T,K,L,N,P,E=a(74848),w=a(68521),A=a(38621),V=a(26108),D=a(96540),R=a(18312);let M=(n=[{defaultValue:null,kind:"LocalArgument",name:"ids"}],t=[{kind:"Variable",name:"ids",variableName:"ids"}],s={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"state",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"stateReason",storageKey:null},u={alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameWithOwner",storageKey:null}],storageKey:null},{fragment:{argumentDefinitions:n,kind:"Fragment",metadata:null,name:"IssuePickerSelectedIssuesQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"InlineFragment",selections:[i,s,r,o,u,d={alias:null,args:null,kind:"ScalarField",name:"databaseId",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"number",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"Issue",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"IssuePickerSelectedIssuesQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[g,i,{kind:"InlineFragment",selections:[s,r,o,u,d,c,m],type:"Issue",abstractKey:null}],storageKey:null}]},params:{id:"ab7e8eddc2f0411413899568c6f97ae4",metadata:{},name:"IssuePickerSelectedIssuesQuery",operationKind:"query",text:null}});M.hash="c4d195f7754769a3937a686385b27e39",({argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IssuePickerIssue",selections:[p={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"state",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"stateReason",storageKey:null},{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[p,{alias:null,args:null,kind:"ScalarField",name:"nameWithOwner",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"databaseId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"number",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"Issue",abstractKey:null}).hash="196c5dfa10bac249c09a7e5a825a3eb9";var O=a(15914),B=a(35973),$=a(27910),U=a(62741),H=a(56819);let q={fragment:{argumentDefinitions:[y={defaultValue:null,kind:"LocalArgument",name:"assignee"},k={defaultValue:null,kind:"LocalArgument",name:"author"},f={defaultValue:null,kind:"LocalArgument",name:"commenters"},h={defaultValue:10,kind:"LocalArgument",name:"first"},b={defaultValue:null,kind:"LocalArgument",name:"mentions"},F={defaultValue:null,kind:"LocalArgument",name:"other"},I={defaultValue:null,kind:"LocalArgument",name:"queryIsUrl"},S={defaultValue:null,kind:"LocalArgument",name:"resource"}],kind:"Fragment",metadata:null,name:"useIssueFilteringQuery",selections:[{args:null,kind:"FragmentSpread",name:"useIssueFilteringFragment"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[f,b,y,k,F,h,S,I],kind:"Operation",name:"useIssueFilteringQuery",selections:[{alias:"commenters",args:[_={kind:"Variable",name:"first",variableName:"first"},{kind:"Variable",name:"query",variableName:"commenters"},x={kind:"Literal",name:"type",value:"ISSUE"}],concreteType:"SearchResultItemConnection",kind:"LinkedField",name:"search",plural:!1,selections:j=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:v=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[C={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"state",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"stateReason",storageKey:null},{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[C,{alias:null,args:null,kind:"ScalarField",name:"nameWithOwner",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"databaseId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"number",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],type:"Issue",abstractKey:null},{kind:"InlineFragment",selections:[C],type:"Node",abstractKey:"__isNode"}],storageKey:null}],storageKey:null},{alias:"mentions",args:[_,{kind:"Variable",name:"query",variableName:"mentions"},x],concreteType:"SearchResultItemConnection",kind:"LinkedField",name:"search",plural:!1,selections:j,storageKey:null},{alias:"assignee",args:[_,{kind:"Variable",name:"query",variableName:"assignee"},x],concreteType:"SearchResultItemConnection",kind:"LinkedField",name:"search",plural:!1,selections:j,storageKey:null},{alias:"author",args:[_,{kind:"Variable",name:"query",variableName:"author"},x],concreteType:"SearchResultItemConnection",kind:"LinkedField",name:"search",plural:!1,selections:j,storageKey:null},{alias:"other",args:[_,{kind:"Variable",name:"query",variableName:"other"},x],concreteType:"SearchResultItemConnection",kind:"LinkedField",name:"search",plural:!1,selections:j,storageKey:null},{condition:"queryIsUrl",kind:"Condition",passingValue:!0,selections:[{alias:null,args:[{kind:"Variable",name:"url",variableName:"resource"}],concreteType:null,kind:"LinkedField",name:"resource",plural:!1,selections:v,storageKey:null}]}]},params:{id:"fd3a643214580202448e306c6dc70a42",metadata:{},name:"useIssueFilteringQuery",operationKind:"query",text:null}};q.hash="7805f5acc9dd7dba8b26177327542d38";let G={argumentDefinitions:[{kind:"RootArgument",name:"assignee"},{kind:"RootArgument",name:"author"},{kind:"RootArgument",name:"commenters"},{kind:"RootArgument",name:"first"},{kind:"RootArgument",name:"mentions"},{kind:"RootArgument",name:"other"},{kind:"RootArgument",name:"queryIsUrl"},{kind:"RootArgument",name:"resource"}],kind:"Fragment",metadata:null,name:"useIssueFilteringFragment",selections:[{alias:"commenters",args:[T={kind:"Variable",name:"first",variableName:"first"},{kind:"Variable",name:"query",variableName:"commenters"},K={kind:"Literal",name:"type",value:"ISSUE"}],concreteType:"SearchResultItemConnection",kind:"LinkedField",name:"search",plural:!1,selections:P=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:N=[{kind:"InlineFragment",selections:[L={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"state",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"stateReason",storageKey:null},{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[L,{alias:null,args:null,kind:"ScalarField",name:"nameWithOwner",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"databaseId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"number",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"Issue",abstractKey:null}],storageKey:null}],storageKey:null},{alias:"mentions",args:[T,{kind:"Variable",name:"query",variableName:"mentions"},K],concreteType:"SearchResultItemConnection",kind:"LinkedField",name:"search",plural:!1,selections:P,storageKey:null},{alias:"assignee",args:[T,{kind:"Variable",name:"query",variableName:"assignee"},K],concreteType:"SearchResultItemConnection",kind:"LinkedField",name:"search",plural:!1,selections:P,storageKey:null},{alias:"author",args:[T,{kind:"Variable",name:"query",variableName:"author"},K],concreteType:"SearchResultItemConnection",kind:"LinkedField",name:"search",plural:!1,selections:P,storageKey:null},{alias:"other",args:[T,{kind:"Variable",name:"query",variableName:"other"},K],concreteType:"SearchResultItemConnection",kind:"LinkedField",name:"search",plural:!1,selections:P,storageKey:null},{condition:"queryIsUrl",kind:"Condition",passingValue:!0,selections:[{alias:null,args:[{kind:"Variable",name:"url",variableName:"resource"}],concreteType:null,kind:"LinkedField",name:"resource",plural:!1,selections:N,storageKey:null}]}],type:"Query",abstractKey:null};G.hash="c49d3e50365f7955d0d96fe3eaaa3d66";var W=a(10147),z=a(16606),Q=a(64887);let Y=e=>e.id,X={groupId:"selected",header:{title:"Selected"}},Z={groupId:"suggestions",header:{title:"Suggestions",variant:"filled"}},J=[X,Z],ee=new Map;function el({onIssueSelection:e,selectedIssueIds:l,hiddenIssueIds:a,owner:n,repositoryNameWithOwner:t,pickerId:i,isLoading:s=!1,...r}){let[o,u]=(0,D.useState)(""),{isLoading:d,isError:c,items:m}=((e,l="",a,n)=>{let t=(0,R.useRelayEnvironment)(),[i,s]=(0,D.useState)(!0),[r,o]=(0,D.useState)(!1),[u,d]=(0,D.useState)(null),c=(0,D.useRef)(null),m=(0,D.useCallback)(e=>{s(!0),c.current?.unsubscribe(),c.current=(0,U.SD)({environment:t,query:q,variables:(0,z.A2)(l,e,a)}).subscribe({next:e=>{d(e??null),s(!1),o(!1)},error:()=>{o(!0),s(!1)}})},[t,l,a]),g=(0,Q.d)(e=>m(e),W.t.pickerDebounceTime);(0,D.useEffect)(()=>{g(e)},[g,e]),(0,D.useEffect)(()=>()=>{c.current?.unsubscribe()},[]);let p=(0,R.useFragment)(G,u);return{isLoading:i,isError:r,items:(0,D.useMemo)(()=>{if(!p)return new Map;{if(p.resource?.__typename==="Issue")return new Map([[p.resource?.id,p.resource]]);let e=[...p.commenters?.nodes||[],...p.mentions?.nodes||[],...p.assignee?.nodes||[],...p.author?.nodes||[],...p.other?.nodes||[]].filter(e=>e?.__typename==="Issue"),l=new Map;for(let a of e)n?.some(e=>e===a.id)||l.set(a.id,a);return l}},[n,p])}})(o,n,t,a),{createFallbackComponent:g}=(0,$.j)({errorMessage:O.k.cantEditItems("issues"),anchorElement:r.anchorElement,open:!0});return c?g(()=>{}):(0,E.jsx)(ea,{items:s?ee:m,isLoading:d||s,...r,selectedIssueIds:l,hiddenIssueIds:a,filter:o,setFilter:u,onIssueSelection:e,repositoryNameWithOwner:t,pickerId:i})}function ea({items:e,onIssueSelection:l,anchorElement:a,setFilter:n,isLoading:t,title:i,onClose:s,triggerOpen:r,selectedIssueIds:o,filter:u,pickerId:d,selectionVariant:c="single",subtitle:m,className:g,notice:p,insidePortal:y,responsiveOnNarrow:k}){let f=(0,R.useRelayEnvironment)(),[h,b]=(0,D.useState)({}),F=(0,D.useCallback)(e=>new Promise((l,a)=>{(0,U.SD)({environment:f,query:M,variables:{ids:e}}).subscribe({next:e=>{null!==e&&l(e)},error:e=>{a(e)}})}),[f]);for(let[l,a]of((0,D.useEffect)(()=>{if(!t&&o){let a=[];for(let l of o){let n=e.get(l);n?b(e=>({...e,[l]:n})):h?.[l]||a.push(l)}a.length>0&&l(a)}async function l(e){let{nodes:l=[]}=await F(e);for(let e of l)e&&"Issue"===e.__typename&&b(l=>({...l,[e.id]:e}))}},[t,e]),Object.entries(h)))e.set(l,a);let I=Array.from(e.values()),S=I.findIndex(e=>e.number===Number(u));if(S>0){let[e]=I.splice(S,1);e&&I.unshift(e)}let _=(0,D.useCallback)(e=>{var l,a;let n,t,{icon:i,fill:s}=(l=e.state,a=e.stateReason,n=A.IssueOpenedIcon,t="open.fg","CLOSED"===l&&(n="COMPLETED"===a?A.IssueClosedIcon:A.SkipIcon,t="COMPLETED"===a?"done.fg":"muted.fg"),{icon:n,fill:t}),r=o?.includes(e.id);return{id:e.id,text:e.title,sx:{wordBreak:"break-word"},source:e,groupId:r?X.groupId:Z.groupId,leadingVisual:()=>(0,E.jsx)(H.m4,{icon:i,sx:{path:{fill:s}}}),trailingVisual:()=>(0,E.jsx)("span",{className:"IssuePicker-module__issueNumberText__Yoag4C5",children:`#${e.number}`}),description:r?e.repository.nameWithOwner:void 0,descriptionVariant:"block"}},[o]),x=(0,D.useRef)(null),C=(0,D.useMemo)(()=>o?.length?J:J.filter(e=>e.groupId!==X.groupId),[o]),v=(0,D.useMemo)(()=>0===I.length,[I.length]);return(0,E.jsx)(B.O,{loading:t,items:I,initialSelectedItems:o||[],filterItems:n,title:i||O.k.issueHeader,getItemKey:Y,convertToItemProps:_,placeholderText:"Search issues",selectionVariant:c,onSelectionChange:l,renderAnchor:a,height:"large",width:"medium",maxVisibleItems:-1,resultListAriaLabel:"issue results",selectPanelRef:x,triggerOpen:r,groups:C,onClose:s,pickerId:d,subtitle:m,className:g,notice:p,suppressNoMatchItem:!0,improvedNoMatchAccessibility:v,noMatchMessage:v?{title:"No issues found",body:"Try changing your search term or selecting a different repository.",variant:"empty"}:void 0,insidePortal:y,responsiveOnNarrow:k})}el.displayName="IssuePicker",ea.displayName="IssuePickerInternal";var en=a(38603);let et="repository-picker",ei="issue-picker";function es({pickerType:e=null,anchorElement:l,onPickerTypeChange:a,selectedIssueIds:n,hiddenIssueIds:t,...i}){let[s,r]=(0,D.useState)(e);return((0,D.useEffect)(()=>{r(e)},[e]),(0,D.useEffect)(()=>{e!==s&&a?.(s)},[a,s]),null===s)?l({onClick:()=>r("Issue")}):(0,E.jsx)(er,{anchorElement:l,selectedIssueIds:n,hiddenIssueIds:t,...i,setPickerType:r,pickerType:s})}function er({anchorElement:e,onIssueSelection:l,organization:a,defaultRepositoryNameWithOwner:n,pickerType:t,setPickerType:i,selectedIssueIds:s,hiddenIssueIds:r,issuePickerProps:o,repositoryPickerProps:u}){let[d,c]=(0,D.useState)(n),[m,g]=(0,D.useState)(void 0),[p,y]=(0,D.useState)(null),{updateOpenState:k}=(0,w.t)(),f=(0,R.useRelayEnvironment)(),h=(0,D.useCallback)(()=>{i("Repository")},[i]),b=(0,D.useCallback)(()=>{i(e=>"Issue"===e?"Issue":null),k(et,!1)},[i,k]),F=(0,D.useCallback)(()=>{i(e=>"Repository"===e?"Repository":null),k(ei,!1)},[i,k]),I=(0,D.useCallback)(e=>{e?.nameWithOwner&&c(e?.nameWithOwner),(d||e?.nameWithOwner)&&i("Issue")},[i,d]);switch((0,D.useEffect)(()=>{(async()=>{y(await (0,en.St)(f,{first:5,hasIssuesEnabled:!0}))})()},[]),(0,D.useEffect)(()=>{!async function(){let[e,l]=d.split("/");if(e&&l){let a=await (0,en.tZ)(f,e,l);null!=a&&g(a)}}()},[d,f]),t){case"Repository":if(!p)return null;return(0,E.jsx)(en.f0,{initialRepository:m,preventDefault:!0,onSelect:I,organization:a,topRepositories:p,anchorElement:e,onClose:b,triggerOpen:!0,title:"Select a repository",pickerId:et,...u});case"Issue":return(0,E.jsx)(el,{selectedIssueIds:s,hiddenIssueIds:r,onIssueSelection:e=>{l(e),i(null)},anchorElement:e,repositoryNameWithOwner:d,onClose:F,title:(0,E.jsxs)("div",{className:"RepositoryAndIssuePicker-module__BackToRepositorySelectionButton__pOSHR9Y",children:[(0,E.jsx)(V.K,{icon:A.ArrowLeftIcon,variant:"invisible","data-testid":"back-to-repo-selection-button","aria-label":"Back to repository selection",tooltipDirection:"n",onClick:h}),(0,E.jsx)("span",{children:d})]}),triggerOpen:!0,pickerId:ei,...o})}}es.displayName="RepositoryAndIssuePicker",er.displayName="RepositoryAndIssuePickerInternal"},3602(e,l,a){a.d(l,{j:()=>x});let n=(t=[{defaultValue:null,kind:"LocalArgument",name:"input"}],i=[{kind:"Variable",name:"input",variableName:"input"}],s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},r=[{kind:"Literal",name:"first",value:20}],o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"profileResourcePath",storageKey:null},m={alias:null,args:[{kind:"Literal",name:"size",value:64}],kind:"ScalarField",name:"avatarUrl",storageKey:"avatarUrl(size:64)"},k={kind:"InlineFragment",selections:[g={alias:null,args:null,kind:"ScalarField",name:"isCopilot",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"isAgent",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],type:"Bot",abstractKey:null},f={alias:null,args:null,concreteType:"Bot",kind:"LinkedField",name:"assignee",plural:!1,selections:[s,u,m,g,p,y],storageKey:null},b={kind:"InlineFragment",selections:h=[u],type:"User",abstractKey:null},F={kind:"InlineFragment",selections:h,type:"Bot",abstractKey:null},I={alias:null,args:[{kind:"Literal",name:"first",value:10}],concreteType:"UserConnection",kind:"LinkedField",name:"participants",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nodes",plural:!0,selections:[s,u,d,c,m],storageKey:null}],storageKey:"participants(first:10)"},S={kind:"InlineFragment",selections:[s],type:"Node",abstractKey:"__isNode"},{fragment:{argumentDefinitions:t,kind:"Fragment",metadata:null,name:"replaceActorsForAssignableRelayMutation",selections:[{alias:null,args:i,concreteType:"ReplaceActorsForAssignablePayload",kind:"LinkedField",name:"replaceActorsForAssignable",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"assignable",plural:!1,selections:[{kind:"InlineFragment",selections:[s,{alias:null,args:r,concreteType:"AssigneeConnection",kind:"LinkedField",name:"assignedActors",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"InlineFragment",selections:[o,s,u,d,c,m,k],type:"Actor",abstractKey:"__isActor"}],storageKey:null}],storageKey:"assignedActors(first:20)"},{alias:null,args:null,concreteType:"AgentAssignment",kind:"LinkedField",name:"agentAssignments",plural:!0,selections:[f,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"assigner",plural:!1,selections:[b,F],storageKey:null}],storageKey:null},I],type:"Issue",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"replaceActorsForAssignableRelayMutation",selections:[{alias:null,args:i,concreteType:"ReplaceActorsForAssignablePayload",kind:"LinkedField",name:"replaceActorsForAssignable",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"assignable",plural:!1,selections:[o,{kind:"InlineFragment",selections:[s,{alias:null,args:r,concreteType:"AssigneeConnection",kind:"LinkedField",name:"assignedActors",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[o,{kind:"InlineFragment",selections:[s,u,d,c,m,k],type:"Actor",abstractKey:"__isActor"},S],storageKey:null}],storageKey:"assignedActors(first:20)"},{alias:null,args:null,concreteType:"AgentAssignment",kind:"LinkedField",name:"agentAssignments",plural:!0,selections:[f,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"assigner",plural:!1,selections:[o,b,F,s],storageKey:null}],storageKey:null},I],type:"Issue",abstractKey:null},S],storageKey:null}],storageKey:null}]},params:{id:"19abeaf03278462751d1cf808a3f00f5",metadata:{},name:"replaceActorsForAssignableRelayMutation",operationKind:"mutation",text:null}});n.hash="d05c4cf0e56aab9d1e1f20b1139e9c19";var t,i,s,r,o,u,d,c,m,g,p,y,k,f,h,b,F,I,S,_=a(18312);function x({environment:e,input:{issueId:l,assignedActors:a,participants:t},clientMutationId:i,onError:s,onCompleted:r}){let o=[...new Map([...a,...t].filter(e=>!e.isCopilot&&!e.isAgent).map(e=>[e.login,e])).values()].slice(0,5);return(0,_.commitMutation)(e,{mutation:n,variables:{input:{assignableId:l,actorIds:a.map(e=>e.id),clientMutationId:i}},optimisticResponse:{replaceActorsForAssignable:{assignable:{__typename:"Issue",__isNode:"Issue",id:l,assignedActors:{nodes:a.map(e=>"Bot"===e.__typename?{__typename:"Bot",__isActor:"Bot",__isNode:"Bot",id:e.id,login:e.login,name:e.name??null,avatarUrl:e.avatarUrl,profileResourcePath:e.profileResourcePath,displayName:e.displayName??"",isCopilot:e.isCopilot||!1,isAgent:e.isAgent||!1}:{__typename:"User",__isActor:"User",__isNode:"User",id:e.id,login:e.login,name:e.name??null,avatarUrl:e.avatarUrl,profileResourcePath:e.profileResourcePath})},agentAssignments:[],participants:{nodes:o.map(e=>({id:e.id,login:e.login,name:e.name??null,avatarUrl:e.avatarUrl,profileResourcePath:e.profileResourcePath}))}}}},onError:e=>s&&s(e),onCompleted:e=>r&&r(e)})}},90690(e,l,a){a.d(l,{N:()=>d});let n={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"setLabelsForLabelableRelayMutation",selections:[{alias:null,args:i=[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"SetLabelsForLabelablePayload",kind:"LinkedField",name:"setLabelsForLabelable",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"labelableRecord",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"LabelsSectionAssignedLabels"}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"setLabelsForLabelableRelayMutation",selections:[{alias:null,args:i,concreteType:"SetLabelsForLabelablePayload",kind:"LinkedField",name:"setLabelsForLabelable",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"labelableRecord",plural:!1,selections:[s={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"TypeDiscriminator",abstractKey:"__isLabelable"},{alias:null,args:r=[{kind:"Literal",name:"first",value:100},{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"NAME"}}],concreteType:"LabelConnection",kind:"LinkedField",name:"labels",plural:!1,selections:[{alias:null,args:null,concreteType:"LabelEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"node",plural:!1,selections:[o={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},s],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:'labels(first:100,orderBy:{"direction":"ASC","field":"NAME"})'},{alias:null,args:r,filters:["orderBy"],handle:"connection",key:"MetadataSectionAssignedLabels_labels",kind:"LinkedHandle",name:"labels"},{kind:"InlineFragment",selections:[o],type:"Node",abstractKey:"__isNode"}],storageKey:null}],storageKey:null}]},params:{id:"ce4e6c29b102596a5c1e65c7da660aef",metadata:{},name:"setLabelsForLabelableRelayMutation",operationKind:"mutation",text:null}};n.hash="f0eeb3a48d277042e107513ab4ed8f62";var t,i,s,r,o,u=a(18312);function d({environment:e,input:{labelableId:l,labels:a,labelableTypeName:t},clientMutationId:i,onError:s,onCompleted:r}){return(0,u.commitMutation)(e,{mutation:n,variables:{input:{labelableId:l,labelIds:a.map(e=>e.id),clientMutationId:i}},optimisticResponse:{setLabelsForLabelable:{labelableRecord:{__typename:t,__isNode:"true",__isLabelable:"true",id:l,labels:{pageInfo:{hasNextPage:!1,endCursor:null},edges:a.map(e=>({cursor:e.id,node:{__typename:"Label",id:e.id,name:e.name,nameHTML:e.nameHTML,color:e.color,url:e.url,description:e.description}}))}}}},onError:e=>s&&s(e),onCompleted:e=>r&&r(e)})}},57771(e,l,a){a.d(l,{_:()=>h});let n=(t=[{defaultValue:null,kind:"LocalArgument",name:"input"}],i=[{kind:"Variable",name:"input",variableName:"input"}],o={alias:null,args:null,kind:"ScalarField",name:"isEnabled",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},g={kind:"InlineFragment",selections:m=[s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dataType",storageKey:null}],type:"IssueFieldText",abstractKey:null},{fragment:{argumentDefinitions:t,kind:"Fragment",metadata:null,name:"updateIssueIssueTypeSharedMutation",selections:[{alias:null,args:i,concreteType:"UpdateIssueIssueTypePayload",kind:"LinkedField",name:"updateIssueIssueType",plural:!1,selections:[{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"issue",plural:!1,selections:[{alias:null,args:null,concreteType:"IssueType",kind:"LinkedField",name:"issueType",plural:!1,selections:[s,r,o,u,d,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"pinnedFields",plural:!0,selections:[c,g,p={kind:"InlineFragment",selections:m,type:"IssueFieldSingleSelect",abstractKey:null},y={kind:"InlineFragment",selections:m,type:"IssueFieldDate",abstractKey:null},k={kind:"InlineFragment",selections:m,type:"IssueFieldNumber",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"updateIssueIssueTypeSharedMutation",selections:[{alias:null,args:i,concreteType:"UpdateIssueIssueTypePayload",kind:"LinkedField",name:"updateIssueIssueType",plural:!1,selections:[{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"issue",plural:!1,selections:[{alias:null,args:null,concreteType:"IssueType",kind:"LinkedField",name:"issueType",plural:!1,selections:[s,r,o,u,d,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"pinnedFields",plural:!0,selections:[c,g,p,y,k,{kind:"InlineFragment",selections:[s],type:"Node",abstractKey:"__isNode"}],storageKey:null}],storageKey:null},s],storageKey:null}],storageKey:null}]},params:{id:"627a164ed640a00cd8e7321559a066d7",metadata:{},name:"updateIssueIssueTypeSharedMutation",operationKind:"mutation",text:null}});n.hash="76d56c8a5faaf2f8168ab652ced0278b";var t,i,s,r,o,u,d,c,m,g,p,y,k,f=a(18312);function h({environment:e,input:l,optimisticIssueType:a,onError:t,onCompleted:i}){return(0,f.commitMutation)(e,{mutation:n,variables:{input:l},optimisticResponse:void 0!==a?{updateIssueIssueType:{issue:{id:l.issueId,issueType:a?{id:a.id,name:a.name,description:a.description??null,color:a.color,isEnabled:a.isEnabled??!0,pinnedFields:(a.pinnedFields??[]).map(e=>"%other"===e.__typename?{__typename:"%other",__isNode:"%other",id:""}:{__typename:e.__typename,__isNode:e.__typename,id:e.id,name:e.name,dataType:e.dataType})}:null}}}:void 0,onError:e=>t&&t(e),onCompleted:e=>i&&i(e)})}},18839(e,l,a){a.d(l,{v:()=>o});let n={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"updateIssueMilestoneRelayMutation",selections:s=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"UpdateIssuePayload",kind:"LinkedField",name:"updateIssue",plural:!1,selections:[{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"issue",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"Milestone",kind:"LinkedField",name:"milestone",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dueOn",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"progressPercentage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closedAt",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"updateIssueMilestoneRelayMutation",selections:s},params:{id:"15f7936034547bc129d53f9c6b14fba9",metadata:{},name:"updateIssueMilestoneRelayMutation",operationKind:"mutation",text:null}};n.hash="253dc6aa9f06016bb138f16bb1697b39";var t,i,s,r=a(18312);function o({environment:e,input:{issueId:l,milestone:a,clientMutationId:t},onError:i,onCompleted:s}){return(0,r.commitMutation)(e,{mutation:n,variables:{input:{id:l,milestoneId:a?a.id:null,clientMutationId:t}},optimisticResponse:{updateIssue:{issue:{id:l,milestone:a?{id:a.id,title:a.title,closed:a.closed,dueOn:a.dueOn,progressPercentage:a.progressPercentage,url:a.url,closedAt:a.closedAt}:null}}},onError:e=>i&&i(e),onCompleted:e=>s&&s(e)})}},31722(e,l,a){a.d(l,{Z:()=>I});let n=(t=[{defaultValue:null,kind:"LocalArgument",name:"connections"},{defaultValue:null,kind:"LocalArgument",name:"input"}],i=[{kind:"Variable",name:"input",variableName:"input"}],r={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"closed",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"number",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"viewerCanUpdate",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"hasReachedItemsLimit",storageKey:null},g=[{kind:"Literal",name:"name",value:"Status"}],p={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"optionId",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},b={kind:"InlineFragment",selections:[s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Node",abstractKey:"__isNode"},{fragment:{argumentDefinitions:t,kind:"Fragment",metadata:null,name:"updateIssueProjectsRelayMutation",selections:[{alias:null,args:i,concreteType:"AddProjectV2ItemByIdPayload",kind:"LinkedField",name:"addProjectV2ItemById",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2ItemEdge",kind:"LinkedField",name:"projectEdge",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2Item",kind:"LinkedField",name:"node",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"ProjectItemSection"},{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"project",plural:!1,selections:[s,r,o,u,d,c,m],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"updateIssueProjectsRelayMutation",selections:[{alias:null,args:i,concreteType:"AddProjectV2ItemByIdPayload",kind:"LinkedField",name:"addProjectV2ItemById",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2ItemEdge",kind:"LinkedField",name:"projectEdge",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2Item",kind:"LinkedField",name:"node",plural:!1,selections:[s,{alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null},{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"project",plural:!1,selections:[s,r,{alias:null,args:null,kind:"ScalarField",name:"template",storageKey:null},c,d,{alias:null,args:g,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[p,{kind:"InlineFragment",selections:[s,y,{alias:null,args:null,concreteType:"ProjectV2SingleSelectFieldOption",kind:"LinkedField",name:"options",plural:!0,selections:[s,k,y,f,h,{alias:null,args:null,kind:"ScalarField",name:"descriptionHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null}],storageKey:null}],type:"ProjectV2SingleSelectField",abstractKey:null},b],storageKey:'field(name:"Status")'},o,u,m],storageKey:null},{alias:null,args:g,concreteType:null,kind:"LinkedField",name:"fieldValueByName",plural:!1,selections:[p,{kind:"InlineFragment",selections:[s,k,y,f,h],type:"ProjectV2ItemFieldSingleSelectValue",abstractKey:null},b],storageKey:'fieldValueByName(name:"Status")'}],storageKey:null}],storageKey:null},{alias:null,args:null,filters:null,handle:"appendEdge",key:"",kind:"LinkedHandle",name:"projectEdge",handleArgs:[{kind:"Variable",name:"connections",variableName:"connections"}]}],storageKey:null}]},params:{id:"b9a688cdfd72ea1627e9e0c19b9b67f1",metadata:{},name:"updateIssueProjectsRelayMutation",operationKind:"mutation",text:null}});n.hash="dbe2b16a81c1878c83467c6e3a8a0a7c";var t,i,s,r,o,u,d,c,m,g,p,y,k,f,h,b,F=a(18312);function I({environment:e,connectionId:l,projectId:a,issueId:t,clientMutationId:i,onError:s,onCompleted:r}){if(a)return(0,F.commitMutation)(e,{mutation:n,variables:{input:{contentId:t,projectId:a,clientMutationId:i},connections:l?[l]:[]},onError:e=>s&&s(e),onCompleted:e=>r&&r(e)})}},39680(e,l,a){a.d(l,{a:()=>I});var n=a(74848),t=a(63432),i=a(26108),s=a(38621),r=a(47990),o=a(96540),u=a(38267);let d="16px",c="20px",m="24px",g="32px",p="medium",y=({as:e="span",onClick:l,onFocus:a,tabIndex:n=-1,interactive:t})=>t??!!(a||l||n>-1||["a","button"].includes(e)),k={fontSize:1,height:g,lineHeight:g,px:3,py:0},f={small:{fontSize:0,height:d,lineHeight:d,px:1,py:0},medium:{fontSize:0,height:c,lineHeight:c,px:2,py:0},large:{fontSize:0,height:m,lineHeight:m,px:2,py:0},extralarge:k,xlarge:k},h=u.Ay.span.withConfig({displayName:"TokenBase__StyledTokenBase",componentId:"sc-87aa48ee-0"})(["align-items:center;border-radius:999px;cursor:",";display:inline-flex;font-weight:",";font-family:inherit;text-decoration:none;max-width:100%;position:relative;white-space:nowrap;",""],e=>y(e)?"pointer":"auto",(0,t.yB)("fontWeights.bold"),t.sx);function b({ref:e,text:l,onRemove:a,id:t,as:i="span",sx:s,size:r=p,...o}){return(0,n.jsx)(h,{"aria-label":a?`${l}, press backspace or delete to remove`:void 0,id:t?.toString(),as:i,sx:{...f[r],...s},...o,ref:e})}b.displayName="TokenBase";let F=(0,u.Ay)("span").withConfig({displayName:"TokenTextContainer",componentId:"sc-d53f425e-0"})(["flex-grow:1;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;background:transparent;border:0;font:inherit;margin:0;padding:0;width:auto;-webkit-font-smoothing:inherit;-moz-osx-font-smoothing:inherit;color:currentColor;text-decoration:none;&:is(a,button,[tabIndex='0']){cursor:pointer;&::after{content:'';position:absolute;left:0;top:0;right:0;bottom:0;}}"]),I=({ref:e,as:l,fontWeight:a,fillColor:u="#999",onRemove:d,id:c,isSelected:m,text:g,size:k=p,hideRemoveButton:f,href:h,onDelete:I,...S})=>{let{colorScheme:_}=(0,t.DP)(),x=(0,o.useMemo)(()=>_?.includes("high_contrast"),[_]),C=(0,o.useMemo)(()=>({"--lightness-threshold":"0.453","--border-threshold":"0.96","--background-alpha":"0.20","--border-alpha":"max(0, min(calc((var(--perceived-lightness) - var(--border-threshold)) * 100), 1))",background:"rgb(var(--label-r), var(--label-g), var(--label-b))",color:"hsl(0deg, 0%, calc(var(--lightness-switch) * 100%))",borderWidth:1,borderStyle:"solid",borderColor:"hsla(var(--label-h), calc(var(--label-s) * 1%), calc((var(--label-l) - 25) * 1%), var(--border-alpha))"}),[]),v=(0,o.useMemo)(()=>({"--lightness-threshold":"0.6","--background-alpha":"0.18","--border-alpha":x?"0.9":"0.3","--lighten-by":"calc(((var(--lightness-threshold) - var(--perceived-lightness)) * 100) * var(--lightness-switch))",borderWidth:1,borderStyle:"solid",background:"rgba(var(--label-r), var(--label-g), var(--label-b), var(--background-alpha))",color:"hsl(var(--label-h), calc(var(--label-s) * 1%), calc((var(--label-l) + var(--lighten-by)) * 1%))",borderColor:"hsla(var(--label-h), calc(var(--label-s) * 1%), calc((var(--label-l) + var(--lighten-by)) * 1%), var(--border-alpha))"}),[x]),j={as:l,href:h},T=y(S)&&!!d&&!f,K=(0,o.useMemo)(()=>{let[e,l,n]=(0,r.Du)(u),[t,i,s]=(0,r.BT)(u);return{"--label-r":String(e),"--label-g":String(l),"--label-b":String(n),"--label-h":String(Math.round(t)),"--label-s":String(Math.round(100*i)),"--label-l":String(Math.round(100*s)),"--perceived-lightness":"calc(((var(--label-r) * 0.2126) + (var(--label-g) * 0.7152) + (var(--label-b) * 0.0722)) / 255)","--lightness-switch":"max(0, min(calc((var(--perceived-lightness) - var(--lightness-threshold)) * -1000), 1))","--border-color":"var(--borderColor-muted, var(--color-border-subtle))",paddingRight:f||!d?void 0:0,position:"relative",minWidth:0,overflow:"hidden",..._?.includes("light")?C:v,...a?{fontWeight:a}:{},...m?{background:"light"===_?"hsl(var(--label-h), calc(var(--label-s) * 1%), calc((var(--label-l) - 5) * 1%))":v.background,":focus":{outline:"none"},":after":{content:'""',position:"absolute",zIndex:1,top:"-2px",right:"-2px",bottom:"-2px",left:"-2px",display:"block",pointerEvents:"none",boxShadow:`0 0 0 2px ${"light"===_?"rgb(var(--label-r), var(--label-g), var(--label-b))":"hsl(var(--label-h), calc(var(--label-s) * 1%), calc((var(--label-l) + var(--lighten-by)) * 1%))"}`,borderRadius:"999px"}}:{}}},[u,f,d,a,_,C,v,m]);return(0,n.jsxs)(b,{onRemove:d,id:c?.toString(),isSelected:m,text:g,size:k,sx:K,...!T?j:{},...S,ref:e,className:I?"LabelToken-module__labelTokenBase__DgxCZQw":void 0,children:[(0,n.jsx)(F,{...T?j:{},children:g}),I&&(0,n.jsx)(i.K,{onClick:e=>{e.stopPropagation(),e.preventDefault(),I()},variant:"invisible",icon:s.XIcon,size:"small","aria-label":"Remove label",className:"LabelToken-module__labelTokenDeleteButton__Whr5eRv"})]})};I.displayName="IssueLabelToken"},34477(e,l,a){a.d(l,{w:()=>c});var n=a(74848),t=a(39680),i=a(54279),s=a(83223),r=a(63432),o=a(32343),u=a(96540),d=a(23131);function c({labels:e,testId:l,onDelete:a,emptyText:c="No labels"}){let{sendAnalyticsEvent:m}=(0,o.s)(),g=(0,d.G7)("issues_report_sidebar_interactions"),p=(0,u.useMemo)(()=>0!==e.length&&e[0]?`${e[0].url.slice(0,e[0].url.lastIndexOf("/labels/"))}/issues`:"",[e]),y=(0,u.useCallback)(e=>`${p}?q=${encodeURIComponent(`state:open label:"${e.name}"`)}`,[p]);return(0,n.jsx)("div",{tabIndex:-1,"data-testid":l,className:"LabelsList-module__labelsListContainer___TPsWuD",children:e.length>0?e.sort((e,l)=>e.name===l.name?0:e.name>l.name?1:-1).map(e=>(0,n.jsx)(r.m_,{text:e.description??"",type:"description","aria-label":e.description??"",sx:{visibility:e.description?"visible":"hidden"},className:"LabelsList-module__labelDescriptionTooltip__djaHwZ8",children:(0,n.jsxs)(s.A,{href:y(e),muted:!0,"aria-describedby":`${e.id}-tooltip`,className:"LabelsList-module__labelLink__KTq4ATN",onClick:()=>{g&&m("analytics.click","ISSUE_SIDEBAR_LABEL_CLICK")},onContextMenu:()=>{g&&m("analytics.click","ISSUE_SIDEBAR_LABEL_RIGHT_CLICK")},children:[(0,n.jsx)(t.a,{text:(0,n.jsx)(i.JR,{html:e.nameHTML}),onDelete:a?()=>a(e.id):void 0,fillColor:`#${e.color}`,style:{overflow:"hidden",textOverflow:"ellipsis",cursor:"pointer",maxWidth:"100%"}},e.id),(0,n.jsx)("span",{className:"sr-only",id:`${e.id}-tooltip`,children:e.description??""})]},e.id)},e.id)):c})}c.displayName="LabelsList"},86085(e,l,a){a.d(l,{$J:()=>i,UI:()=>t,Ge:()=>n});function n(e){let l=i(e);if(Number.isNaN(l))return"This field must be a number";if(l<-0x7fffffff||l>0x7fffffff)return"This value must be between -2147483647 and 2147483647";let a=e.split(".")[1];if(a&&a.length>15)return"This floating point value is too precise"}function t(e){return new Blob([e]).size>1024?"This value is too long":void 0}function i(e){return Number(e.replace(/,/g,""))}},89182(e,l,a){a.d(l,{v:()=>r});var n=a(74848),t=a(16522),i=a(96540),s=a(22963);function r(e){let l,a=(0,t.c)(7),{login:r,profileName:o,isAgent:u}=e,d=(0,i.use)(s._);if(u){let e;return a[0]!==r?(e=(0,n.jsx)(n.Fragment,{children:r}),a[0]=r,a[1]=e):e=a[1],e}if("name_handle"===d&&o?.trim()){let e;return a[2]!==r||a[3]!==o?(e=(0,n.jsxs)(n.Fragment,{children:[o," (",r,")"]}),a[2]=r,a[3]=o,a[4]=e):e=a[4],e}return a[5]!==r?(l=(0,n.jsx)(n.Fragment,{children:r}),a[5]=r,a[6]=l):l=a[6],l}r.displayName="ProfileReference"},22963(e,l,a){a.d(l,{_:()=>i,z:()=>r});var n=a(74848),t=a(16522);let i=(0,a(96540).createContext)("handle");i.displayName="UserNameDisplayContext";let s={NAME_HANDLE:"name_handle",NAME_AND_HANDLE:"name_handle",HANDLE:"handle"};function r(e){let l,a=(0,t.c)(3),{value:r,children:o}=e,u=r&&s[r.toUpperCase()]||"handle";return a[0]!==o||a[1]!==u?(l=(0,n.jsx)(i,{value:u,children:o}),a[0]=o,a[1]=u,a[2]=l):l=a[2],l}r.displayName="UserNameDisplayContextProvider"},46951(e,l,a){a.d(l,{J:()=>t});var n=a(53462);let t=()=>{let e=(0,n.X)();return{currentUser:e&&e.current_user?e.current_user:null}}}}]);
//# sourceMappingURL=29904-8e9d3d248b6fdbf3-27549eb3fed8fc61.js.map