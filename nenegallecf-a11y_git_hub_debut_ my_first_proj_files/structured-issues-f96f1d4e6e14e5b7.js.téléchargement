performance.mark("js-parse-end:structured-issues-f96f1d4e6e14e5b7.js");
"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([["45540"],{70170(e,t,n){function r(e,t=0,{start:n=!0,middle:o=!0,once:a=!1}={}){let i,l=n,u=0,s=!1;function c(...r){if(s)return;let d=Date.now()-u;u=Date.now(),n&&o&&d>=t&&(l=!0),l?(l=!1,e.apply(this,r),a&&c.cancel()):(o&&d<t||!o)&&(clearTimeout(i),i=setTimeout(()=>{u=Date.now(),e.apply(this,r),a&&c.cancel()},o?t-d:t))}return c.cancel=()=>{clearTimeout(i),s=!0},c}function o(e,t=0,{start:n=!1,middle:a=!1,once:i=!1}={}){return r(e,t,{start:n,middle:a,once:i})}n.d(t,{n:()=>r,s:()=>o})},21744(e,t,n){function r(){if(!(this instanceof r))return new r;this.size=0,this.uid=0,this.selectors=[],this.selectorObjects={},this.indexes=Object.create(this.indexes),this.activeIndexes=[]}n.d(t,{h:()=>A,on:()=>E});var o,a=window.document.documentElement,i=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector;r.prototype.matchesSelector=function(e,t){return i.call(e,t)},r.prototype.querySelectorAll=function(e,t){return t.querySelectorAll(e)},r.prototype.indexes=[];var l=/^#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;r.prototype.indexes.push({name:"ID",selector:function(e){var t;if(t=e.match(l))return t[0].slice(1)},element:function(e){if(e.id)return[e.id]}});var u=/^\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;r.prototype.indexes.push({name:"CLASS",selector:function(e){var t;if(t=e.match(u))return t[0].slice(1)},element:function(e){var t=e.className;if(t){if("string"==typeof t)return t.split(/\s/);else if("object"==typeof t&&"baseVal"in t)return t.baseVal.split(/\s/)}}});var s=/^((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;r.prototype.indexes.push({name:"TAG",selector:function(e){var t;if(t=e.match(s))return t[0].toUpperCase()},element:function(e){return[e.nodeName.toUpperCase()]}}),r.prototype.indexes.default={name:"UNIVERSAL",selector:function(){return!0},element:function(){return[!0]}},o="function"==typeof window.Map?window.Map:function(){function e(){this.map={}}return e.prototype.get=function(e){return this.map[e+" "]},e.prototype.set=function(e,t){this.map[e+" "]=t},e}();var c=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g;function d(e,t){var n,r,o,a,i,l,u=(e=e.slice(0).concat(e.default)).length,s=t,d=[];do if(c.exec(""),(o=c.exec(s))&&(s=o[3],o[2]||!s)){for(n=0;n<u;n++)if(i=(l=e[n]).selector(o[1])){for(r=d.length,a=!1;r--;)if(d[r].index===l&&d[r].key===i){a=!0;break}a||d.push({index:l,key:i});break}}while(o);return d}function m(e,t){return e.id-t.id}r.prototype.logDefaultIndexUsed=function(){},r.prototype.add=function(e,t){var n,r,a,i,l,u,s,c,m=this.activeIndexes,f=this.selectors,p=this.selectorObjects;if("string"==typeof e){for(r=0,p[(n={id:this.uid++,selector:e,data:t}).id]=n,s=d(this.indexes,e);r<s.length;r++)i=(c=s[r]).key,(l=function(e,t){var n,r,o;for(n=0,r=e.length;n<r;n++)if(o=e[n],t.isPrototypeOf(o))return o}(m,a=c.index))||((l=Object.create(a)).map=new o,m.push(l)),a===this.indexes.default&&this.logDefaultIndexUsed(n),(u=l.map.get(i))||(u=[],l.map.set(i,u)),u.push(n);this.size++,f.push(e)}},r.prototype.remove=function(e,t){if("string"==typeof e){var n,r,o,a,i,l,u,s,c=this.activeIndexes,m=this.selectors=[],f=this.selectorObjects,p={},h=1==arguments.length;for(o=0,n=d(this.indexes,e);o<n.length;o++)for(r=n[o],a=c.length;a--;)if(l=c[a],r.index.isPrototypeOf(l)){if(u=l.map.get(r.key))for(i=u.length;i--;)(s=u[i]).selector===e&&(h||s.data===t)&&(u.splice(i,1),p[s.id]=!0);break}for(o in p)delete f[o],this.size--;for(o in f)m.push(f[o].selector)}},r.prototype.queryAll=function(e){if(!this.selectors.length)return[];var t,n,r,o,a,i,l,u,s={},c=[],d=this.querySelectorAll(this.selectors.join(", "),e);for(t=0,r=d.length;t<r;t++)for(n=0,a=d[t],o=(i=this.matches(a)).length;n<o;n++)s[(u=i[n]).id]?l=s[u.id]:(l={id:u.id,selector:u.selector,data:u.data,elements:[]},s[u.id]=l,c.push(l)),l.elements.push(a);return c.sort(m)},r.prototype.matches=function(e){if(!e)return[];var t,n,r,o,a,i,l,u,s,c,d,f=this.activeIndexes,p={},h=[];for(t=0,o=f.length;t<o;t++)if(u=(l=f[t]).element(e)){for(n=0,a=u.length;n<a;n++)if(s=l.map.get(u[n]))for(r=0,i=s.length;r<i;r++)!p[d=(c=s[r]).id]&&this.matchesSelector(e,c.selector)&&(p[d]=!0,h.push(c))}return h.sort(m)};var f={},p={},h=new WeakMap,v=new WeakMap,g=new WeakMap,y=Object.getOwnPropertyDescriptor(Event.prototype,"currentTarget");function b(e,t,n){var r=e[t];return e[t]=function(){return n.apply(e,arguments),r.apply(e,arguments)},e}function q(){h.set(this,!0)}function j(){h.set(this,!0),v.set(this,!0)}function S(){return g.get(this)||null}function w(e,t){y&&Object.defineProperty(e,"currentTarget",{configurable:!0,enumerable:!0,get:t||y.get})}function k(e){if(function(e){try{return e.eventPhase,!0}catch(e){return!1}}(e)){var t=(1===e.eventPhase?p:f)[e.type];if(t){var n=function(e,t,n){var r=[],o=t;do{if(1!==o.nodeType)break;var a=e.matches(o);if(a.length){var i={node:o,observers:a};n?r.unshift(i):r.push(i)}}while(o=o.parentElement);return r}(t,e.target,1===e.eventPhase);if(n.length){b(e,"stopPropagation",q),b(e,"stopImmediatePropagation",j),w(e,S);for(var r=0,o=n.length;r<o&&!h.get(e);r++){var a=n[r];g.set(e,a.node);for(var i=0,l=a.observers.length;i<l&&!v.get(e);i++)a.observers[i].data.call(a.node,e)}g.delete(e),w(e)}}}}function E(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=!!o.capture,i=a?p:f,l=i[e];l||(l=new r,i[e]=l,document.addEventListener(e,k,a)),l.add(t,n)}function A(e,t,n){return e.dispatchEvent(new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n}))}},37111(e,t,n){n.d(t,{t:()=>u});var r=n(24863),o=n(21403),a=n(21744);function i(e){let t=e.getAttribute("data-required-value"),n=e.getAttribute("data-required-value-prefix");if(e.value===t)e.setCustomValidity("");else{let r=t;n&&(r=n+r),e.setCustomValidity(r)}}(0,r.eC)("[data-required-value]",function(e){i(e.currentTarget)}),(0,a.on)("change","[data-required-value]",function(e){let t=e.currentTarget;i(t),u(t.form)}),(0,r.eC)("[data-required-trimmed]",function(e){let t=e.currentTarget;""===t.value.trim()?t.setCustomValidity(t.getAttribute("data-required-trimmed")):t.setCustomValidity("")}),(0,a.on)("change","[data-required-trimmed]",function(e){let t=e.currentTarget;""===t.value.trim()?t.setCustomValidity(t.getAttribute("data-required-trimmed")):t.setCustomValidity(""),u(t.form)}),(0,r.uE)("input[pattern],input[required],textarea[required],input[data-required-change],textarea[data-required-change],input[data-required-value],textarea[data-required-value]",e=>{let t=e.checkValidity();function n(){let n=e.checkValidity();n!==t&&e.form&&u(e.form),t=n}e.addEventListener("input",n),e.addEventListener("blur",function t(){e.removeEventListener("input",n),e.removeEventListener("blur",t)})});let l=new WeakMap;function u(e){let t=e.checkValidity();for(let n of e.querySelectorAll("button[data-disable-invalid]"))n.disabled=!t}(0,o.lB)("button[data-disable-invalid]",{constructor:HTMLButtonElement,initialize(e){let t=e.form;t&&(l.get(t)||(t.addEventListener("change",()=>u(t)),l.set(t,!0)),e.disabled=!t.checkValidity())}}),(0,o.lB)("input[data-required-change], textarea[data-required-change]",function(e){let t="radio"===e.type&&e.form?e.form.elements.namedItem(e.name).value:null;function n(n){let r=e.form;if(n&&"radio"===e.type&&r&&t)for(let n of r.elements.namedItem(e.name))n instanceof HTMLInputElement&&n.setCustomValidity(e.value===t?"unchanged":"");else e.setCustomValidity(e.value===(t||e.defaultValue)?"unchanged":"")}e.addEventListener("input",n),e.addEventListener("change",n),n(),e.form&&u(e.form)}),document.addEventListener("reset",function(e){if(e.target instanceof HTMLFormElement){let t=e.target;setTimeout(()=>u(t))}})},11467(e,t,n){var r=n(21403);function o(e){let t=e.closest(".form-group");if(t){let e=t.querySelectorAll(".js-structured-issue-multi-select-option[aria-checked='true']"),n=t?.querySelector(".js-structured-issue-multi-select-summary-button > span[data-menu-button]");if(n){let t=[];for(let n of e){let e=n.querySelector("input");e&&t.push(e.value)}n.textContent=t.join(", ")}}}function a(e){if("true"!==e.getAttribute("data-required"))return;let t=e.closest(".form-group");if(t){let n=t.querySelectorAll(".js-structured-issue-multi-select-option[data-required='true']");for(let t of n){let r=t.querySelector("input");r&&("true"===e.getAttribute("aria-checked")?r.removeAttribute("required"):Array.from(n).every(e=>"true"!==e.getAttribute("aria-checked"))&&r.setAttribute("required","required"))}}}(0,r.lB)(".js-structured-issue-multi-select-option[aria-checked='true']",{add:e=>{var t;o(t=e),a(t)},remove:e=>{var t;o(t=e),a(t)}});var i=n(21744),l=n(24863),u=n(37111);function s(e){let t=e.closest(".form-group-body");if(!t)return;let n=t.querySelector(".js-structured-issue-textarea-expander");n&&(n.value=e.value)}(0,i.on)("focusin",".js-structured-issue-textarea-expander",function({currentTarget:e}){(function(){for(let e of document.querySelectorAll(".js-structured-issue-textarea-expander"))e.hidden=!1})(),function(e){let t;(t=document.querySelector(".js-preview-panel"))&&t.classList.contains("border-bottom")&&t.classList.remove("border-bottom");let n=document.querySelector(".js-wysiwyg-container"),r=e.closest(".form-group-body");if(!r||!n)return;let o=r.querySelector(".js-wysiwyg-target");if(o){o.appendChild(n),n.hidden=!1;let t=r.querySelector(".comment-form-textarea, .CommentBox-input");t.value=e.value;let a=n.querySelector("[data-comment-box-placeholder]");a?a.textContent=e.placeholder:t.placeholder=e.placeholder,e.hidden=!0,r.querySelector(".js-write-tab").click(),t.focus()}}(e)}),(0,l.eC)(".comment-form-textarea",function({currentTarget:e}){s(e);let t=document.querySelector(".new_issue");t&&(0,u.t)(t)}),(0,l.eC)(".js-comment-field",function({currentTarget:e}){s(e)}),(0,i.on)("change",".js-comment-field",function({currentTarget:e}){s(e);let t=document.querySelector(".new_issue");t&&(0,u.t)(t)});var c=n(70170),d=n(65691),m=n(33455);let f=null;async function p(){let e=document.querySelector(".js-quick-pull-new-branch-name"),t=e.value,n=e.getAttribute("data-generated-branch"),r=document.querySelector(".js-quick-pull-normalization-info"),o=new FormData;o.append("ref",t);let a=e.getAttribute("data-check-url"),i=e.parentElement.querySelector(".js-data-check-url-csrf");f?.abort();let{signal:l}=f=new AbortController;try{let l=await fetch(a,{mode:"same-origin",method:"POST",body:o,headers:{Accept:"application/json","Scoped-CSRF-Token":i.value,...(0,m.kt)()}});if(l.ok){let o=await l.json();if(t!==e.value)return;let a=o.normalized_ref;r.innerHTML=null==o.message_html?"":o.message_html,a||(r.querySelector("code").textContent=n)}}catch{}l.aborted||e.value}let h=(0,c.s)(p,200);function v(){return document.querySelectorAll(".js-template-editor").length>0}function g(){return document.querySelectorAll(".js-template-form.is-loading").length>0?"loading":document.querySelectorAll(".js-template-form.is-errored").length>0?"error":"ok"}function y(){let e=document.querySelector(".js-commit-templates-form"),t=e.querySelector(".js-blob-submit"),n=document.querySelector(".js-template-commit-form-error-message"),r=document.querySelector(".js-template-commit-form-loading-message");switch(g()){case"loading":n.classList.add("d-none"),r.classList.remove("d-none"),e.setAttribute("disabled","disabled"),t.setAttribute("disabled","disabled");break;case"error":n.classList.remove("d-none"),r.classList.add("d-none"),e.setAttribute("disabled","disabled"),t.setAttribute("disabled","disabled");break;default:n.classList.add("d-none"),r.classList.add("d-none"),e.removeAttribute("disabled"),t.removeAttribute("disabled")}}async function b(e){e.classList.add("is-loading"),y();let t=e.querySelector('[name="filename"]').value,n=e.querySelector('[name="old_filename"]').value,r={};for(let e of document.querySelectorAll(".js-template-form")){let t=e.querySelector('[name="filename"]').value;for(let[n,o]of(r[t]={},new FormData(e).entries()))r[t][n]=o.toString()}let o=new FormData(e);o.append("current",t),o.append("templates",JSON.stringify(r));let a=await fetch(e.action,{method:"POST",body:o,headers:{Accept:"application/json",...(0,m.kt)()}});if(!a.ok)return;let i=await a.json(),l=(0,d.B)(document,i.html);e.closest(".js-template-preview").replaceWith(l);let u=document.querySelector(".js-hidden-template-fields"),s=u.querySelector(`[data-filename="${n}"]`);if(s instanceof HTMLInputElement)s.value=i.markdown,s.setAttribute("data-filename",i.filename),s.name=`templates[][${i.filename}]`;else{let e=document.createElement("input");e.type="hidden",e.name=`templates[][${i.filename}]`,e.setAttribute("data-filename",i.filename),e.value=i.markdown,u.append(e)}e.classList.remove("is-loading"),y()}function q(){for(let e of document.querySelectorAll(".js-template-form"))b(e)}(0,r.lB)(".js-template-form .js-issue-labels",{add(e){let t=e.closest(".js-issue-template-labels-container");if(!t)return;let n=t.querySelector(".js-issue-template-labels");for(let t of(n.value="",e.children)){let e=t.getAttribute("data-name");e&&!n.value.includes(e)&&(""===n.value?n.value=e:n.value=`${n.value}, ${e}`)}}}),(0,r.lB)(".js-template-form .js-issue-assignees",{add(e){let t=e.closest(".js-issue-template-assignees-container").querySelector(".js-issue-template-assignees");for(let n of(t.value="",e.children)){let e=n.querySelector("span");if(e){let n=e.getAttribute("data-assignee-name");n&&!t.value.includes(n)&&(""===t.value?t.value=n:t.value=`${t.value}, ${n}`)}}}}),(0,i.on)("change",".js-quick-pull-choice-option",function(e){if(!v())return;let t=e.currentTarget;document.querySelector(".js-quick-pull-new-branch-name").toggleAttribute("required","quick-pull"===t.value)}),(0,l.eC)(".js-quick-pull-new-branch-name",function(e){if(!v())return;let t=e.target.value;document.querySelector(".js-quick-pull-target-branch").value=t,t.length&&h()}),(0,l.eC)(".js-synced-template-input",function(e){let t=e.target,n=t.getAttribute("data-sync");if(!n)return;let r=t.closest(".js-sync-container"),o=r.querySelectorAll(`[data-sync-with="${n}"]`),a=t.value;if(""===a.trim()){for(let e of o){let t=e.getAttribute("data-sync-blank");if(t){e.textContent="";let n=document.createElement("span");n.className="color-fg-muted",n.textContent=t,e.appendChild(n)}}return}for(let e of o)e.textContent=t.value;"name"===n&&(r.querySelector(".js-sync-filename").value=`${a.replace(/[^\p{Letter}\p{Mark}\p{Number}\p{Connector_Punctuation}\p{Emoji}]/gu,"-")}.md`.toLowerCase())}),(0,i.on)("submit",".js-template-form",function(e){e.preventDefault(),b(e.currentTarget)}),(0,i.on)("click",".js-toggle-template-commit",function(){let e=document.querySelector(".js-template-commit-pane");e.classList.toggle("d-none"),e.classList.contains("d-none")||q()}),(0,i.on)("submit",".js-commit-templates-form",function(e){"ok"!==g()&&e.preventDefault(),y()}),(0,i.on)("click",".js-refresh-template-content",async function(e){let t=e.currentTarget,n=t.closest(".js-template-form"),r=n.querySelector(".js-template-content-preview");r.innerHTML='<span class="color-fg-muted">Loading preview...</span>';let o=n.querySelector(".js-template-content-textarea").value,a=t.getAttribute("data-markdown-preview-url");if(!a)return;let i=t.parentElement.querySelector(".js-data-markdown-preview-url-csrf"),l=new FormData;l.append("markdown",o);let u=await fetch(a,{mode:"same-origin",method:"POST",body:l,headers:{"Scoped-CSRF-Token":i.value,...(0,m.kt)()}});u.ok&&(r.innerHTML=await u.text())}),(0,i.on)("click",".js-custom-template-toggle",e=>{let t=e.target.closest(".js-template-preview"),n=!t.classList.contains("expand-preview");for(let e of document.querySelectorAll(".js-template-preview"))e.classList.remove("expand-preview");n?(t.classList.add("expand-preview"),t.scrollIntoView({behavior:"smooth",block:"start"})):b(t.querySelector(".js-template-form"))}),(0,i.on)("click",".js-remove-template-button",function(e){let t=e.target.closest(".js-template-preview"),n=t.getAttribute("data-filename"),r=document.querySelector(".js-hidden-template-fields"),o=document.querySelector(".js-toggle-template-commit"),a=r.querySelector(`[data-filename="${n}"]`);a&&a.remove(),o.disabled=!1,t.remove(),q()}),(0,i.on)("click",".js-edit-custom-field-header",function(e){e.target.closest(".js-custom-field-header").classList.toggle("section-focus"),document.querySelector(".js-toggle-template-commit").disabled=!1}),(0,i.on)("details-menu-selected",".js-add-template",function(e){let t=document.querySelector(".js-templates-container"),n=document.querySelector(".js-toggle-template-commit"),r=e.detail.relatedTarget.value;if(!r)return;n.disabled=!1;let o=document.getElementById(r);t.append(o.content.cloneNode(!0))},{capture:!0})},14845(e,t,n){n.d(t,{O:()=>i,S:()=>a});var r=n(95066);let o=r.cg?.document?.head?.querySelector('meta[name="release"]')?.content||"",a="X-GitHub-Client-Version";function i(){return o}},33455(e,t,n){n.d(t,{jC:()=>l,kt:()=>a,tV:()=>i});var r=n(14845),o=n(62159);function a(e){let t={"X-Requested-With":"XMLHttpRequest",...(0,o.wE)(e)};return{...t,[r.S]:(0,r.O)()}}function i(e,t){for(let[n,r]of Object.entries(a(t)))e.set(n,r)}function l(e){return{"X-GitHub-App-Type":e}}},62159(e,t,n){n.d(t,{$r:()=>i,M1:()=>l,li:()=>o,pS:()=>s,wE:()=>u});var r=n(95066);let o="X-Fetch-Nonce",a=new Set;function i(e){a.add(e)}function l(){return a.values().next().value||""}function u(e){let t={};return void 0!==e&&(t["X-Fetch-Nonce-To-Validate"]=e),void 0===e?t[o]=l():a.has(e)?t[o]=e:t[o]=Array.from(a).join(","),t}function s(){let e=r.XC?.head?.querySelector('meta[name="fetch-nonce"]')?.content||"";e&&i(e)}},24863(e,t,n){n.d(t,{Ff:()=>u,eC:()=>s,uE:()=>l});var r=n(6986);let o=!1,a=new r.A;function i(e){let t=e.target;if(t instanceof HTMLElement&&t.nodeType!==Node.DOCUMENT_NODE)for(let e of a.matches(t))e.data.call(null,t)}function l(e,t){o||(o=!0,document.addEventListener("focus",i,!0)),a.add(e,t),document.activeElement instanceof HTMLElement&&document.activeElement.matches(e)&&t(document.activeElement)}function u(e,t,n){function r(t){let o=t.currentTarget;o&&(o.removeEventListener(e,n),o.removeEventListener("blur",r))}l(t,function(t){t.addEventListener(e,n),t.addEventListener("blur",r)})}function s(e,t){function n(e){let{currentTarget:r}=e;r&&(r.removeEventListener("input",t),r.removeEventListener("blur",n))}l(e,function(e){e.addEventListener("input",t),e.addEventListener("blur",n)})}},65691(e,t,n){n.d(t,{B:()=>r});function r(e,t){let n=e.createElement("template");return n.innerHTML=t,e.importNode(n.content,!0)}},95066(e,t,n){n.d(t,{Kn:()=>i,XC:()=>o,cg:()=>a,fV:()=>l});let r="u">typeof FORCE_SERVER_ENV&&FORCE_SERVER_ENV,o="u"<typeof document||r?void 0:document,a="u"<typeof window||r?void 0:window,i="u"<typeof history||r?void 0:history,l="u"<typeof location||r?{get pathname(){return(void 0)??""},get origin(){return(void 0)??""},get search(){return(void 0)??""},get hash(){return(void 0)??""},get href(){return(void 0)??""}}:location}},function(e){e.O(0,["96232"],function(){return e(e.s=11467)}),e.O()}]);
//# sourceMappingURL=structured-issues-f96f1d4e6e14e5b7-4beb11ac396bd469.js.map